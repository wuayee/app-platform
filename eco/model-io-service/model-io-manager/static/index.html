<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            padding: 20px;
        }
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-label {
            font-weight: bold;
        }
        .form-input {
            width: 95%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="form-container">
    <form id = "deploy">
	<div class="form-group">
		<label for="name" class="form-label"> 创建大模型服务</label>
	</div>
	</div>
    <div class="form-container">
        <div class="form-group">
            <label for="name" class="form-label">大模型服务名称:</label>
            <input type="text" id="name" class="form-input" placeholder="Enter the LLM Service Name">
        </div>
		<div class="form-group">
            <label for="des" class="form-label">描述:</label>
            <input type="text" id="des" class="form-input" placeholder="Enter the Descriptions of the LLM Service">
        </div>
        <div class="form-group">
            <label for="image_name" class="form-label">大模型容器镜像名称:</label>
            <input type="text" id="image_name" class="form-input" placeholder="Enter the LLM Container Image">
        </div>
        <div class="form-group">
            <label for="inference_accuracy" class="form-label">推理精度:</label>
            <input type="text" id="inference_accuracy" class="form-input" placeholder="Enter the inferrence accuracy">
        </div>
        <div class="form-group">
            <label for="replicas" class="form-label">大模型实例数:</label>
            <input type="text" id="replicas" class="form-input" placeholder="Enter LLM Replicas">
        </div>
        <div class="form-group">
            <label for="npus" class="form-label">单实例消耗的NPU数:</label>
            <input type="text" id="npus" class="form-input" placeholder="Enter the NPU cost">
        </div>
        <div class="form-group">
            <label for="node_port" class="form-label">模型服务端口号:</label>
            <input type="text" id="node_port" class="form-input" placeholder="Enter the LLM Service Port">
        </div>
    	    <div class="form-group">
            <input type="submit" value="部署模型" class="form-button">
        </div>
    </form>
    </div>
    <script>
        document.getElementById('deploy').addEventListener('submit', async (event) => {
            event.preventDefault();

            const des = document.getElementById('des').value;

            const data = {
	        name: null,
                des: null,
                image_name: null,
                inference_accuracy: null,
                replicas: 1,
                npus: 0,
                node_port: 30080
            };
            for (const key in data) {
               data[key] = document.getElementById(key).value;
            }

            try {
                const response = await fetch("/v1/start_up", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    const result = await response.json();
                    console.log('Response:', result);
                } else {
                    console.error('Request failed');
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
    </script>
</body>
</html>
