{"version":3,"file":"fit-elsa-react.js","sources":["../src/flow/jadeFlowPage.js","../src/components/jadeEvent.jsx","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react-jsx-runtime.development.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/client.js","../src/components/Header.jsx","../src/components/DefaultRoot.jsx","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/native.js","../node_modules/uuid/dist/esm-browser/v4.js","../src/components/jadeNode.jsx","../src/components/testDemo/TaskList.jsx","../src/components/testDemo/AddTask.jsx","../node_modules/@ant-design/icons/es/components/Context.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/classnames/index.js","../node_modules/@ctrl/tinycolor/dist/module/util.js","../node_modules/@ctrl/tinycolor/dist/module/conversion.js","../node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","../node_modules/@ctrl/tinycolor/dist/module/format-input.js","../node_modules/@ant-design/colors/es/generate.js","../node_modules/@ant-design/colors/es/index.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/rc-util/es/Dom/canUseDom.js","../node_modules/rc-util/es/Dom/contains.js","../node_modules/rc-util/es/Dom/dynamicCSS.js","../node_modules/rc-util/es/Dom/shadow.js","../node_modules/rc-util/es/warning.js","../node_modules/@ant-design/icons/es/utils.js","../node_modules/@ant-design/icons/es/components/IconBase.js","../node_modules/@ant-design/icons/es/components/twoTonePrimaryColor.js","../node_modules/@ant-design/icons/es/components/AntdIcon.js","../node_modules/@ant-design/icons-svg/es/asn/CloudSyncOutlined.js","../node_modules/@ant-design/icons/es/icons/CloudSyncOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/InfoCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/MinusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","../src/components/testDemo/taskNode.jsx","../src/components/asserts/icon-end.svg?react","../src/components/end/EndNodeHeader.jsx","../src/components/end/endNodeEnd.jsx","../src/components/common/JadeReferenceTreeSelect.jsx","../src/components/end/OutputVariableRow.jsx","../src/components/end/OutputVariable.jsx","../src/components/end/EndNodeWrapper.jsx","../src/components/end/endComponent.jsx","../src/components/asserts/icon-retrieval.svg?react","../src/components/common/JadeStopPropagationSelect.jsx","../src/components/retrieval/InputForm.jsx","../src/components/retrieval/KnowledgeConfig.jsx","../src/components/util/httpUtil.jsx","../src/components/common/JadeScrollSelect.jsx","../src/components/retrieval/KnowledgeForm.jsx","../src/components/common/JadeObservableTree.jsx","../src/components/retrieval/OutputForm.jsx","../src/components/retrieval/retrievalNodeState.jsx","../src/components/retrieval/retrievalComponent.jsx","../src/components/listenerDemo/listener1Node.jsx","../src/components/common/JadeObservableInput.jsx","../src/components/listenerDemo/listener1Component.jsx","../src/components/listenerDemo/listener2Node.jsx","../src/components/listenerDemo/listener2Component.jsx","../src/components/listenerDemo/listener3Node.jsx","../src/components/listenerDemo/listener3Component.jsx","../src/components/listenerDemo/jadeInputTreeNode.jsx","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/lib/has.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../src/components/common/JadeInputTree.jsx","../src/components/common/JadeCollapseInputTree.jsx","../src/components/listenerDemo/jadeInputTreeComponent.jsx","../src/components/replaceDemo/testNode.jsx","../src/components/replaceDemo/testComponent.jsx","../src/components/replaceDemo/replaceComponent.jsx","../src/components/asserts/icon-start.svg?react","../src/components/start/startNodeStart.jsx","../src/components/start/Name.jsx","../src/components/start/Type.jsx","../src/components/start/Description.jsx","../src/components/start/StartInputForm.jsx","../src/components/start/ByConversationTurn.jsx","../src/components/start/ByNumber.jsx","../src/components/start/ByTokenSize.jsx","../src/components/start/ByTime.jsx","../src/components/start/Customizing.jsx","../src/components/start/Memory.jsx","../src/components/start/StartFormWrapper.jsx","../src/components/start/startComponent.jsx","../src/components/asserts/icon-llm.svg?react","../src/components/llm/llmNodeState.jsx","../src/components/llm/ModelForm.jsx","../src/components/common/JadeInput.jsx","../src/components/llm/LlmOutput.jsx","../src/components/llm/SkillForm.jsx","../src/components/llm/LlmFormWrapper.jsx","../src/components/llm/llmComponent.jsx","../src/components/asserts/icon-manual-check.svg?react","../src/components/manualCheck/manualCheckNodeState.jsx","../src/components/manualCheck/OriginForm.jsx","../src/components/manualCheck/ManualCheckFormWrapper.jsx","../src/components/manualCheck/manualCheckComponent.jsx","../src/components/asserts/icon-fit-invoke.svg?react","../src/components/fitInvokeNode/fitInvokeNodeState.jsx","../src/components/common/InvokeInput.jsx","../src/components/fitInvokeNode/FitSelectGenericable.jsx","../src/components/fitInvokeNode/FitSelectTool.jsx","../src/components/fitInvokeNode/FitInvokeService.jsx","../src/components/common/InvokeOutput.jsx","../src/components/util/MethodMetaDataParser.js","../src/components/toolInvokeNode/toolInvokeComponent.jsx","../src/components/fitInvokeNode/fitInvokeComponent.jsx","../src/components/asserts/icon-api-invoke.svg?react","../src/components/toolInvokeNode/toolInvokeNodeState.jsx","../src/components/asserts/icon-condition.svg?react","../src/components/condition/conditionNodeCondition.jsx","../src/components/condition/IfForm.jsx","../src/components/condition/ElseForm.jsx","../src/components/common/ConnectorProvider.jsx","../src/components/condition/ConditionFormWrapper.jsx","../src/components/condition/conditionComponent.jsx","../src/flow/jadeFlowGraph.js","../src/flow/jadeFlowEntry.jsx"],"sourcesContent":["import {page, uuid} from \"@fit-elsa/elsa-core\";\n\n/**\n * jadeFlow的page.\n *\n * @param div dom元素.\n * @param graph 画布.\n * @param name 名称.\n * @param id 唯一标识.\n * @returns {(WorkerGlobalScope & Window) | Window}\n */\nexport const jadeFlowPage = (div, graph, name, id) => {\n    const self = page(div, graph, name, id);\n    self.type = \"jadeFlowPage\";\n    self.serializedFields.batchAdd(\"x\", \"y\", \"scaleX\", \"scaleY\");\n    self.namespace = \"jadeFlow\";\n    self.backgroundGrid = \"point\";\n    self.backgroundGridSize = 16;\n    self.backgroundGridMargin = 16;\n    self.backColor = \"#fbfbfc\";\n    self.focusBackColor = \"#fbfbfc\";\n    self.gridColor = \"#e1e1e3\";\n    self.disableContextMenu = true;\n    self.moveAble = true;\n    self.observableStore = ObservableStore();\n\n    /**\n     * @override\n     */\n    const onLoaded = self.onLoaded;\n    self.onLoaded = () => {\n        onLoaded.apply(self);\n        self.shapes.forEach(s => s.onPageLoaded && s.onPageLoaded());\n    };\n\n    /**\n     * 具有唯一性的图形以及线都无法拷贝.\n     *\n     * @override\n     */\n    const onCopy = self.onCopy;\n    self.onCopy = (shapes) => {\n        const copiableShapes = shapes.filter(s => !s.isUnique && !s.isTypeof(\"jadeEvent\"));\n        return onCopy.apply(self, [copiableShapes]);\n    };\n\n    /**\n     * 注册可被监听的id.\n     *\n     * @param nodeId 节点id.\n     * @param observableId 可被监听的id.\n     * @param value 当前的值.\n     * @param type 值的类型.\n     * @param parentId 父组件id.\n     */\n    self.registerObservable = (nodeId, observableId, value, type, parentId) => {\n        self.observableStore.add(nodeId, observableId, value, type, parentId);\n    };\n\n    /**\n     * 删除可被监听的id.若不传observableId，则删除该节点所有可被监听的id.\n     *\n     * @param nodeId 节点id.\n     * @param observableId 可被监听的id.\n     */\n    self.removeObservable = (nodeId, observableId = null) => {\n        self.observableStore.remove(nodeId, observableId);\n    };\n\n    /**\n     * 获取可被监听的树装列表.\n     *\n     * @param nodeId 节点id.\n     * @return {*[]}\n     */\n    self.getObservableList = (nodeId) => {\n        return self.observableStore.getObservableList(nodeId);\n    };\n\n    /**\n     * 监听某个observable.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @param observer 监听器.\n     */\n    self.observeTo = (nodeId, observableId, observer) => {\n        self.observableStore.addObserver(nodeId, observableId, observer);\n    };\n\n    /**\n     * 停止监听某个observable.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @param observer 监听器.\n     */\n    self.stopObserving = (nodeId, observableId, observer) => {\n        self.observableStore.removeObserver(nodeId, observableId, observer)\n    };\n\n    /**\n     * 获取observable.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @return {*|null}\n     */\n    self.getObservable = (nodeId, observableId) => {\n        return self.observableStore.getObservable(nodeId, observableId);\n    };\n\n    /**\n     * 清空时，同时清空observableStore.\n     *\n     * @override\n     */\n    const clear = self.clear;\n    self.clear = () => {\n        clear.apply(self);\n        self.observableStore.clear();\n    };\n\n    const initJadeId = (id) => {\n        if (id === null || id === undefined || id === \"\") {\n            // 变量为空，使用 uuid 创建\n            id = \"jade\" + uuid();\n        } else if (!id.startsWith(\"jade\")) {\n            // 如果 id 不以 \"jade\" 开头，则在前面添加 \"jade\"\n            id = \"jade\" + id;\n        }\n        return id;\n    };\n\n    /**\n     * 添加对图形创建的前后处理.\n     *\n     * @override\n     */\n    const createNew = self.createNew;\n    self.createNew = (shapeType, x, y, id, properties, parent, ignoreLimit, data) => {\n        shapeCreationHandler.filter(v => v.type === \"before\")\n                .forEach(v => v.handle(self, shapeType, x, y, properties, parent));\n        const shape = createNew.apply(self, [shapeType, x, y, id, properties, parent, ignoreLimit, data]);\n        shapeCreationHandler.filter(v => v.type === \"after\")\n                .forEach(v => v.handle(self, shape));\n        return shape;\n    }\n\n    /**\n     * 注册对图形创建的前后处理.\n     *\n     * @param handler 处理器.\n     */\n    const shapeCreationHandler = [];\n    self.registerShapeCreationHandler = (handler) => {\n        shapeCreationHandler.push(handler);\n    };\n\n    self.getMenuScript = () => [];\n\n    // 注册处理器，一次只能有一个开始和结束节点.\n    self.registerShapeCreationHandler({\n        type: \"before\",\n        handle: (page, shapeType) => {\n            if (shapeType === \"startNodeStart\") {\n                if (page.shapes.find(s => s.type === shapeType)) {\n                    throw new Error(\"最多只能有一个开始或结束节点.\");\n                }\n            }\n        }\n    });\n\n    self.registerShapeCreationHandler({\n        type: \"after\",\n        handle: (page, shape) => {\n            const jadeNodes = page.shapes.filter(s => s.isTypeof(\"jadeNode\"));\n            // 找到所有节点text\n            const textArray = jadeNodes.map(s => s.text);\n            if (!textArray.find(text => text === shape.text)) {\n                return;\n            }\n            const separator = \"_\";\n            if (jadeNodes.filter(s => s.type === shape.type).length <= 1) {\n                return;\n            }\n            let index = 1;\n            while (true) {\n                const lastSeparatorIndex = shape.text.lastIndexOf(separator);\n                const last = shape.text.substring(lastSeparatorIndex + 1, shape.text.length);\n                // 如果是数字，把数字+1  如果不是数字，拼接_1\n                if (!isNaN(parseInt(last))) {\n                    shape.text = shape.text.substring(0, lastSeparatorIndex) + separator + index;\n                } else {\n                    shape.text = shape.text + separator + index;\n                }\n                if (!textArray.includes(shape.text)) {\n                    return;\n                }\n                index++;\n            }\n        }\n    });\n\n    self.registerShapeCreationHandler({\n        type: \"after\",\n        handle: (page, shape) => {\n            if (shape.type !== \"jadeEvent\") {\n                shape.id = initJadeId(shape.id);\n            }\n        }\n    });\n\n    return self;\n};\n\n/**\n * 存储Observable.\n *\n * @return {{}}\n * @constructor\n */\nconst ObservableStore = () => {\n    const self = {};\n    self.store = new Map();\n\n    /**\n     * 添加.\n     *\n     * @param nodeId 节点id.\n     * @param observableId 可被监听的id.\n     * @param value 当前的值.\n     * @param type 值的类型.\n     * @param parentId 父组件id.\n     */\n    self.add = (nodeId, observableId, value, type, parentId) => {\n        const observableMap = getOrCreate(self.store, nodeId, () => new Map());\n        const observable = getOrCreate(observableMap, observableId, () => {\n            return {\n                observableId, value: null, type: null, observers: [], parentId\n            }\n        });\n        observable.value = value;\n        observable.type = type;\n        observable.parentId = parentId;\n        if (observable.observers.length > 0) {\n            observable.observers.forEach(observe => observe.observe({value: value, type: type}));\n        }\n    };\n\n    /**\n     * 删除.\n     *\n     * @param nodeId 节点id.\n     * @param observableId 可被监听的id.\n     */\n    self.remove = (nodeId, observableId = null) => {\n        if (observableId) {\n            const observableMap = self.store.get(nodeId);\n            if (observableMap) {\n                if (observableId) {\n                    observableMap.delete(observableId);\n                    if (observableMap.size === 0) {\n                        self.store.delete(nodeId);\n                    }\n                }\n            }\n        } else {\n            self.store.delete(nodeId);\n        }\n    };\n\n    /**\n     * 添加监听器.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @param observer 监听器.\n     */\n    self.addObserver = (nodeId, observableId, observer) => {\n        const observableMap = getOrCreate(self.store, nodeId, () => new Map());\n        const observable = getOrCreate(observableMap, observableId, () => {\n            return {\n                observableId, value: null, observers: []\n            }\n        });\n        observable.observers.push(observer);\n    };\n\n    /**\n     * 删除监听器.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @param observer 监听器.\n     */\n    self.removeObserver = (nodeId, observableId, observer) => {\n        const observableMap = self.store.get(nodeId);\n        if (!observableMap) {\n            return;\n        }\n        const observable = observableMap.get(observableId);\n        if (!observable) {\n            return\n        }\n        const index = observable.observers.findIndex(o => o === observer);\n        if (index !== -1) {\n            observable.observers.splice(index, 1);\n        }\n    };\n\n    const getOrCreate = (map, key, supplier) => {\n        let value = map.get(key);\n        if (!value) {\n            value = supplier();\n            map.set(key, value);\n        }\n        return value;\n    };\n\n    /**\n     * 获取可被监听的列表.\n     *\n     * @param nodeId 节点id.\n     * @return {*[]}\n     */\n    self.getObservableList = (nodeId) => {\n        const observableMap = self.store.get(nodeId);\n        if (!observableMap) {\n            return [];\n        }\n\n        return Array.from(observableMap.values()).map(o => {\n            return {nodeId, observableId: o.observableId, parentId: o.parentId, value: o.value, type: o.type};\n        });\n    };\n\n    /**\n     * 获取单个observable.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @return {*|null}\n     */\n    self.getObservable = (nodeId, observableId) => {\n        const observableMap = self.store.get(nodeId);\n        return observableMap ? observableMap.get(observableId) : null;\n    };\n\n    /**\n     * 清空.\n     */\n    self.clear = () => {\n        self.store.clear();\n    };\n\n    return self;\n};","import {isPointInRect, line, LINEMODE} from '@fit-elsa/elsa-core';\n\n/**\n * jade连线对象.\n *\n * @override\n */\nlet jadeEvent = (id, x, y, width, height, parent, drawer) => {\n    let self = line(id, x, y, width, height, parent, drawer);\n    self.type = \"jadeEvent\";\n    self.borderWidth = 1;\n    self.beginArrow = false;\n    self.endArrow = true;\n    self.lineMode = LINEMODE.AUTO_CURVE;\n    self.borderColor = \"#B1B1B7\";\n    self.mouseInBorderColor = \"#B1B1B7\";\n    self.allowSwitchLineMode = false;\n\n    /**\n     * 保证曲线的位置在shape的下方\n     *\n     * @override\n     */\n    const getIndex = self.getIndex;\n    self.getIndex = () => {\n        let index = getIndex.call(self);\n        self.index = index - 200;\n        return self.index;\n    };\n\n    /**\n     * 当页面加载完成之后，如果存在toShape，需要获取toShape的对象，\n     * 在release的时候方便调用其offConnect方法.\n     */\n    self.onPageLoaded = () => {\n        if (self.toShape) {\n            self.currentToShape = self.page.getShapeById(self.toShape);\n        }\n    };\n\n    /**\n     * @override\n     */\n    const initConnectors = self.initConnectors;\n    self.initConnectors = () => {\n        initConnectors.call(self);\n\n        // 不展示起始连接点.\n        self.fromConnector.visible = false;\n        // 结束连接点透明\n        self.toConnector.direction.color = \"transparent\";\n        self.toConnector.strokeStyle = \"transparent\";\n\n        /**\n         * @override\n         */\n        const toRelease = self.toConnector.release;\n        self.toConnector.release = position => {\n            const fromShape = self.fromShape;\n            const fromShapeConnector = self.fromShapeConnector;\n\n            // 当前的线条连接的两个connector是否已经被占用了\n            function isConnectorPairUsed() {\n                return self.page.shapes.filter(s => s.type === \"jadeEvent\").count(s => s.fromShape === fromShape\n                    && s.toShape === self.connectingShape.id\n                    && s.fromShapeConnector === fromShapeConnector\n                    && s.toShapeConnector === self.connectingShape.linkingConnector) > 1;\n            }\n\n            // 正式release之前，先保存release之前的toShape.\n            self.isFocused = false;\n            toRelease.call(self.toConnector, position);\n            if (isConnectorPairUsed()) {\n                self.remove();\n            } else {\n                if (self.toShape === \"\") {\n                    self.currentToShape && self.currentToShape.offConnect();\n                    self.remove();\n                } else {\n                    // 在每一次release时，记录当前正连接的toShape.\n                    const toShape = self.getToShape();\n                    toShape.onConnect();\n                    self.currentToShape = toShape;\n                }\n            }\n        };\n        self.toConnector.radius = 4;\n\n        /**\n         * resize不再通过delta计算，否则会导致线被移出linking图形时，产生不跟手的效果.\n         *\n         * @override\n         */\n        self.toConnector.moving = (deltaX, deltaY, x, y) => {\n            let value = self.page.disableReact;\n            self.page.disableReact = true;\n            const from = self.from();\n            self.resize(x - from.x, y - from.y);\n            self.shapeLinking(self.to().x, self.to().y);\n            self.toMoving = true;\n            self.page.disableReact = value;\n            self.toConnector.afterMoving();\n        };\n\n        /**\n         * @override\n         */\n        const afterMoving = self.toConnector.afterMoving;\n        self.toConnector.afterMoving = () => {\n            if (self.connectingShape && self.connectingShape.linkingConnector) {\n                self.definedToConnector = self.connectingShape.linkingConnector.direction.key;\n                self.toShape = self.connectingShape.id;\n            } else {\n                self.definedToConnector = \"\";\n                self.toShape = \"\";\n            }\n            afterMoving.apply(self.toConnector);\n        };\n    };\n\n    /**\n     * @override\n     */\n    const remove = self.remove;\n    self.remove = (source) => {\n        const toShape = self.getToShape();\n        const removed = remove.apply(self, [source]);\n        toShape && toShape.offConnect();\n        return removed;\n    };\n\n    /**\n     * 同时连接开始和结束节点.\n     *\n     * @param fromShapeId 开始节点id.\n     * @param fromConnector 开始节点的connector.\n     * @param toShapeId 结束节点的id.\n     * @param toShapeConnector 结束节点的connector.\n     */\n    self.connect = (fromShapeId, fromConnector, toShapeId, toShapeConnector) => {\n        self.fromShape = fromShapeId;\n        self.definedFromConnector = fromConnector;\n        self.toShape = toShapeId;\n        self.definedToConnector = toShapeConnector;\n        self.follow();\n    };\n\n    /**\n     * 只要鼠标进入到图形中，即视为可连接.\n     *\n     * @override\n     */\n    self.validateLinking = (shape, x, y) => {\n        return isPointInRect({x, y}, shape.getBound());\n    };\n\n    /**\n     * @override\n     */\n    self.shapeLinking = (x, y) => {\n        if (!self.linkAble) {\n            return;\n        }\n        const connectingShape = self.page.find(x, y, s => s.allowLink && self.validateLinking(s, x, y));\n        self.shapeDelinking(connectingShape);\n        self.connectingShape = connectingShape;\n        if (self.connectingShape && self.connectingShape !== self.page) {\n            self.connectingShape.linking = true;\n\n            // 找到距离最近的可被连接的connector.\n            self.connectingShape.linkingConnector = self.connectingShape.getClosestConnector(x, y, c => c.connectable && c.allowToLink);\n            self.connectingShape.render();\n        }\n    };\n\n    /**\n     * @override\n     */\n    self.needGetToConnector = () => {\n        return self.getToShape();\n    };\n\n    return self;\n};\n\nexport {jadeEvent};","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React, {useEffect, useRef, useState} from \"react\";\nimport {Button, Dropdown, Form, Input} from \"antd\";\nimport \"./headerStyle.css\";\n\n/**\n * 头部.\n *\n * @param shape 图形.\n * @return {JSX.Element}\n * @constructor\n */\nexport const Header = ({shape}) => {\n    const [edit, setEdit] = useState(false);\n    const inputRef = useRef(null);\n    const [endNodeCount, setEndNodeCount] = useState(0);\n\n    useEffect(() => {\n        inputRef.current && inputRef.current.focus({\n            cursor: 'end'\n        });\n    });\n\n    useEffect(() => {\n        // 节点数量变化\n        shape.page.addEventListener(\"TOOL_MENU_CHANGE\", (value) => {\n            if (shape.type === \"endNodeEnd\") {\n                setEndNodeCount(value[0])\n            }\n        });\n    }, []);\n\n    const onInputBlur = () => {\n        if (inputRef.current.input.value === \"\") {\n            return;\n        }\n        shape.text = inputRef.current.input.value;\n        setEdit(false);\n    };\n\n    /**\n     * menu点击事件.\n     *\n     * @param e 事件对象.\n     */\n    const onMenuClick = (e) => {\n        const m = shape.getToolMenus().find(t => t.key === e.key);\n        m.action(setEdit);\n    };\n\n    /**\n     * 获取文本组件，处于编辑态时，需要能修改标题；否则只展示标题.\n     *\n     * @return {JSX.Element}\n     */\n    const getTitle = () => {\n        if (edit) {\n            return (<>\n                <Form.Item name=\"title\" rules={[{required: true, message: \"请输入名称\"}]} initialValue={shape.text}>\n                    <Input onBlur={(e) => onInputBlur(e)}\n                           ref={inputRef}\n                           placeholder=\"请输入名称\"\n                           style={{height: \"24px\", borderColor: shape.focusBorderColor}}/>\n                </Form.Item>\n            </>);\n        } else {\n            return <p style={{margin: 0}}><span>{shape.text}</span></p>;\n        }\n    };\n\n    /**\n     * 展示菜单.\n     *\n     * @return {JSX.Element}\n     */\n    const showMenus = () => {\n        if (shape.getToolMenus().length > 0) {\n            const menus = shape.getToolMenus().map(t => {\n                return {key: t.key, label: t.label};\n            });\n            return (<>\n                <div>\n                    <Dropdown menu={{items: menus, onClick: (e) => onMenuClick(e)}} placement=\"bottomRight\">\n                        <Button type=\"text\" size=\"small\" style={{\n                            margin: 0,\n                            padding: 0,\n                            width: \"28px\",\n                            height: \"28px\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\"\n                        }}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"\n                                 viewBox=\"0 0 16 16\">\n                                <path fill=\"#1C1D23\" fillOpacity=\"0.8\"\n                                      d=\"M3.667 7.833a1.167 1.167 0 1 1-2.334 0 1.167 1.167 0 0 1 2.334 0ZM9.15 7.833a1.167 1.167 0 1 1-2.333 0 1.167 1.167 0 0 1 2.333 0ZM14.667 7.833a1.167 1.167 0 1 1-2.334 0 1.167 1.167 0 0 1 2.334 0Z\"></path>\n                            </svg>\n                        </Button>\n                    </Dropdown>\n                </div>\n            </>);\n        }\n        return <></>;\n    };\n\n    return (<>\n        <div className=\"react-node-header\">\n            <div className=\"react-node-toolbar\" style={{alignItems: \"center\"}}>\n                <div style={{display: \"flex\", alignItems: \"center\"}}>\n                    {shape.getHeaderIcon()}\n                </div>\n                <div className=\"react-node-toolbar-name\">\n                    {getTitle()}\n                </div>\n                {showMenus()}\n            </div>\n            <span className=\"react-node-header-description\">{shape.description}</span>\n        </div>\n    </>);\n};","import React, {createContext, useContext, useEffect, useReducer} from \"react\";\nimport {Header} from \"@/components/Header.jsx\";\nimport \"./contentStyle.css\";\nimport {Form} from \"antd\";\n\nconst DataContext = createContext(null);\nconst ShapeContext = createContext(null);\nconst DispatchContext = createContext(null);\nconst FormContext = createContext(null);\n\n/**\n * 默认根节点，作为其他所有组件的容器.\n *\n * @param shape 图形.\n * @param component 待加载组件.\n * @return {JSX.Element}\n * @constructor\n */\nexport const DefaultRoot = ({shape, component}) => {\n    const [data, dispatch] = useReducer(component.reducers, component.getJadeConfig());\n    const id = \"react-root-\" + shape.id;\n    const [form] = Form.useForm();\n\n    /**\n     * 用于图形可获取组件中的数据.\n     *\n     * @return {any} 组件中的数据.\n     */\n    shape.getLatestJadeConfig = () => {\n        return JSON.parse(JSON.stringify(data));\n    };\n\n    /**\n     * 校验当前节点的form输入是否合法.\n     *\n     * @return Promise 校验结果\n     */\n    shape.validateForm = () => {\n        return form.validateFields();\n    };\n\n    // 相当于 componentDidMount\n    useEffect(() => {\n        shape.observe();\n    }, []);\n\n    // 当state变化是调用.\n    useEffect(() => {\n        shape.graph.onChangeCallback && shape.graph.onChangeCallback();\n    }, [data]);\n\n    return (<>\n        <div id={id} style={{display: \"block\"}}>\n            <Form form={form}\n                  name={`form-${shape.id}`}\n                  layout=\"vertical\" // 设置全局的垂直布局\n                  className={\"jade-form\"}\n            >\n                {shape.getHeaderComponent()}\n                <FormContext.Provider value={form}>\n                    <ShapeContext.Provider value={shape}>\n                        <DataContext.Provider value={data}>\n                            <DispatchContext.Provider value={dispatch}>\n                                <div className=\"react-node-content\" style={{borderRadius: shape.borderRadius + \"px\"}}>\n                                    {component.getReactComponents()}\n                                </div>\n                            </DispatchContext.Provider>\n                        </DataContext.Provider>\n                    </ShapeContext.Provider>\n                </FormContext.Provider>\n            </Form>\n        </div>\n    </>);\n};\n\nexport function useDataContext() {\n    return useContext(DataContext);\n}\n\nexport function useShapeContext() {\n    return useContext(ShapeContext);\n}\n\nexport function useDispatch() {\n    return useContext(DispatchContext);\n}\n\nexport function useFormContext() {\n    return useContext(FormContext);\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import {CopyPasteHelpers, DIRECTION, node, rectangleDrawer} from \"@fit-elsa/elsa-core\";\nimport ReactDOM from \"react-dom/client\";\nimport {DefaultRoot} from \"@/components/DefaultRoot.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\nimport {Header} from \"@/components/Header.jsx\";\n\n/**\n * jadeStream中的流程编排节点.\n *\n * @override\n */\nexport const jadeNode = (id, x, y, width, height, parent, drawer) => {\n    const self = node(id, x, y, width, height, parent, false, drawer ? drawer : jadeNodeDrawer);\n    self.type = \"jadeNode\";\n    self.serializedFields.batchAdd(\"toolConfigs\", \"componentName\", \"flowMeta\");\n    self.eventType = \"jadeEvent\";\n    self.hideText = true;\n    self.autoHeight = true;\n    self.width = 360;\n    self.borderColor = \"rgba(28,31,35,.08)\";\n    self.mouseInBorderColor = \"rgba(28,31,35,.08)\";\n    self.shadow = \"0 2px 4px 0 rgba(0,0,0,.1)\";\n    self.focusShadow = \"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)\";\n    self.borderWidth = 1;\n    self.focusBorderWidth = 2;\n    self.dashWidth = 0;\n    self.backColor = \"white\";\n    self.focusBackColor = \"white\";\n    self.borderRadius = 8;\n    self.cornerRadius = 8;\n    self.enableAnimation = false;\n    self.modeRegion.visible = false;\n    self.flowMeta = {\n        \"triggerMode\": \"auto\",\n        \"jober\": {\n            \"type\": \"general_jober\",\n            \"name\": \"\",\n            \"fitables\": [],\n            \"converter\": {\n                \"type\": \"mapping_converter\"\n            },\n        }\n    };\n\n    const observed = [];\n\n    /**\n     * 默认的header配置.\n     *\n     * @return 下拉按钮配置项\n     */\n    self.getToolMenus = () => {\n        return [{\n            key: '1', label: \"复制\", action: () => {\n                self.duplicate();\n            }\n        }, {\n            key: '2', label: \"删除\", action: () => {\n                self.remove();\n            }\n        }, {\n            key: '3', label: \"重命名\", action: (setEdit) => {\n                setEdit(true);\n            }\n        }];\n    };\n\n    /**\n     * 设置方向为W和N的connector不支持拖出连接线\n     *\n     * @override\n     */\n    const initConnectors = self.initConnectors;\n    self.initConnectors = () => {\n        initConnectors.apply(self);\n        self.connectors.remove(c => c.direction.key === DIRECTION.S.key || c.direction.key === DIRECTION.N.key\n                || c.direction.key === \"ROTATE\");\n        self.connectors.forEach(connector => {\n            connector.isSolid = true;\n            if (connector.direction.key === DIRECTION.W.key) {\n                connector.allowFromLink = false\n            }\n            if (connector.direction.key === DIRECTION.E.key) {\n                connector.allowToLink = false\n            }\n        })\n    };\n\n    /**\n     * 获取节点之前可达的节点信息\n     *\n     * @returns {*[]} 包含前方节点的名称和info信息的数组\n     */\n    self.getPreNodeInfos = () => {\n        if (!self.allowToLink) {\n            return [];\n        }\n        const allLines = self.page.shapes.filter(s => s.type === \"jadeEvent\");\n        const formerNodesInfo = []; // 存储前方节点信息的数组\n        const visitedShapes = new Set(); // 记录已经访问过的形状id\n\n        /**\n         * 递归函数，探索当前shape前方所有shape\n         *\n         * @param currentShapeId 当前shape的id\n         */\n        const explorePreShapesRecursive = (currentShapeId) => {\n            // 如果当前形状已经访问过，则跳过\n            if (visitedShapes.has(currentShapeId)) {\n                return;\n            }\n            // 将当前形状id添加到visitedShapes中\n            visitedShapes.add(currentShapeId);\n\n            // 获取当前形状对象\n            const currentShape = self.page.getShapeById(currentShapeId);\n            if (!currentShape) {\n                return; // 如果找不到当前形状对象，则返回\n            }\n\n            // 将当前形状的名称和获取到的info添加到formerNodes中\n            formerNodesInfo.push({\n                id: currentShape.id,\n                node: currentShape,\n                name: currentShape.text,\n                observableList: currentShape.page.getObservableList(currentShape.id)\n            });\n\n            // 找到当前形状连接的所有线\n            const connectedLines = allLines.filter(s => s.toShape === currentShapeId);\n\n            // 遍历连接线，将每个连接线的起点形状ID递归探索\n            for (const line of connectedLines) {\n                explorePreShapesRecursive(line.fromShape);\n            }\n        };\n\n        // 从当前节点开始启动递归\n        explorePreShapesRecursive(self.id);\n        formerNodesInfo.shift();\n        return formerNodesInfo;\n    };\n\n    /**\n     * 监听dom容器resize的变化.\n     */\n    self.observe = () => {\n        self.drawer.observe();\n    };\n\n    /**\n     * 获取Header组件\n     *\n     * @return {JSX.Element}\n     */\n    self.getHeaderComponent = () => {\n        return (<Header shape={self}/>);\n    }\n\n    /**\n     * 获取用户自定义组件.\n     *\n     * @return {*}\n     */\n    self.getComponent = () => {\n        return self.graph.plugins[self.componentName](self.flowMeta.jober.converter.entity);\n    };\n\n    /**\n     * 监听的值发生变化时触发.\n     *\n     * @param observableId 监听的id.\n     * @param value 值.\n     * @param type 类型.\n     */\n    self.emit = (observableId, {value, type}) => {\n        const observable = self.page.getObservable(self.id, observableId);\n        if (observable) {\n            observable.observers.forEach(o => {\n                if (o.status === \"enable\") {\n                    o.observe({\n                        value: value !== null && value !== undefined ? value : observable.value,\n                        type: type !== null && type !== undefined ? type : observable.type\n                    });\n                }\n            });\n\n            // 是空字符串的情况下，需要修改值.\n            if (value !== null && value !== undefined) {\n                observable.value = value;\n            }\n\n            // 是空字符串的情况下，需要修改值.\n            if (type !== null && type !== undefined) {\n                observable.type = type;\n            }\n        }\n    };\n\n    /**\n     * @override\n     */\n    const remove = self.remove;\n    self.remove = (source) => {\n        // 如果有连线，需要同时删除连线.\n        const events = self.page.shapes\n                .filter(s => s.isTypeof(\"jadeEvent\"))\n                .filter(s => s.fromShape === self.id || s.toShape === self.id);\n        const lineRemoved = events.flatMap(e => e.remove());\n\n        // 删除图形本身.\n        const removed = remove.apply(self, [source]);\n\n        // 清理observables.\n        self.cleanObservables();\n\n        return [...removed, ...lineRemoved];\n    };\n\n    /**\n     * 复制节点.\n     */\n    self.duplicate = () => {\n        const shapes = JSON.stringify([self.serialize()]);\n        CopyPasteHelpers.pasteShapes(shapes, \"\", self.page);\n    };\n\n    /**\n     * 更新jadeConfig.\n     *\n     * @override\n     */\n    const serialize = self.serialize;\n    self.serialize = () => {\n        if (self.getLatestJadeConfig) {\n            self.serializerJadeConfig();\n        }\n        return serialize.apply(self);\n    };\n\n    self.serializerJadeConfig = () => {\n        self.flowMeta.jober.converter.entity = self.getLatestJadeConfig();\n    }\n\n    // 可实现动态替换其中react组件的能力.\n    self.addDetection([\"componentName\"], (property, value, preValue) => {\n        if (value === preValue) {\n            return;\n        }\n        self.drawer.unmountReact();\n        self.invalidateAlone();\n    });\n\n    /**\n     * 更新粘贴出来的图形的id\n     *\n     * @param entity entity\n     */\n    const updateCopiedNodeIds = entity => {\n        if (typeof entity === 'object' && entity !== null) {\n            if (Array.isArray(entity)) {\n                entity.forEach((item) => {\n                    updateCopiedNodeIds(item);\n                });\n            } else {\n                Object.keys(entity).forEach((key) => {\n                    if (key === 'id') {\n                        entity[key] = uuidv4();\n                    } else {\n                        updateCopiedNodeIds(entity[key]);\n                    }\n                });\n            }\n        }\n    };\n\n    /**\n     * 图形粘贴后的回调\n     */\n    self.pasted = () => {\n        updateCopiedNodeIds(self.getEntity());\n    };\n\n    /**\n     * 获取flowMeta的entity\n     */\n    self.getEntity = () => {\n        return self.flowMeta.jober.converter.entity;\n    };\n\n    /**\n     * 有子类重写.\n     */\n    self.getHeaderIcon = () => {\n    };\n\n    /**\n     * 监听.\n     *\n     * @param nodeId 被监听节点的id.\n     * @param observableId 待监听的id.\n     * @param observer 监听器.\n     * @return {(function(): void)|*}\n     */\n    self.observeTo = (nodeId, observableId, observer) => {\n        const preNodeInfos = self.getPreNodeInfos();\n        const preNodeIdSet = new Set(preNodeInfos.map(n => n.id));\n        const observerProxy = ObserverProxy(nodeId, observableId, observer);\n        observerProxy.status = preNodeIdSet.has(nodeId) ? \"enable\" : \"disable\";\n        observed.push(observerProxy);\n        self.page.observeTo(nodeId, observableId, observerProxy);\n\n        // 监听时，主动推送一次数据.\n        const observable = self.page.getObservable(nodeId, observableId);\n        observerProxy.observe({value: observable.value, type: observable.type});\n\n        // 返回取消监听的方法.\n        return () => {\n            const index = observed.findIndex(o => o === observerProxy);\n            observed.splice(index, 1);\n            self.page.stopObserving(nodeId, observableId, observerProxy);\n        };\n    };\n\n    /**\n     * 断开连接.\n     */\n    self.offConnect = () => {\n        const preNodeInfos = self.getPreNodeInfos();\n        const preNodeIdSet = new Set(preNodeInfos.map(n => n.id));\n        observed.filter(o => o.status === \"enable\").filter(o => !preNodeIdSet.has(o.nodeId)).forEach(o => {\n            o.observe({value: null, type: null});\n            o.status = \"disable\";\n        });\n        const nextNodes = getNextNodes();\n        nextNodes.length > 0 && nextNodes.forEach(n => n.offConnect());\n    };\n\n    /**\n     * 连接.\n     */\n    self.onConnect = () => {\n        const preNodeInfos = self.getPreNodeInfos();\n        const preNodeIdSet = new Set(preNodeInfos.map(n => n.id));\n        observed.filter(o => o.status === \"disable\").filter(o => preNodeIdSet.has(o.nodeId)).forEach(o => {\n            o.status = \"enable\";\n            const observable = self.page.getObservable(o.nodeId, o.observableId);\n            o.observe({value: observable.value, type: observable.type});\n        });\n        const nextNodes = getNextNodes();\n        nextNodes.length > 0 && nextNodes.forEach(n => n.onConnect());\n    };\n\n    /**\n     * 清理所有的observables.\n     */\n    self.cleanObservables = () => {\n        // 清除我提供的observable\n        self.page.removeObservable(self.id);\n\n        // 清除我的observer.\n        observed.forEach(o => self.page.stopObserving(o.nodeId, o.observableId, o));\n    };\n\n    /*\n     * 获取下一个节点.\n     */\n    const getNextNodes = () => {\n        const lines = self.page.shapes.filter(s => s.type === \"jadeEvent\").filter(l => l.fromShape === self.id);\n        if (!lines || lines.length === 0) {\n            return [];\n        }\n        return self.page.shapes.filter(s => s.type !== \"jadeEvent\").filter(s => lines.some(l => l.toShape === s.id));\n    };\n\n    /**\n     * 校验节点状态是否正常.\n     *\n     * @return Promise 校验结果\n     */\n    self.validate = () => {\n        return new Promise((resolve, reject) => {\n            try {\n                const preNodeInfos = self.getPreNodeInfos();\n                const preNodeIdSet = new Set(preNodeInfos.map(n => n.id));\n                observed.forEach(o => {\n                    const node = self.page.getShapeById(o.nodeId);\n                    if (!node) {\n                        throw new Error(\"节点[\" + o.nodeId + \"]不存在.\");\n                    }\n                    if (!preNodeIdSet.has(o.nodeId)) {\n                        throw new Error(\"节点[\" + node.text + \"]和节点[\" + self.text + \"]未连接.\");\n                    }\n                });\n\n                // 调用 form 本身的校验能力，校验所有字段\n                self.validateForm().then(resolve).catch(reject);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    };\n\n    /**\n     * 当节点被取消选中时，校验表单中的数据.\n     */\n    const unSelect = self.unSelect;\n    self.unSelect = () => {\n        unSelect.apply(self);\n        self.validateForm && self.validateForm();\n    };\n\n    return self;\n};\n\n/**\n * 监听代理.\n *\n * @param nodeId 被监听节点的id.\n * @param observableId 待监听的id.\n * @param observer 监听器.\n * @return {{}}\n * @constructor\n */\nconst ObserverProxy = (nodeId, observableId, observer) => {\n    const self = {};\n    self.nodeId = nodeId;\n    self.observableId = observableId;\n    self.status = \"enable\";\n    self.origin = observer;\n\n    /**\n     * 触发监听.\n     *\n     * @param args 参数.\n     */\n    self.observe = (args) => {\n        if (self.status === \"enable\") {\n            self.origin(args);\n        }\n    };\n\n    return self;\n};\n\n/**\n * jadeNode绘制器.\n *\n * @override\n */\nconst jadeNodeDrawer = (shape, div, x, y) => {\n    const self = rectangleDrawer(shape, div, x, y);\n    self.reactContainer = null;\n\n    /**\n     * @override\n     */\n    const initialize = self.initialize;\n    self.initialize = () => {\n        initialize.apply(self);\n        self.reactContainer = document.createElement(\"div\");\n        self.reactContainer.id = \"react-container-\" + shape.id;\n        self.reactContainer.style.padding = \"12px\";\n        self.reactContainer.style.width = \"100%\";\n        self.reactContainer.style.borderRadius = shape.borderRadius + \"px\";\n        self.parent.appendChild(self.reactContainer);\n        self.parent.style.pointerEvents = \"auto\";\n    };\n\n    /**\n     * 写在react.\n     */\n    self.unmountReact = () => {\n        if (!self.root) {\n            return;\n        }\n        self.root.unmount();\n        self.root = null;\n    };\n\n    /**\n     * 处理传递的元数据\n     *\n     * @param metaData 元数据信息\n     */\n    self.processMetaData = (metaData) => {};\n\n    /**\n     * @override\n     */\n    self.drawStatic = () => {\n        if (!shape.componentName || self.root) {\n            return;\n        }\n        self.root = ReactDOM.createRoot(self.reactContainer);\n        self.root.render(<DefaultRoot shape={shape} component={shape.getComponent()}/>);\n    };\n\n    /**\n     * 不绘制focusFrame.\n     */\n    self.drawFocusFrame = () => {\n    };\n\n    /**\n     * @override\n     */\n    const drawBorder = self.drawBorder;\n    self.drawBorder = () => {\n        drawBorder.apply(self);\n        if (shape.isFocused) {\n            self.parent.style.border = \"\";\n            self.parent.style.border = shape.borderWidth + \"px\" + \" solid \" + shape.borderColor;\n            self.parent.style.outline = shape.focusBorderWidth + \"px\" + \" solid \" + shape.getBorderColor();\n        } else {\n            self.parent.style.outline = \"\";\n        }\n    };\n\n    /**\n     * 删除之前清理掉react相关的组件.\n     *\n     * @override\n     */\n    const beforeRemove = self.beforeRemove;\n    self.beforeRemove = () => {\n        beforeRemove.apply(self);\n        self.unmountReact();\n    };\n\n    /**\n     * 监听parent的变化，当发生变化时，需要修改图形的高度和宽度.\n     */\n    let prevHeight = 0;\n    self.observe = () => {\n        new ResizeObserver((entries) => {\n            if (prevHeight === self.parent.offsetHeight) {\n                return;\n            }\n\n            // 删除之后不需要修改图形大小.\n            if (shape.container === \"\") {\n                return;\n            }\n\n            shape.resize(shape.width, self.parent.offsetHeight);\n            prevHeight = self.parent.offsetHeight;\n        }).observe(self.parent);\n    };\n\n    return self;\n};","import {useState} from 'react';\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\n\nexport default function TaskList() {\n    const tasks = useDataContext();\n    return (<ul>\n                {tasks.map(task => (<li key={task.id}>\n                            <Task task={task}/>\n                        </li>))}\n            </ul>);\n}\n\nfunction Task({task}) {\n    const [isEditing, setIsEditing] = useState(false);\n    const dispatch = useDispatch();\n    let taskContent;\n    if (isEditing) {\n        taskContent = (<>\n                    <input\n                            value={task.text}\n                            onChange={e => {\n                                dispatch({\n                                    type: 'changed', task: {\n                                        ...task, text: e.target.value\n                                    }\n                                });\n                            }}/>\n                    <button onClick={() => setIsEditing(false)}>\n                        Save\n                    </button>\n                </>);\n    } else {\n        taskContent = (<>\n                    {task.text}\n                    <button onClick={() => setIsEditing(true)}>\n                        Edit\n                    </button>\n                </>);\n    }\n    return (<label>\n                <input\n                        type=\"checkbox\"\n                        checked={task.done}\n                        onChange={e => {\n                            dispatch({\n                                type: 'changed', task: {\n                                    ...task, done: e.target.checked\n                                }\n                            });\n                        }}\n                />\n                {taskContent}\n                <button onClick={() => {\n                    dispatch({\n                        type: 'deleted', id: task.id\n                    });\n                }}>\n                    Delete\n                </button>\n            </label>);\n}\n","import {useState} from 'react';\nimport {useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\n\nexport default function AddTask() {\n    const [text, setText] = useState('');\n    const dispatch = useDispatch();\n    const shape = useShapeContext();\n    return (<>\n                <input\n                        placeholder=\"Add task\"\n                        value={text}\n                        onChange={e => setText(e.target.value)}\n                />\n                <button onClick={() => {\n                    setText('');\n                    console.log(shape.serialize());\n                    dispatch({\n                        type: 'added', id: nextId++, text: text\n                    });\n                }}>Add\n                </button>\n            </>);\n}\n\nlet nextId = 3;\n","import { createContext } from 'react';\nvar IconContext = /*#__PURE__*/createContext({});\nexport default IconContext;","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.indexOf('%') !== -1;\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return \"\".concat(Number(n) * 100, \"%\");\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util.js';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","/* eslint-disable @typescript-eslint/no-redundant-type-constituents */\nimport { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb, } from './conversion.js';\nimport { names } from './css-color-names.js';\nimport { boundAlpha, convertToPercentage } from './util.js';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\".concat(CSS_NUMBER, \")|(?:\").concat(CSS_INTEGER, \")\");\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { inputToRGB, rgbToHex, rgbToHsv } from '@ctrl/tinycolor';\nvar hueStep = 2; // 色相阶梯\nvar saturationStep = 0.16; // 饱和度阶梯，浅色部分\nvar saturationStep2 = 0.05; // 饱和度阶梯，深色部分\nvar brightnessStep1 = 0.05; // 亮度阶梯，浅色部分\nvar brightnessStep2 = 0.15; // 亮度阶梯，深色部分\nvar lightColorCount = 5; // 浅色数量，主色上\nvar darkColorCount = 4; // 深色数量，主色下\n// 暗色主题颜色映射关系表\nvar darkColorMap = [{\n  index: 7,\n  opacity: 0.15\n}, {\n  index: 6,\n  opacity: 0.25\n}, {\n  index: 5,\n  opacity: 0.3\n}, {\n  index: 5,\n  opacity: 0.45\n}, {\n  index: 5,\n  opacity: 0.65\n}, {\n  index: 5,\n  opacity: 0.85\n}, {\n  index: 4,\n  opacity: 0.9\n}, {\n  index: 3,\n  opacity: 0.95\n}, {\n  index: 2,\n  opacity: 0.97\n}, {\n  index: 1,\n  opacity: 0.98\n}];\n// Wrapper function ported from TinyColor.prototype.toHsv\n// Keep it here because of `hsv.h * 360`\nfunction toHsv(_ref) {\n  var r = _ref.r,\n    g = _ref.g,\n    b = _ref.b;\n  var hsv = rgbToHsv(r, g, b);\n  return {\n    h: hsv.h * 360,\n    s: hsv.s,\n    v: hsv.v\n  };\n}\n\n// Wrapper function ported from TinyColor.prototype.toHexString\n// Keep it here because of the prefix `#`\nfunction toHex(_ref2) {\n  var r = _ref2.r,\n    g = _ref2.g,\n    b = _ref2.b;\n  return \"#\".concat(rgbToHex(r, g, b, false));\n}\n\n// Wrapper function ported from TinyColor.prototype.mix, not treeshakable.\n// Amount in range [0, 1]\n// Assume color1 & color2 has no alpha, since the following src code did so.\nfunction mix(rgb1, rgb2, amount) {\n  var p = amount / 100;\n  var rgb = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b\n  };\n  return rgb;\n}\nfunction getHue(hsv, i, light) {\n  var hue;\n  // 根据色相不同，色相转向不同\n  if (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {\n    hue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;\n  } else {\n    hue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;\n  }\n  if (hue < 0) {\n    hue += 360;\n  } else if (hue >= 360) {\n    hue -= 360;\n  }\n  return hue;\n}\nfunction getSaturation(hsv, i, light) {\n  // grey color don't change saturation\n  if (hsv.h === 0 && hsv.s === 0) {\n    return hsv.s;\n  }\n  var saturation;\n  if (light) {\n    saturation = hsv.s - saturationStep * i;\n  } else if (i === darkColorCount) {\n    saturation = hsv.s + saturationStep;\n  } else {\n    saturation = hsv.s + saturationStep2 * i;\n  }\n  // 边界值修正\n  if (saturation > 1) {\n    saturation = 1;\n  }\n  // 第一格的 s 限制在 0.06-0.1 之间\n  if (light && i === lightColorCount && saturation > 0.1) {\n    saturation = 0.1;\n  }\n  if (saturation < 0.06) {\n    saturation = 0.06;\n  }\n  return Number(saturation.toFixed(2));\n}\nfunction getValue(hsv, i, light) {\n  var value;\n  if (light) {\n    value = hsv.v + brightnessStep1 * i;\n  } else {\n    value = hsv.v - brightnessStep2 * i;\n  }\n  if (value > 1) {\n    value = 1;\n  }\n  return Number(value.toFixed(2));\n}\nexport default function generate(color) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var patterns = [];\n  var pColor = inputToRGB(color);\n  for (var i = lightColorCount; i > 0; i -= 1) {\n    var hsv = toHsv(pColor);\n    var colorString = toHex(inputToRGB({\n      h: getHue(hsv, i, true),\n      s: getSaturation(hsv, i, true),\n      v: getValue(hsv, i, true)\n    }));\n    patterns.push(colorString);\n  }\n  patterns.push(toHex(pColor));\n  for (var _i = 1; _i <= darkColorCount; _i += 1) {\n    var _hsv = toHsv(pColor);\n    var _colorString = toHex(inputToRGB({\n      h: getHue(_hsv, _i),\n      s: getSaturation(_hsv, _i),\n      v: getValue(_hsv, _i)\n    }));\n    patterns.push(_colorString);\n  }\n\n  // dark theme patterns\n  if (opts.theme === 'dark') {\n    return darkColorMap.map(function (_ref3) {\n      var index = _ref3.index,\n        opacity = _ref3.opacity;\n      var darkColorString = toHex(mix(inputToRGB(opts.backgroundColor || '#141414'), inputToRGB(patterns[index]), opacity * 100));\n      return darkColorString;\n    });\n  }\n  return patterns;\n}","import generate from \"./generate\";\nvar presetPrimaryColors = {\n  red: '#F5222D',\n  volcano: '#FA541C',\n  orange: '#FA8C16',\n  gold: '#FAAD14',\n  yellow: '#FADB14',\n  lime: '#A0D911',\n  green: '#52C41A',\n  cyan: '#13C2C2',\n  blue: '#1677FF',\n  geekblue: '#2F54EB',\n  purple: '#722ED1',\n  magenta: '#EB2F96',\n  grey: '#666666'\n};\nvar presetPalettes = {};\nvar presetDarkPalettes = {};\nObject.keys(presetPrimaryColors).forEach(function (key) {\n  presetPalettes[key] = generate(presetPrimaryColors[key]);\n  presetPalettes[key].primary = presetPalettes[key][5];\n\n  // dark presetPalettes\n  presetDarkPalettes[key] = generate(presetPrimaryColors[key], {\n    theme: 'dark',\n    backgroundColor: '#141414'\n  });\n  presetDarkPalettes[key].primary = presetDarkPalettes[key][5];\n});\nvar red = presetPalettes.red;\nvar volcano = presetPalettes.volcano;\nvar gold = presetPalettes.gold;\nvar orange = presetPalettes.orange;\nvar yellow = presetPalettes.yellow;\nvar lime = presetPalettes.lime;\nvar green = presetPalettes.green;\nvar cyan = presetPalettes.cyan;\nvar blue = presetPalettes.blue;\nvar geekblue = presetPalettes.geekblue;\nvar purple = presetPalettes.purple;\nvar magenta = presetPalettes.magenta;\nvar grey = presetPalettes.grey;\nvar gray = presetPalettes.grey;\nexport { generate, presetPalettes, presetDarkPalettes, presetPrimaryColors, red, volcano, orange, gold, yellow, lime, green, cyan, blue, geekblue, purple, magenta, grey, gray };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","export default function canUseDom() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}","export default function contains(root, n) {\n  if (!root) {\n    return false;\n  }\n\n  // Use native if support\n  if (root.contains) {\n    return root.contains(n);\n  }\n\n  // `document.contains` not support with IE11\n  var node = n;\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport canUseDom from \"./canUseDom\";\nimport contains from \"./contains\";\nvar APPEND_ORDER = 'data-rc-order';\nvar APPEND_PRIORITY = 'data-rc-priority';\nvar MARK_KEY = \"rc-util-key\";\nvar containerCache = new Map();\nfunction getMark() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    mark = _ref.mark;\n  if (mark) {\n    return mark.startsWith('data-') ? mark : \"data-\".concat(mark);\n  }\n  return MARK_KEY;\n}\nfunction getContainer(option) {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n  var head = document.querySelector('head');\n  return head || document.body;\n}\nfunction getOrder(prepend) {\n  if (prepend === 'queue') {\n    return 'prependQueue';\n  }\n  return prepend ? 'prepend' : 'append';\n}\n\n/**\n * Find style which inject by rc-util\n */\nfunction findStyles(container) {\n  return Array.from((containerCache.get(container) || container).children).filter(function (node) {\n    return node.tagName === 'STYLE';\n  });\n}\nexport function injectCSS(css) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!canUseDom()) {\n    return null;\n  }\n  var csp = option.csp,\n    prepend = option.prepend,\n    _option$priority = option.priority,\n    priority = _option$priority === void 0 ? 0 : _option$priority;\n  var mergedOrder = getOrder(prepend);\n  var isPrependQueue = mergedOrder === 'prependQueue';\n  var styleNode = document.createElement('style');\n  styleNode.setAttribute(APPEND_ORDER, mergedOrder);\n  if (isPrependQueue && priority) {\n    styleNode.setAttribute(APPEND_PRIORITY, \"\".concat(priority));\n  }\n  if (csp !== null && csp !== void 0 && csp.nonce) {\n    styleNode.nonce = csp === null || csp === void 0 ? void 0 : csp.nonce;\n  }\n  styleNode.innerHTML = css;\n  var container = getContainer(option);\n  var firstChild = container.firstChild;\n  if (prepend) {\n    // If is queue `prepend`, it will prepend first style and then append rest style\n    if (isPrependQueue) {\n      var existStyle = (option.styles || findStyles(container)).filter(function (node) {\n        // Ignore style which not injected by rc-util with prepend\n        if (!['prepend', 'prependQueue'].includes(node.getAttribute(APPEND_ORDER))) {\n          return false;\n        }\n\n        // Ignore style which priority less then new style\n        var nodePriority = Number(node.getAttribute(APPEND_PRIORITY) || 0);\n        return priority >= nodePriority;\n      });\n      if (existStyle.length) {\n        container.insertBefore(styleNode, existStyle[existStyle.length - 1].nextSibling);\n        return styleNode;\n      }\n    }\n\n    // Use `insertBefore` as `prepend`\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n  return styleNode;\n}\nfunction findExistNode(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var container = getContainer(option);\n  return (option.styles || findStyles(container)).find(function (node) {\n    return node.getAttribute(getMark(option)) === key;\n  });\n}\nexport function removeCSS(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var existNode = findExistNode(key, option);\n  if (existNode) {\n    var container = getContainer(option);\n    container.removeChild(existNode);\n  }\n}\n\n/**\n * qiankun will inject `appendChild` to insert into other\n */\nfunction syncRealContainer(container, option) {\n  var cachedRealContainer = containerCache.get(container);\n\n  // Find real container when not cached or cached container removed\n  if (!cachedRealContainer || !contains(document, cachedRealContainer)) {\n    var placeholderStyle = injectCSS('', option);\n    var parentNode = placeholderStyle.parentNode;\n    containerCache.set(container, parentNode);\n    container.removeChild(placeholderStyle);\n  }\n}\n\n/**\n * manually clear container cache to avoid global cache in unit testes\n */\nexport function clearContainerCache() {\n  containerCache.clear();\n}\nexport function updateCSS(css, key) {\n  var originOption = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var container = getContainer(originOption);\n  var styles = findStyles(container);\n  var option = _objectSpread(_objectSpread({}, originOption), {}, {\n    styles: styles\n  });\n\n  // Sync real parent\n  syncRealContainer(container, option);\n  var existNode = findExistNode(key, option);\n  if (existNode) {\n    var _option$csp, _option$csp2;\n    if ((_option$csp = option.csp) !== null && _option$csp !== void 0 && _option$csp.nonce && existNode.nonce !== ((_option$csp2 = option.csp) === null || _option$csp2 === void 0 ? void 0 : _option$csp2.nonce)) {\n      var _option$csp3;\n      existNode.nonce = (_option$csp3 = option.csp) === null || _option$csp3 === void 0 ? void 0 : _option$csp3.nonce;\n    }\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n    return existNode;\n  }\n  var newNode = injectCSS(css, option);\n  newNode.setAttribute(getMark(option), key);\n  return newNode;\n}","function getRoot(ele) {\n  var _ele$getRootNode;\n  return ele === null || ele === void 0 || (_ele$getRootNode = ele.getRootNode) === null || _ele$getRootNode === void 0 ? void 0 : _ele$getRootNode.call(ele);\n}\n\n/**\n * Check if is in shadowRoot\n */\nexport function inShadow(ele) {\n  return getRoot(ele) instanceof ShadowRoot;\n}\n\n/**\n * Return shadowRoot if possible\n */\nexport function getShadowRoot(ele) {\n  return inShadow(ele) ? getRoot(ele) : null;\n}","/* eslint-disable no-console */\nvar warned = {};\nvar preWarningFns = [];\n\n/**\n * Pre warning enable you to parse content before console.error.\n * Modify to null will prevent warning.\n */\nexport var preMessage = function preMessage(fn) {\n  preWarningFns.push(fn);\n};\n\n/**\n * Warning if condition not match.\n * @param valid Condition\n * @param message Warning message\n * @example\n * ```js\n * warning(false, 'some error'); // print some error\n * warning(true, 'some error'); // print nothing\n * warning(1 === 2, 'some error'); // print some error\n * ```\n */\nexport function warning(valid, message) {\n  if (process.env.NODE_ENV !== 'production' && !valid && console !== undefined) {\n    var finalMessage = preWarningFns.reduce(function (msg, preMessageFn) {\n      return preMessageFn(msg !== null && msg !== void 0 ? msg : '', 'warning');\n    }, message);\n    if (finalMessage) {\n      console.error(\"Warning: \".concat(finalMessage));\n    }\n  }\n}\n\n/** @see Similar to {@link warning} */\nexport function note(valid, message) {\n  if (process.env.NODE_ENV !== 'production' && !valid && console !== undefined) {\n    var finalMessage = preWarningFns.reduce(function (msg, preMessageFn) {\n      return preMessageFn(msg !== null && msg !== void 0 ? msg : '', 'note');\n    }, message);\n    if (finalMessage) {\n      console.warn(\"Note: \".concat(finalMessage));\n    }\n  }\n}\nexport function resetWarned() {\n  warned = {};\n}\nexport function call(method, valid, message) {\n  if (!valid && !warned[message]) {\n    method(false, message);\n    warned[message] = true;\n  }\n}\n\n/** @see Same as {@link warning}, but only warn once for the same message */\nexport function warningOnce(valid, message) {\n  call(warning, valid, message);\n}\n\n/** @see Same as {@link warning}, but only warn once for the same message */\nexport function noteOnce(valid, message) {\n  call(note, valid, message);\n}\nwarningOnce.preMessage = preMessage;\nwarningOnce.resetWarned = resetWarned;\nwarningOnce.noteOnce = noteOnce;\nexport default warningOnce;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { generate as generateColor } from '@ant-design/colors';\nimport { updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport { getShadowRoot } from \"rc-util/es/Dom/shadow\";\nimport warn from \"rc-util/es/warning\";\nimport React, { useContext, useEffect } from 'react';\nimport IconContext from \"./components/Context\";\nfunction camelCase(input) {\n  return input.replace(/-(.)/g, function (match, g) {\n    return g.toUpperCase();\n  });\n}\nexport function warning(valid, message) {\n  warn(valid, \"[@ant-design/icons] \".concat(message));\n}\nexport function isIconDefinition(target) {\n  return _typeof(target) === 'object' && typeof target.name === 'string' && typeof target.theme === 'string' && (_typeof(target.icon) === 'object' || typeof target.icon === 'function');\n}\nexport function normalizeAttrs() {\n  var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.keys(attrs).reduce(function (acc, key) {\n    var val = attrs[key];\n    switch (key) {\n      case 'class':\n        acc.className = val;\n        delete acc.class;\n        break;\n      default:\n        delete acc[key];\n        acc[camelCase(key)] = val;\n    }\n    return acc;\n  }, {});\n}\nexport function generate(node, key, rootProps) {\n  if (!rootProps) {\n    return /*#__PURE__*/React.createElement(node.tag, _objectSpread({\n      key: key\n    }, normalizeAttrs(node.attrs)), (node.children || []).map(function (child, index) {\n      return generate(child, \"\".concat(key, \"-\").concat(node.tag, \"-\").concat(index));\n    }));\n  }\n  return /*#__PURE__*/React.createElement(node.tag, _objectSpread(_objectSpread({\n    key: key\n  }, normalizeAttrs(node.attrs)), rootProps), (node.children || []).map(function (child, index) {\n    return generate(child, \"\".concat(key, \"-\").concat(node.tag, \"-\").concat(index));\n  }));\n}\nexport function getSecondaryColor(primaryColor) {\n  // choose the second color\n  return generateColor(primaryColor)[0];\n}\nexport function normalizeTwoToneColors(twoToneColor) {\n  if (!twoToneColor) {\n    return [];\n  }\n  return Array.isArray(twoToneColor) ? twoToneColor : [twoToneColor];\n}\n\n// These props make sure that the SVG behaviours like general text.\n// Reference: https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nexport var svgBaseProps = {\n  width: '1em',\n  height: '1em',\n  fill: 'currentColor',\n  'aria-hidden': 'true',\n  focusable: 'false'\n};\nexport var iconStyles = \"\\n.anticon {\\n  display: inline-flex;\\n  alignItems: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\";\nexport var useInsertStyles = function useInsertStyles(eleRef) {\n  var _useContext = useContext(IconContext),\n    csp = _useContext.csp,\n    prefixCls = _useContext.prefixCls;\n  var mergedStyleStr = iconStyles;\n  if (prefixCls) {\n    mergedStyleStr = mergedStyleStr.replace(/anticon/g, prefixCls);\n  }\n  useEffect(function () {\n    var ele = eleRef.current;\n    var shadowRoot = getShadowRoot(ele);\n    updateCSS(mergedStyleStr, '@ant-design-icons', {\n      prepend: true,\n      csp: csp,\n      attachTo: shadowRoot\n    });\n  }, []);\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"icon\", \"className\", \"onClick\", \"style\", \"primaryColor\", \"secondaryColor\"];\nimport * as React from 'react';\nimport { generate, getSecondaryColor, isIconDefinition, warning, useInsertStyles } from \"../utils\";\nvar twoToneColorPalette = {\n  primaryColor: '#333',\n  secondaryColor: '#E6E6E6',\n  calculated: false\n};\nfunction setTwoToneColors(_ref) {\n  var primaryColor = _ref.primaryColor,\n    secondaryColor = _ref.secondaryColor;\n  twoToneColorPalette.primaryColor = primaryColor;\n  twoToneColorPalette.secondaryColor = secondaryColor || getSecondaryColor(primaryColor);\n  twoToneColorPalette.calculated = !!secondaryColor;\n}\nfunction getTwoToneColors() {\n  return _objectSpread({}, twoToneColorPalette);\n}\nvar IconBase = function IconBase(props) {\n  var icon = props.icon,\n    className = props.className,\n    onClick = props.onClick,\n    style = props.style,\n    primaryColor = props.primaryColor,\n    secondaryColor = props.secondaryColor,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var svgRef = React.useRef();\n  var colors = twoToneColorPalette;\n  if (primaryColor) {\n    colors = {\n      primaryColor: primaryColor,\n      secondaryColor: secondaryColor || getSecondaryColor(primaryColor)\n    };\n  }\n  useInsertStyles(svgRef);\n  warning(isIconDefinition(icon), \"icon should be icon definiton, but got \".concat(icon));\n  if (!isIconDefinition(icon)) {\n    return null;\n  }\n  var target = icon;\n  if (target && typeof target.icon === 'function') {\n    target = _objectSpread(_objectSpread({}, target), {}, {\n      icon: target.icon(colors.primaryColor, colors.secondaryColor)\n    });\n  }\n  return generate(target.icon, \"svg-\".concat(target.name), _objectSpread(_objectSpread({\n    className: className,\n    onClick: onClick,\n    style: style,\n    'data-icon': target.name,\n    width: '1em',\n    height: '1em',\n    fill: 'currentColor',\n    'aria-hidden': 'true'\n  }, restProps), {}, {\n    ref: svgRef\n  }));\n};\nIconBase.displayName = 'IconReact';\nIconBase.getTwoToneColors = getTwoToneColors;\nIconBase.setTwoToneColors = setTwoToneColors;\nexport default IconBase;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport ReactIcon from \"./IconBase\";\nimport { normalizeTwoToneColors } from \"../utils\";\nexport function setTwoToneColor(twoToneColor) {\n  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor),\n    _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2),\n    primaryColor = _normalizeTwoToneColo2[0],\n    secondaryColor = _normalizeTwoToneColo2[1];\n  return ReactIcon.setTwoToneColors({\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor\n  });\n}\nexport function getTwoToneColor() {\n  var colors = ReactIcon.getTwoToneColors();\n  if (!colors.calculated) {\n    return colors.primaryColor;\n  }\n  return [colors.primaryColor, colors.secondaryColor];\n}","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"icon\", \"spin\", \"rotate\", \"tabIndex\", \"onClick\", \"twoToneColor\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { blue } from '@ant-design/colors';\nimport Context from \"./Context\";\nimport ReactIcon from \"./IconBase\";\nimport { getTwoToneColor, setTwoToneColor } from \"./twoTonePrimaryColor\";\nimport { normalizeTwoToneColors } from \"../utils\";\n// Initial setting\n// should move it to antd main repo?\nsetTwoToneColor(blue.primary);\n\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/34757#issuecomment-488848720\n\nvar Icon = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var className = props.className,\n    icon = props.icon,\n    spin = props.spin,\n    rotate = props.rotate,\n    tabIndex = props.tabIndex,\n    onClick = props.onClick,\n    twoToneColor = props.twoToneColor,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var _React$useContext = React.useContext(Context),\n    _React$useContext$pre = _React$useContext.prefixCls,\n    prefixCls = _React$useContext$pre === void 0 ? 'anticon' : _React$useContext$pre,\n    rootClassName = _React$useContext.rootClassName;\n  var classString = classNames(rootClassName, prefixCls, _defineProperty(_defineProperty({}, \"\".concat(prefixCls, \"-\").concat(icon.name), !!icon.name), \"\".concat(prefixCls, \"-spin\"), !!spin || icon.name === 'loading'), className);\n  var iconTabIndex = tabIndex;\n  if (iconTabIndex === undefined && onClick) {\n    iconTabIndex = -1;\n  }\n  var svgStyle = rotate ? {\n    msTransform: \"rotate(\".concat(rotate, \"deg)\"),\n    transform: \"rotate(\".concat(rotate, \"deg)\")\n  } : undefined;\n  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor),\n    _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2),\n    primaryColor = _normalizeTwoToneColo2[0],\n    secondaryColor = _normalizeTwoToneColo2[1];\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    role: \"img\",\n    \"aria-label\": icon.name\n  }, restProps, {\n    ref: ref,\n    tabIndex: iconTabIndex,\n    onClick: onClick,\n    className: classString\n  }), /*#__PURE__*/React.createElement(ReactIcon, {\n    icon: icon,\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor,\n    style: svgStyle\n  }));\n});\nIcon.displayName = 'AntdIcon';\nIcon.getTwoToneColor = getTwoToneColor;\nIcon.setTwoToneColor = setTwoToneColor;\nexport default Icon;","// This icon file is generated automatically.\nvar CloudSyncOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z\" } }] }, \"name\": \"cloud-sync\", \"theme\": \"outlined\" };\nexport default CloudSyncOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CloudSyncOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudSyncOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CloudSyncOutlined = function CloudSyncOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CloudSyncOutlinedSvg\n  }));\n};\n\n/**![cloud-sync](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTgxMS40IDM2OC45Qzc2NS42IDI0OCA2NDguOSAxNjIgNTEyLjIgMTYyUzI1OC44IDI0Ny45IDIxMyAzNjguOEMxMjYuOSAzOTEuNSA2My41IDQ3MC4yIDY0IDU2My42IDY0LjYgNjY4IDE0NS42IDc1Mi45IDI0Ny42IDc2MmM0LjcuNCA4LjctMy4zIDguNy04di02MC40YzAtNC0zLTcuNC03LTcuOS0yNy0zLjQtNTIuNS0xNS4yLTcyLjEtMzQuNS0yNC0yMy41LTM3LjItNTUuMS0zNy4yLTg4LjYgMC0yOCA5LjEtNTQuNCAyNi4yLTc2LjQgMTYuNy0yMS40IDQwLjItMzYuOSA2Ni4xLTQzLjdsMzcuOS0xMCAxMy45LTM2LjdjOC42LTIyLjggMjAuNi00NC4yIDM1LjctNjMuNSAxNC45LTE5LjIgMzIuNi0zNiA1Mi40LTUwIDQxLjEtMjguOSA4OS41LTQ0LjIgMTQwLTQ0LjJzOTguOSAxNS4zIDE0MCA0NC4zYzE5LjkgMTQgMzcuNSAzMC44IDUyLjQgNTAgMTUuMSAxOS4zIDI3LjEgNDAuNyAzNS43IDYzLjVsMTMuOCAzNi42IDM3LjggMTBjNTQuMiAxNC40IDkyLjEgNjMuNyA5Mi4xIDEyMCAwIDMzLjYtMTMuMiA2NS4xLTM3LjIgODguNi0xOS41IDE5LjItNDQuOSAzMS4xLTcxLjkgMzQuNS00IC41LTYuOSAzLjktNi45IDcuOVY3NTRjMCA0LjcgNC4xIDguNCA4LjggOCAxMDEuNy05LjIgMTgyLjUtOTQgMTgzLjItMTk4LjIuNi05My40LTYyLjctMTcyLjEtMTQ4LjYtMTk0Ljl6IiAvPjxwYXRoIGQ9Ik0zNzYuOSA2NTYuNGMxLjgtMzMuNSAxNS43LTY0LjcgMzkuNS04OC42IDI1LjQtMjUuNSA2MC0zOS44IDk2LTM5LjggMzYuMiAwIDcwLjMgMTQuMSA5NiAzOS44IDEuNCAxLjQgMi43IDIuOCA0LjEgNC4zbC0yNSAxOS42YTggOCAwIDAwMyAxNC4xbDk4LjIgMjRjNSAxLjIgOS45LTIuNiA5LjktNy43bC41LTEwMS4zYzAtNi43LTcuNi0xMC41LTEyLjktNi4zTDY2MyA1MzIuN2MtMzYuNi00Mi05MC40LTY4LjYtMTUwLjUtNjguNi0xMDcuNCAwLTE5NSA4NS4xLTE5OS40IDE5MS43LS4yIDQuNSAzLjQgOC4zIDggOC4zSDM2OWM0LjItLjEgNy43LTMuNCA3LjktNy43ek03MDMgNjY0aC00Ny45Yy00LjIgMC03LjcgMy4zLTggNy42LTEuOCAzMy41LTE1LjcgNjQuNy0zOS41IDg4LjYtMjUuNCAyNS41LTYwIDM5LjgtOTYgMzkuOC0zNi4yIDAtNzAuMy0xNC4xLTk2LTM5LjgtMS40LTEuNC0yLjctMi44LTQuMS00LjNsMjUtMTkuNmE4IDggMCAwMC0zLTE0LjFsLTk4LjItMjRjLTUtMS4yLTkuOSAyLjYtOS45IDcuN2wtLjQgMTAxLjRjMCA2LjcgNy42IDEwLjUgMTIuOSA2LjNsMjMuMi0xOC4yYzM2LjYgNDIgOTAuNCA2OC42IDE1MC41IDY4LjYgMTA3LjQgMCAxOTUtODUuMSAxOTkuNC0xOTEuNy4yLTQuNS0zLjQtOC4zLTgtOC4zeiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(CloudSyncOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CloudSyncOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\n/**![delete](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTM2MCAxODRoLThjNC40IDAgOC0zLjYgOC04djhoMzA0di04YzAgNC40IDMuNiA4IDggOGgtOHY3Mmg3MnYtODBjMC0zNS4zLTI4LjctNjQtNjQtNjRIMzUyYy0zNS4zIDAtNjQgMjguNy02NCA2NHY4MGg3MnYtNzJ6bTUwNCA3MkgxNjBjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjMyYzAgNC40IDMuNiA4IDggOGg2MC40bDI0LjcgNTIzYzEuNiAzNC4xIDI5LjggNjEgNjMuOSA2MWg0NTRjMzQuMiAwIDYyLjMtMjYuOCA2My45LTYxbDI0LjctNTIzSDg4OGM0LjQgMCA4LTMuNiA4LTh2LTMyYzAtMTcuNy0xNC4zLTMyLTMyLTMyek03MzEuMyA4NDBIMjkyLjdsLTI0LjItNTEyaDQ4N2wtMjQuMiA1MTJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(DeleteOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DeleteOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar InfoCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"info-circle\", \"theme\": \"outlined\" };\nexport default InfoCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport InfoCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/InfoCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar InfoCircleOutlined = function InfoCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: InfoCircleOutlinedSvg\n  }));\n};\n\n/**![info-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIC8+PHBhdGggZD0iTTQ2NCAzMzZhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem03MiAxMTJoLTQ4Yy00LjQgMC04IDMuNi04IDh2MjcyYzAgNC40IDMuNiA4IDggOGg0OGM0LjQgMCA4LTMuNiA4LThWNDU2YzAtNC40LTMuNi04LTgtOHoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(InfoCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'InfoCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar MinusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"minus-circle\", \"theme\": \"outlined\" };\nexport default MinusCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport MinusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar MinusCircleOutlined = function MinusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: MinusCircleOutlinedSvg\n  }));\n};\n\n/**![minus-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTY5NiA0ODBIMzI4Yy00LjQgMC04IDMuNi04IDh2NDhjMCA0LjQgMy42IDggOCA4aDM2OGM0LjQgMCA4LTMuNiA4LTh2LTQ4YzAtNC40LTMuNi04LTgtOHoiIC8+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(MinusCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'MinusCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\n\n/**![plus](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ4MiAxNTJoNjBxOCAwIDggOHY3MDRxMCA4LTggOGgtNjBxLTggMC04LThWMTYwcTAtOCA4LTh6IiAvPjxwYXRoIGQ9Ik0xOTIgNDc0aDY3MnE4IDAgOCA4djYwcTAgOC04IDhIMTYwcS04IDAtOC04di02MHEwLTggOC04eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PlusOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PlusOutlined';\n}\nexport default RefIcon;","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport TaskList from \"@/components/testDemo/TaskList.jsx\";\nimport AddTask from \"@/components/testDemo/AddTask.jsx\";\nimport {CloudSyncOutlined} from \"@ant-design/icons\";\nimport \"./style.css\";\n\n/**\n * jadeStream中的流程编排节点.\n *\n * @override\n */\nexport const taskNode = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"taskNode\";\n    self.text = \"LLM\";\n    self.width = 700;\n    self.jadeConfig = [{id: 0, text: 'Philosopher’s Path', done: true}, {id: 1, text: 'Visit the temple', done: false},\n        {id: 2, text: 'Drink matcha', done: false}];\n    // self.toolMenus = [];\n\n    /**\n     * @override\n     */\n    self.getReactComponents = () => {\n        return (<>\n            <h1>Day off in Kyoto</h1>\n            <AddTask/>\n            <TaskList/>\n        </>)\n    };\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return <CloudSyncOutlined/>;\n    };\n\n    /**\n     * @override\n     */\n    self.reducers = (tasks, action) => {\n        switch (action.type) {\n            case 'added': {\n                return [...tasks, {\n                    id: action.id, text: action.text, done: false\n                }];\n            }\n            case 'changed': {\n                return tasks.map(t => {\n                    if (t.id === action.task.id) {\n                        return action.task;\n                    } else {\n                        return t;\n                    }\n                });\n            }\n            case 'deleted': {\n                return tasks.filter(t => t.id !== action.id);\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};","import * as React from \"react\";\nconst SvgIconEnd = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip4_13285\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u56FE\\\\u6807/16/\\\\u5F00\\\\u59CB\\\\uFF0C\\\\u8D77\\\\u70B9\\\\uFF0C\\\\u7AEF\\\\u70B9\", width: 16, height: 16, transform: \"matrix(-1 0 0 1 20 4)\", fill: \"white\", fillOpacity: 0 }))), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, transform: \"matrix(-1 0 0 1 24 0)\", fill: \"#5E7CE0\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip4_13285)\" }, /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M7.41 11.52L5.83 11.52L5.83 6.31L12.53 6.31C15.64 6.37 18.16 8.89 18.16 11.99C18.16 15.1 15.64 17.62 12.53 17.67L5.83 17.67L5.83 12.46L10.92 12.46L10.92 13.52L13.91 13.52L13.91 10.47L10.92 10.47L10.92 11.53L7.41 11.53L7.41 11.52Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" })));\nexport default SvgIconEnd;\n","import React, {useEffect, useState} from \"react\";\nimport {Header} from \"@/components/Header.jsx\";\n\n/**\n * 头部.\n *\n * @param shape 图形.\n * @return {JSX.Element}\n * @constructor\n */\nexport const EndNodeHeader = ({shape}) => {\n    const [endNodeCount, setEndNodeCount] = useState(0);\n\n    useEffect(() => {\n        // 节点数量变化\n        shape.page.addEventListener(\"TOOL_MENU_CHANGE\", (value) => {\n            setEndNodeCount(value[0])\n        });\n    }, []);\n\n    return (<>\n        <Header shape={shape}/>\n    </>);\n};","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport \"./style.css\";\nimport {Button} from \"antd\";\nimport {DIRECTION} from \"@fit-elsa/elsa-core\";\nimport EndIcon from '../asserts/icon-end.svg?react';\nimport {EndNodeHeader} from \"@/components/end/EndNodeHeader.jsx\"; // 导入背景图片\n\n/**\n * 结束节点shape\n *\n @override\n */\nexport const endNodeEnd = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"endNodeEnd\";\n    self.backColor = 'white';\n    self.pointerEvents = \"auto\";\n    self.text = \"结束\";\n    self.componentName = \"endComponent\";\n    self.flowMeta = {\n        \"triggerMode\": \"auto\",\n        \"callback\": {\n            \"type\": \"general_callback\",\n            \"name\": \"通知回调\",\n            \"fitables\": [\"com.huawei.fit.jober.aipp.fitable.AippFlowEndCallback\"],\n            \"converter\": {\n                \"type\": \"mapping_converter\"\n            },\n        }\n    };\n\n    /**\n     * @override\n     */\n    const getToolMenus = self.getToolMenus;\n    self.getToolMenus = () => {\n        if (self.page.shapes.filter(s => s.type === self.type).length === 1) {\n            return [{\n                key: '1', label: \"复制\", action: () => {\n                    self.duplicate();\n                }\n            }, {\n                key: '2', label: \"重命名\", action: (setEdit) => {\n                    setEdit(true);\n                }\n            }];\n        }\n        return getToolMenus.apply(self);\n    };\n\n    /**\n     * @override\n     */\n    const remove = self.remove;\n    self.remove = (source) => {\n        // 保证页面最少一个结束节点\n        let beforeCount = self.page.shapes.filter(s => s.type === \"endNodeEnd\").length;\n        if (beforeCount <= 1 && self.type === \"endNodeEnd\") {\n            return [];\n        }\n        const removed = remove.apply(self, [source]);\n        const curCount = self.page.shapes.filter(s => s.type === \"endNodeEnd\").length;\n        // 当从两个结束节点删除为一个的时候，需要通知最后一个结束节点刷新\n        if (curCount === 1) {\n            self.page.triggerEvent({\n                type: \"TOOL_MENU_CHANGE\",\n                value: [1]\n            });\n        }\n        return removed;\n    };\n\n    /**\n     * 设置E方向没有连接点\n     *\n     * @override\n     */\n    const initConnectors = self.initConnectors;\n    self.initConnectors = () => {\n        initConnectors.apply(self);\n        self.connectors.remove(c => c.direction.key === DIRECTION.E.key);\n    };\n\n    /**\n     * 序列化组件信息\n     *\n     * @override\n     */\n    self.serializerJadeConfig = () => {\n        self.flowMeta.callback.converter.entity = self.getLatestJadeConfig();\n    }\n\n    /**\n     * 获取用户自定义组件.\n     *\n     * @override\n     */\n    self.getComponent = () => {\n        return self.graph.plugins[self.componentName](self.flowMeta.callback.converter.entity);\n    };\n\n    /**\n     * 获取组件自定义entity对象\n     *\n     * @override\n     */\n    self.getEntity = () => {\n        return self.flowMeta.callback.converter.entity;\n    };\n\n    /**\n     * 获取Header组件\n     *\n     * @override\n     */\n    self.getHeaderComponent = () => {\n        return (<EndNodeHeader shape={self}/>);\n    }\n\n    self.getHeaderIcon = () => {\n        return (<>\n            <Button disabled={true} className=\"jade-node-custom-header-icon\">\n                <EndIcon/>\n            </Button>\n        </>);\n    };\n\n    /**\n     * @override\n     */\n    const created = self.created;\n    self.created = () => {\n        created.apply(self);\n        const endNodes = self.page.shapes.filter(s => s.type === self.type);\n        // 当从一个结束节点变为两个结束节点的时候，需要通知结束节点的header刷新\n        if (endNodes.length === 2) {\n            self.page.triggerEvent({\n                type: \"TOOL_MENU_CHANGE\",\n                value: [self.page.shapes.filter(s => s.type === \"endNodeEnd\").length]\n            });\n        }\n    };\n\n    return self;\n}","import {TreeSelect, Form} from \"antd\";\nimport {useFormContext, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport {useEffect, useRef, useState} from \"react\";\n\n/**\n * jade的带引用功能的级联选择框.\n *\n * @param reference 引用数据.\n * @param onReferencedValueChange 当引用组件的值发生变化时触发.\n * @param onReferencedKeyChange 当引用的key发生变化时触发.\n * @param rules 校验规则.\n * @param className 组件使用的类名称.\n * @param rest 其他参数.\n * @return {JSX.Element}\n * @constructor\n */\nexport const JadeReferenceTreeSelect = ({reference, onReferencedValueChange, onReferencedKeyChange, rules, className, ...rest}) => {\n    const shape = useShapeContext();\n    const form = useFormContext();\n    const stopObserve = useRef(null);\n    const [treeData, setTreeData] = useState([]);\n    const name = `reference-${reference.id}`;\n    // 合并外部传入的 className 和内部定义的 className\n    const combinedClassName = `jade-tree-select ${className || ''}`.trim();\n\n\n    /**\n     * 当选择发生变化时，触发.监听不同的组件.\n     *\n     * @param selected 是个数组，包含从根节点到被选中节点的所有节点数据.\n     */\n    const onChange = (selected) => {\n        if (!selected) {\n            return;\n        }\n\n        // 若之前已有监听，则取消之前的监听.\n        if (stopObserve.current) {\n            stopObserve.current();\n        }\n\n        const treeMap = new Map(treeData.map(d => [d.id, d]));\n        const treeNode = treeMap.get(selected);\n        const value = buildValue(treeMap, treeNode);\n        stopObserve.current = shape.observeTo(treeNode.nId, treeNode.value, (args) => _onReferenceValueChange(args.value, args.type));\n        onReferencedKeyChange({referenceNode: treeNode.nId, referenceId: treeNode.value, value});\n    };\n\n    const buildValue = (observableMap, o) => {\n        const ans = [];\n        ans.unshift(o.title);\n\n        let parentId = o.pId;\n        while (parentId) {\n            const parent = observableMap.get(parentId);\n            if (!parent || parent.pId === 0) {\n                break;\n            }\n\n            ans.unshift(parent.title);\n            parentId = parent.pId;\n        }\n\n        return ans;\n    };\n\n    /**\n     * 当dropdown显示时触发，实时获取tree数据.\n     */\n    const onDropdownVisibleChange = () => {\n        const nodeInfos = shape.getPreNodeInfos();\n        const simpleTree = nodeInfos.map(n => {\n            const ans = [];\n            ans.push({id: n.id, pId: 0, value: n.id, title: n.name, selectable: false});\n            n.observableList.forEach(o => {\n                if (!o.parentId) {\n                    o.parentId = n.id;\n                }\n                const treeNode = {\n                    nId: n.id,\n                    id: o.observableId,\n                    pId: o.parentId,\n                    value: o.observableId,\n                    title: o.value\n                };\n                ans.push(treeNode);\n            });\n\n            return ans;\n        }).flatMap(n => n);\n\n        setTreeData(simpleTree);\n    };\n\n    // 组件初始化后，若存在引用关系，则进行监听.\n    useEffect(() => {\n        if (reference.referenceNode && reference.referenceId) {\n            stopObserve.current = shape.observeTo(reference.referenceNode, reference.referenceId, (args) => _onReferenceValueChange(args.value, args.type));\n        }\n\n        // 当组件unmount时，停止监听.\n        return () => {\n            stopObserve.current && stopObserve.current();\n        };\n    }, []);\n\n    /*\n     * 当Form.Item设置了name之后，只能通过form.setFieldValue设置value的值.\n     */\n    const _onReferenceValueChange = (v, t) => {\n        form.setFieldsValue({[name]: v});\n        onReferencedValueChange(v, t);\n    };\n\n    return (<>\n        <Form.Item\n                id={`reference-id-${reference.id}`}\n                name={[name]}\n                initialValue={reference.referenceKey}\n                rules={rules}\n                validateTrigger=\"onBlur\"\n        >\n            <TreeSelect\n                    {...rest}\n                    className={combinedClassName}\n                    treeDataSimpleMode\n                    dropdownStyle={{maxHeight: 400, overflow: 'auto', minWidth: 250}}\n                    placeholder=\"请选择\"\n                    onChange={onChange}\n                    treeData={treeData}\n                    onDropdownVisibleChange={onDropdownVisibleChange}\n                    treeDefaultExpandAll={false}\n                    onMouseDown={(e) => e.stopPropagation()}\n            />\n        </Form.Item>\n    </>);\n};","import {Col, Form, Input, Row, Select} from \"antd\";\nimport React from \"react\";\nimport {JadeReferenceTreeSelect} from \"@/components/common/JadeReferenceTreeSelect.jsx\";\nimport {useFormContext} from \"@/components/DefaultRoot.jsx\";\n\n/**\n * 输出变量的每个条目\n *\n * @param item 当前条目数据\n * @param handleItemChange 更改值的回调\n * @returns {JSX.Element}\n * @constructor\n */\nexport default function OutputVariableRow({item, handleItemChange}) {\n    const inputName = `value-${item.id}`;\n    const form = useFormContext();\n\n    const _onReferencedValueChange = (value) => {\n        handleItemChange(item.id, [{key: \"referenceKey\", value: value}]);\n    };\n\n    const _onReferencedKeyChange = (e) => {\n        handleItemChange(item.id, [{key: 'referenceNode', value: e.referenceNode},\n            {key: 'referenceId', value: e.referenceId},\n            {key: 'value', value: e.value}]);\n    };\n\n    /**\n     * 更改输出变量的属性\n     *\n     * @return {(function(*): void)|*}\n     */\n    const editOutputVariable = () => (e) => {\n        if (!e.target.value) {\n            return;\n        }\n        handleItemChange(item.id, [{key: 'value', value: e.target.value}]);\n    };\n\n    /**\n     * 通过字段类型选择渲染组件\n     *\n     * @param from 类型\n     * @return {JSX.Element|null}\n     */\n    const renderByType = (from) => {\n        switch (from) {\n            case 'Reference':\n                return (<>\n                    <JadeReferenceTreeSelect\n                            reference={item}\n                            onReferencedValueChange={_onReferencedValueChange}\n                            onReferencedKeyChange={_onReferencedKeyChange}\n                            style={{fontSize: \"12px\"}}\n                            placeholder=\"请选择\"\n                            onMouseDown={(e) => e.stopPropagation()}\n                            showSearch\n                            className=\"value-custom jade-select\"\n                            dropdownStyle={{\n                                maxHeight: 400, overflow: 'auto'\n                            }}\n                            value={item.value}\n                            rules={[{required: true, message: \"字段值不能为空\"}]}\n                    />\n                </>);\n            case 'String':\n                return (<>\n                    <Form.Item\n                            style={{marginBottom: '8px'}}\n                            id={`value-${item.id}`}\n                            name={`value-${item.id}`}\n                            rules={[{required: true, message: '字段值不能为空'}]}\n                            validateTrigger=\"onBlur\"\n                    >\n                        <Input\n                                className=\"value-custom jade-input\"\n                                style={{fontSize: \"12px\"}}\n                                placeholder=\"请输入\"\n                                value={item.value}\n                                onBlur={editOutputVariable}\n                        />\n                    </Form.Item>\n                </>);\n            default:\n                return null;\n        }\n    };\n\n    return (\n            <Row\n                    key={`output-variable-${item.id}`}\n                    gutter={16}\n            >\n                <Col span={8} style={{display: \"flex\", paddingTop: \"5px\"}}>\n                    <span className=\"end-starred-text\">finalOutput</span>\n                </Col>\n                <Col span={6} style={{paddingRight: 0}}>\n                    <Form.Item\n                            style={{marginBottom: '8px'}}\n                            id={`valueSource-${item.id}`}\n                            initialValue='Reference'\n                    >\n                        <Select\n                                onMouseDown={(e) => e.stopPropagation()}\n                                id={`valueSource-select-${item.id}`}\n                                className={\"value-source-custom jade-select\"}\n                                style={{width: \"100%\"}}\n                                onChange={(value) => {\n                                    form.resetFields([`reference-${item.id}`, inputName]);\n                                    let changes = [{key: 'from', value: value}, {key: \"value\", value: \"\"}];\n                                    if (value === \"String\") {\n                                        changes = [\n                                            {key: 'from', value: value},\n                                            {key: \"value\", value: \"\"},\n                                            {key: \"referenceNode\", value: \"\"},\n                                            {key: \"referenceId\", value: \"\"},\n                                            {key: \"referenceKey\", value: \"\"}\n                                        ]\n                                    }\n                                    handleItemChange(item.id, changes);\n                                }}\n                                options={[\n                                    {value: 'Reference', label: '引用'},\n                                    {value: 'String', label: '输入'}\n                                ]}\n                                value={item.from}\n                        />\n                    </Form.Item>\n                </Col>\n                <Col span={10} style={{paddingLeft: 0}}>\n                    {renderByType(item.from)}\n                </Col>\n            </Row>\n    );\n}","import {Col, Collapse, Form, Popover, Row} from \"antd\";\nimport React from \"react\";\nimport {InfoCircleOutlined} from '@ant-design/icons';\nimport \"./style.css\";\nimport OutputVariableRow from \"@/components/end/OutputVariableRow.jsx\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 输出变量的组件，包含多条输出变量的条目\n *\n * @returns {JSX.Element}\n * @constructor\n */\nexport default function OutputVariable() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n\n    /**\n     * 初始化数据\n     *\n     * @return {*}\n     */\n    const initData = () => {\n        return data && data.inputParams;\n    };\n\n    /**\n     * 处理输入发生变化的动作\n     *\n     * @param id id\n     * @param changes 变更的字段\n     */\n    const handleItemChange = (id, changes) => {\n        dispatch({type: \"editOutputVariable\", id: id, changes: changes});\n    };\n\n\n    const tips =\n        <div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}><p>这些变量将在机器人完成工作流调用后输出。</p>\n            <p>在“返回变量”模式下，这些变量将由机器人汇总并回复给用户；</p>\n            <p>在“直接回答”模式下，机器人将只回复配置卡时可以使用的变量</p></div>;\n\n    return (\n        <div>\n            <Collapse bordered={false} className=\"jade-collapse-custom-background-color\"\n                      style={{marginTop: \"10px\", marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n                      defaultActiveKey={['Output variable']}>\n                <Panel\n                    style={{marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n                    header={\n                        <div\n                            style={{display: 'flex', alignItems: 'center', justifyContent: \"flex-start\"}}>\n                            <span className=\"jade-panel-header-font\">输出</span>\n                            <Popover content={tips}>\n                                <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                            </Popover>\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                    key='Output variable'\n                >\n                    <Row gutter={16}>\n                        <Col span={8}>\n                            <Form.Item style={{marginBottom: \"8px\"}}>\n                                <span className=\"jade-font-size jade-font-color\">字段名称</span>\n                            </Form.Item>\n                        </Col>\n                        <Col span={16}>\n                            <Form.Item style={{marginBottom: \"8px\"}}>\n                                <span className=\"jade-font-size jade-font-color\">字段值</span>\n                            </Form.Item>\n                        </Col>\n                    </Row>\n                    <OutputVariableRow item={initData()[0]} handleItemChange={handleItemChange}/>\n                </Panel>\n            </Collapse>\n        </div>\n    );\n}","import OutputVariable from \"@/components/end/OutputVariable.jsx\";\n\n/**\n * 用来封装结束节点子组件的最顶层组件\n *\n * @returns {JSX.Element}\n * @constructor\n */\nexport default function EndNodeWrapper() {\n    return (<div style={{backgroundColor: 'white'}}>\n        <OutputVariable/>\n    </div>)\n}","import EndNodeWrapper from \"@/components/end/EndNodeWrapper.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\n\n/**\n * 结束节点组件\n *\n * @param jadeConfig\n */\nexport const endComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必填\n     *\n     * @return 组件信息\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            inputParams: [{\n                id: uuidv4(),\n                name: \"finalOutput\",\n                type: \"String\",\n                from: \"Reference\",\n                referenceNode: \"\",\n                referenceId: \"\",\n                referenceKey: \"\",\n                value: []\n            }],\n            outputParams: [{}],\n        }\n    };\n\n    self.getReactComponents = () => {\n        return (<EndNodeWrapper/>);\n    };\n\n    /**\n     * @override\n     */\n    self.reducers = (config, action) => {\n        const _editOutputVariable = () => {\n            const inputParams = newConfig.inputParams.find(item => item.name === \"finalOutput\");\n            action.changes.forEach(change => {\n                inputParams[change.key] = change.value;\n            })\n        };\n\n        const newConfig = {...config};\n        switch (action.type) {\n            // 格式：dispatch({type: 'editOutputVariable', item:{id: 0, name: \"\", type: \"String\", from: \"Reference\", value: \"\"})\n            case 'editOutputVariable':\n                _editOutputVariable();\n                return newConfig;\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n}","import * as React from \"react\";\nconst SvgIconRetrieval = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip4_13287\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u56FE\\\\u6807/16/\\\\u6570\\\\u636E\\\\u68C0\\\\u7D22\\\\uFF0C\\\\u67E5\\\\u627E\", width: 16, height: 16, transform: \"translate(4.000000 4.000000)\", fill: \"white\", fillOpacity: 0 }))), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#50D4AB\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip4_13287)\" }, /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M12.11 10.24C15.33 10.24 18.03 9.02 18.03 7.62C18.03 6.14 15.42 5.01 12.11 5.01C8.8 5.01 6.19 6.23 6.19 7.62C6.19 9.1 8.8 10.24 12.11 10.24ZM12.11 13.02L12.37 13.02C12.89 11.8 14.11 11.02 15.59 11.02C16.29 11.02 16.9 11.19 17.51 11.54C17.86 11.19 18.12 10.85 18.12 10.41L18.12 8.32C18.12 9.8 15.51 10.93 12.2 10.93C8.97 10.93 6.27 9.71 6.27 8.32L6.27 10.32C6.19 11.8 8.8 13.02 12.11 13.02ZM12.11 15.72L12.28 15.72C12.11 15.38 12.02 14.94 12.02 14.5C12.02 14.24 12.02 13.98 12.11 13.72C8.89 13.72 6.19 12.5 6.19 11.11L6.19 13.11C6.19 14.59 8.8 15.72 12.11 15.72ZM14.55 17.81C13.77 17.55 13.07 17.12 12.63 16.42L12.11 16.42C8.89 16.42 6.19 15.2 6.19 13.81L6.19 15.81C6.19 17.29 8.8 18.42 12.11 18.42C12.98 18.42 13.85 18.34 14.64 18.16C14.55 18.08 14.55 17.99 14.55 17.81ZM19.69 17.9L17.86 16.07L17.77 15.99C18.03 15.55 18.21 15.03 18.21 14.42C18.21 12.85 16.9 11.54 15.33 11.54C13.77 11.54 12.46 12.85 12.46 14.42C12.46 15.99 13.77 17.29 15.33 17.29C15.86 17.29 16.29 17.12 16.73 16.94C16.73 16.94 16.73 17.03 16.81 17.03L18.64 18.86C18.82 19.03 19.25 19.03 19.52 18.77C19.86 18.42 19.86 18.08 19.69 17.9ZM13.33 14.42C13.33 13.28 14.29 12.33 15.42 12.33C16.55 12.33 17.51 13.28 17.51 14.42C17.51 15.55 16.55 16.51 15.42 16.51C14.2 16.51 13.33 15.55 13.33 14.42Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" })));\nexport default SvgIconRetrieval;\n","import {Select} from \"antd\";\n\n/**\n * 不会受Elsa冒泡机制影响的Select组件.\n *\n * @param props 参数.\n * @return {JSX.Element}\n * @constructor\n */\nexport const JadeStopPropagationSelect = (props) => {\n    const {onMouseDown, ...rest} = props;\n\n    /**\n     * 选择框被鼠标点击时调用.\n     *\n     * @param e 事件对象.\n     * @private\n     */\n    const _onMouseDown = (e) => {\n        onMouseDown && onMouseDown(e);\n\n        // 取消onMouseDown事件的冒泡.\n        e.stopPropagation();\n    };\n\n    return <><Select onMouseDown={(e) => _onMouseDown(e)} {...rest}/></>\n};","import {Col, Collapse, Form, Input, Popover, Row} from \"antd\";\nimport {InfoCircleOutlined} from \"@ant-design/icons\";\nimport React from \"react\";\nimport {useDataContext, useDispatch, useFormContext} from \"@/components/DefaultRoot.jsx\";\nimport {JadeReferenceTreeSelect} from \"@/components/common/JadeReferenceTreeSelect.jsx\";\nimport {JadeStopPropagationSelect} from \"../common/JadeStopPropagationSelect.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 输入节点组件\n *\n * @returns {JSX.Element}\n */\nexport default function InputForm() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const currentData = data && data.inputParams.find(item => item.name === \"query\");\n    const form = useFormContext();\n    const name = `input-${currentData.id}`;\n\n    /**\n     * 处理输入发生变化的动作\n     *\n     * @param id id\n     * @param changes 变更的字段\n     */\n    const handleItemChange = (id, changes) => {\n        dispatch({type: \"editInput\", id: id, changes: changes});\n    };\n\n    /**\n     * 引用的值发生改变\n     *\n     * @param item 子组件\n     * @param value 值\n     * @private\n     */\n    const _onReferencedValueChange = (item, value) => {\n        handleItemChange(item.id, [{key: 'referenceKey', value: value}])\n    };\n\n    /**\n     * 引用的对象发生变化\n     *\n     * @param item 子组件\n     * @param e 动作\n     * @private\n     */\n    const _onReferencedKeyChange = (item, e) => {\n        handleItemChange(item.id, [{key: 'referenceNode', value: e.referenceNode},\n            {key: 'referenceId', value: e.referenceId},\n            {key: 'value', value: e.value}]);\n    };\n\n    /**\n     * 更新input的属性\n     *\n     * @param item 子组件\n     * @return {(function(*): void)|*}\n     */\n    const editInput = item => (e) => {\n        if (!e.target.value) {\n            return;\n        }\n        handleItemChange(item.id, [{key: 'value', value: e.target.value}]);\n    };\n\n    /**\n     * 根据值渲染组件\n     *\n     * @param item 值\n     * @return {JSX.Element|null}\n     */\n    const renderComponent = (item) => {\n        switch (item.from) {\n            case 'Reference':\n                return (<>\n                    <JadeReferenceTreeSelect\n                            reference={item}\n                            onReferencedValueChange={(v) => _onReferencedValueChange(item, v)}\n                            onReferencedKeyChange={(e) => _onReferencedKeyChange(item, e)}\n                            style={{fontSize: \"12px\"}}\n                            placeholder=\"请选择\"\n                            onMouseDown={(e) => e.stopPropagation()}\n                            showSearch\n                            className=\"value-custom jade-select\"\n                            dropdownStyle={{\n                                maxHeight: 400,\n                                overflow: 'auto',\n                            }}\n                            rules={[{required: true, message: \"字段值不能为空\"}]}\n                    />\n                </>);\n            case 'Input':\n                return (<>\n                    <Form.Item\n                            id={`input-${item.id}`}\n                            name={`input-${item.id}`}\n                            rules={[{required: true, message: \"字段值不能为空\"}, {\n                                pattern: /^[^\\s]*$/,\n                                message: \"禁止输入空格\"\n                            }]}\n                            initialValue={item.value}\n                            validateTrigger=\"onBlur\"\n                    >\n                        <Input\n                                className=\"value-custom jade-input\"\n                                placeholder=\"清输入\"\n                                value={item.value}\n                                onBlur={editInput(item)}\n                        />\n                    </Form.Item>\n                </>);\n            default:\n                return null;\n        }\n    };\n    const tips = <div className={\"jade-font-size\"}><p>输入需要从知识库中匹配的关键信息</p></div>;\n\n    return (<div>\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\"\n                  defaultActiveKey={['Input']}>\n            <Panel\n                    header={\n                        <div className=\"panel-header\">\n                            <span className=\"jade-panel-header-font\">输入</span>\n                            <Popover content={tips}>\n                                <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                            </Popover>\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                    key='Input'\n            >\n                <Row>\n                    <Col span={8}>\n                        <Form.Item style={{marginBottom: \"8px\"}}>\n                            <span className=\"jade-font-size jade-font-color\">字段名称</span>\n                        </Form.Item>\n                    </Col>\n                    <Col span={16}>\n                        <Form.Item style={{marginBottom: \"8px\"}}>\n                            <span className=\"jade-font-size jade-font-color\">字段值</span>\n                        </Form.Item>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col span={8} style={{display: \"flex\", paddingTop: \"5px\"}}>\n                        <span className=\"retrieval-starred-text\">query</span>\n                    </Col>\n\n                    <Col span={8} style={{paddingRight: 0}}>\n                        <Form.Item id={`valueSource`} initialValue=\"Reference\">\n                            <JadeStopPropagationSelect\n                                    id={`valueSource-select-${currentData.id}`}\n                                    className={\"value-source-custom jade-select\"}\n                                    style={{width: \"100%\"}}\n                                    onChange={(value) => {\n                                        let changes = [{key: 'from', value: value}, {key: \"value\", value: \"\"}];\n                                        if (value === \"Input\") {\n                                            changes = [{key: 'from', value: value},\n                                                {key: \"value\", value: \"\"},\n                                                {key: \"referenceNode\", value: \"\"},\n                                                {key: \"referenceId\", value: \"\"},\n                                                {key: \"referenceKey\", value: \"\"}]\n                                        }\n                                        handleItemChange(currentData.id, changes);\n                                        form.resetFields([`reference-${currentData.id}`, name]);\n                                    }}\n                                    options={[{value: 'Reference', label: '引用'}, {value: 'Input', label: '输入'}]}\n                                    value={currentData.from}\n                            />\n                        </Form.Item>\n                    </Col>\n                    <Col span={8} style={{paddingLeft: 0}}>\n                        {renderComponent(currentData)} {/* 渲染对应的组件 */}\n                    </Col>\n                </Row>\n            </Panel>\n        </Collapse>\n    </div>)\n}","import {Col, Form, Popover, Row, Slider} from \"antd\";\nimport {InfoCircleOutlined} from \"@ant-design/icons\";\nimport React from \"react\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\n\n/**\n * 知识配置组件\n *\n * @returns {JSX.Element}\n * @constructor\n */\nexport default function KnowledgeConfig() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const config = data && data.inputParams.find(item => item.name === \"maximum\").value;\n\n    const maxRecallsTip = <div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}>\n        <p>从知识返回到模型的最大段落数。数字越大，返回的内容越多。</p>\n    </div>;\n\n    const defaultRecalls = {\n        1: '1',\n        [3]: '默认',\n        10: '10',\n    };\n\n    return (\n        <Row className=\"jade-row\">\n            <Col span={12} className=\"jade-column\">\n                <Form.Item>\n                    <span style={{\n                                fontSize: '12px',\n                                fontFamily: 'SF Pro Display',\n                                letterSpacing: '0.12px',\n                                lineHeight: '16px',\n                                alignItems: \"center\",\n                                userSelect: 'none',\n                                marginRight: '4px',\n                                color: 'rgba(28, 29, 35, 0.35)'\n                            }}>返回最大值</span>\n                    <Popover content={maxRecallsTip}>\n                        <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                    </Popover>\n                </Form.Item>\n            </Col>\n            <Col span={12}>\n                <Form.Item\n                    style={{marginBottom: '0'}}\n                    id={`valueSource`}\n                    initialValue='Reference'\n                >\n                    <Slider\n                        className=\"jade-slider\"\n                        style={{width: \"90%\"}}\n                        min={1}\n                        max={10}\n                        step={1}\n                        marks={defaultRecalls}\n                        defaultValue={3}\n                        value={config}\n                        onChange={(value) => dispatch({type: \"changeMaximum\", key: \"maximum\", value: value})}\n                    />\n                </Form.Item>\n            </Col>\n        </Row>\n    );\n};","import axios from 'axios';\n\n/**\n * 基于axios创建一个AxiosInstance。\n *\n * @param headers 请求头。\n * @returns {AxiosInstance} 创建的AxiosInstance。\n */\nconst createInstance = (headers = {}) => {\n    const instance = axios.create({\n        withCredentials: true, // 设置 withCredentials 为 true\n        timeout: 10000, // 设置请求超时时间（毫秒）\n        headers: {\n            'Content-Type': 'application/json', // 设置默认请求头\n            ...headers, // 合并自定义的请求头\n        },\n        // 这里可以添加拦截器,更多关于拦截器的内容可以参考 axios 文档：https://axios-http.com/docs/interceptors\n    });\n\n    // 添加拦截器\n    instance.interceptors.request.use(config => {\n        // 在请求发送之前执行的逻辑\n        return config;\n    }, error => {\n        // 对请求错误做些什么\n        return Promise.reject(error);\n    });\n\n    instance.interceptors.response.use(response => {\n        // 在响应返回之后执行的逻辑\n        return response.data;\n    }, error => {\n        // 对响应错误做些什么\n        return Promise.reject(error);\n    });\n\n    return instance;\n};\n\n/**\n * 创建一个基于Axios实现的httpRequest实例。\n *\n * @param method http调用的方法。 e.g. GET/POST/PUT/DELETE\n * @param url 调用的目标url。\n * @param headers 调用时使用的请求头。\n * @param data body中请求的数据。\n * @param callback 请求成功后的回调。\n * @param errorCallback 请求失败的回调\n */\nexport const httpRequest = (method, url, headers, data, callback = () => {}, errorCallback = () => {}) => {\n    const instance = createInstance(headers);\n    instance.request({\n        method: method,\n        url: url,\n        data: data,\n    }).then(response => {\n        callback(response);\n    }).catch(error => {\n        errorCallback(error);\n    });\n};\n\n/**\n * get请求。\n *\n * @param url 请求的url地址。\n * @param headers 请求头。\n * @param callback 回调。\n * @param errorCallback 请求失败的回调\n */\nexport const get = (url, headers = new Map(), callback, errorCallback) => {\n    httpRequest(\"Get\", url, headers, {}, callback, errorCallback);\n};\n\n/**\n * post请求。\n *\n * @param url 请求的url地址。\n * @param data 请求的数据。\n * @param headers 请求头。\n * @param callback 回调。\n * @param errorCallback 请求失败的回调\n */\nexport const post = (url, data, headers = new Map(), callback, errorCallback) => {\n    httpRequest(\"Post\", url, headers, data, callback, errorCallback);\n};\n\n/**\n * put请求。\n *\n * @param url 请求的url地址。\n * @param data 请求的数据。\n * @param headers 请求头。\n * @param callback 回调。\n * @param errorCallback 请求失败的回调\n */\nexport const put = (url, data, headers = new Map(), callback, errorCallback) => {\n    httpRequest(\"Put\", url, headers, data, callback, errorCallback);\n};\n\n/**\n * delete请求。delete为关键字，因此这里使用del作为方法名。\n *\n * @param url 请求的url地址。\n * @param headers 请求头。\n * @param callback 回调。\n * @param errorCallback 请求失败的回调\n */\nexport const del = (url, headers = new Map(), callback, errorCallback) => {\n    httpRequest(\"Delete\", url, headers, {}, callback, errorCallback);\n};\n\n// 添加默认导出\nconst httpUtil = {\n    get,\n    post,\n    put,\n    del,\n};\n\nexport default httpUtil;","import {JadeStopPropagationSelect} from \"@/components/common/JadeStopPropagationSelect.jsx\";\nimport {useState} from \"react\";\nimport httpUtil from \"@/components/util/httpUtil.jsx\";\n\n/**\n * 通用分页加载下拉框组件\n *\n * @return {JSX.Element}\n * @constructor\n * @param props\n */\nexport default function JadeScrollSelect(props) {\n    const [options, setOptions] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [page, setPage] = useState(1);\n    const {\n        buildUrl,\n        onChange,\n        getOptions,\n        disabled,\n        dealResponse,\n        ...rest\n    } = props;\n    const url = buildUrl(page);\n\n    /**\n     * 下拉框展开时进行接口调用\n     *\n     * @param open 是否打开\n     * @return {Promise<void>}\n     */\n    const handleDropdown = async (open) => {\n        if (!open) {\n            return;\n        }\n        if (options.length !== 0) {\n            return;\n        }\n        setLoading(true); // 设置加载状态为 true\n        httpUtil.get(url, undefined, (response) => {\n            const data = dealResponse(response);\n            // 更新下拉框选项\n            data && setOptions(data);\n            setLoading(false);\n        }, (error) => {\n            console.error('Error fetching options:', error);\n            setLoading(false);\n        })\n    };\n\n    /**\n     * 下拉框滑动条到底部后触发接口调用\n     *\n     * @param e 动作事件\n     * @return {Promise<void>}\n     */\n    const handlePopupScroll = async (e) => {\n        const {target} = e;\n        // 未滚动到底部，直接返回\n        if (target.scrollTop + target.clientHeight !== target.scrollHeight) {\n            return;\n        }\n        // 加载新页面的操作\n        console.log(\"Scroll to bottom. Loading new page...\");\n        const curPage = page;\n        setPage(page + 1);\n        setLoading(true); // 设置加载状态为 true\n        httpUtil.get(url, undefined, (response) => {\n            const data = response.data;\n            // 更新下拉框选项，合并之前的数据\n            data && setOptions([...options, ...data]);\n            setLoading(false);\n        }, (error) => {\n            console.error('Error fetching options:', error);\n            setLoading(false);\n            // 数据加载失败，重新加载当前页\n            setPage(curPage);\n        })\n    };\n\n    /**\n     * 选择option时发生的回调\n     *\n     * @param value 数据\n     */\n    const handleOnChange = (value) => {\n        onChange(value, options);\n    }\n\n    return (\n        <JadeStopPropagationSelect\n            className={\"jade-select\"}\n            style={{width: '100%'}}\n            onPopupScroll={handlePopupScroll}\n            onDropdownVisibleChange={handleDropdown}\n            onChange={handleOnChange}\n            disabled={disabled ? disabled : false}\n            options={getOptions(options)}\n            loading={loading}\n            mode=\"single\"\n            {...rest}\n        />\n    );\n}","import React from \"react\";\nimport {Button, Col, Collapse, Form, Popover, Row} from \"antd\";\nimport {InfoCircleOutlined, MinusCircleOutlined, PlusOutlined} from \"@ant-design/icons\";\nimport KnowledgeConfig from \"@/components/retrieval/KnowledgeConfig.jsx\";\nimport {useDataContext, useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\nimport JadeScrollSelect from \"@/components/common/JadeScrollSelect.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 知识节点组件\n *\n * @returns {JSX.Element}\n */\nexport default function KnowledgeForm() {\n    // 保存下拉框选项\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const shape = useShapeContext();\n    const getKnowledge = data && [...data.inputParams.find(item => item.name === \"knowledge\").value];\n    const baseUrl = shape.graph.configs && shape.graph.configs.find(config => config.node === \"knowledgeState\").urls.knowledgeUrl;\n\n    /**\n     * 构造当前组件的url\n     *\n     * @param page 页码\n     * @return {string}\n     */\n    const buildUrl = (page) => {\n        return baseUrl + '?pageNum=' + page + '&pageSize=10';\n    }\n\n    /**\n     * 获取button的状态\n     *\n     * @return {boolean} 是否禁用\n     */\n    const getButtonDisable = () => {\n        return getKnowledge.length <= 1;\n    };\n\n    /**\n     * 添加一个知识库\n     *\n     * @param e 事件\n     */\n    const addItem = (e) => {\n        dispatch({type: \"addKnowledge\", id: uuidv4()});\n        e.stopPropagation();\n    };\n\n    /**\n     * 知识库选择发生变化\n     *\n     * @param id 对应的id\n     * @param key 字段名\n     * @param value 字段值\n     * @param options 所有选项数据\n     */\n    const handleKnowledgeChange = (id, key, value, options) => {\n        dispatch({type: \"editKnowledge\", id: id, key: key, value: options.find(option => option.id === value)});\n    };\n\n    /**\n     * 清除知识库选项\n     *\n     * @param id 对应的id\n     */\n    const handleKnowledgeClear = (id) => {\n        dispatch({type: \"clearKnowledge\", id: id});\n    };\n\n    /**\n     * 删除知识库\n     *\n     * @param itemId 知识库id\n     */\n    const handleDelete = (itemId) => {\n        dispatch({type: \"deleteKnowledge\", id: itemId});\n    };\n\n    /**\n     * 获取需要的数据\n     *\n     * @param response 接口返回信息\n     * @return {*}\n     */\n    const dealResponse = (response) => {\n        return response.data.items;\n    };\n\n    /**\n     * 获取工具组件的options\n     *\n     * @param options 选项\n     * @return {*}\n     */\n    const getOptions = (options) => options.map(option => ({\n        value: option.id,\n        label: option.name,\n    }));\n\n    /**\n     * 获取当前选中框中选中的值\n     *\n     * @param item 当前的选中框对象\n     * @return {*|string}\n     */\n    const getValue = item => {\n        if (item.value && item.value.length !== 0) {\n            return item.value.find(value => value.name === 'name').value;\n        } else {\n            return '';\n        }\n    };\n\n    const tips = <div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}>\n        <p>选择需要匹配的知识范围，</p>\n        <p>仅从所选知识中调出信息</p>\n    </div>;\n\n    return (<Collapse bordered={false} className=\"jade-collapse-custom-background-color\"\n                      style={{marginTop: \"10px\", marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n                      defaultActiveKey={['Knowledge']}>\n        <Panel\n            style={{marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n            header={<div\n                style={{display: 'flex', alignItems: 'center'}}>\n                <span className=\"jade-panel-header-font\">知识库</span>\n                <Popover content={tips}>\n                    <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                </Popover>\n                <Button type=\"text\" className=\"icon-button\" onClick={(event) => addItem(event)}\n                        style={{height: \"22px\", marginLeft: \"auto\"}}>\n                    <PlusOutlined/>\n                </Button>\n            </div>}\n            className=\"jade-panel\"\n            key='Knowledge'\n        >\n            {getKnowledge.map((item) => (<Row\n                    key={`knowledgeRow-${item.id}`}\n                    gutter={16}\n            >\n                <Col span={22}>\n                    <Form.Item\n                            key={`knowledge-${item.id}`}\n                            style={{marginBottom: '8px'}}\n                            id={`knowledge-${item.id}`}\n                    >\n                        <JadeScrollSelect\n                                allowClear\n                                placeholder=\"选择知识库\"\n                                id={`valueSource-select-${item.id}`}\n                                onClear={() => handleKnowledgeClear(item.id)}\n                                onChange={(value, options) => handleKnowledgeChange(item.id, 'value', value, options)}\n                                buildUrl={buildUrl}\n                                disabled={false}\n                                getOptions={getOptions}\n                                dealResponse={dealResponse}\n                                value={getValue(item)}\n                        />\n                    </Form.Item>\n                </Col>\n                <Col span={2} style={{paddingLeft: \"2px\"}}>\n                    <Form.Item key={`button-${item.id}`} style={{marginBottom: '8px'}}>\n                        <Button disabled={getButtonDisable()}\n                                type=\"text\" className=\"icon-button\"\n                                style={{alignItems: \"center\", marginLeft: \"auto\"}}\n                                onClick={() => handleDelete(item.id)}>\n                            <MinusCircleOutlined/>\n                        </Button>\n                    </Form.Item>\n                </Col>\n            </Row>))}\n            <KnowledgeConfig/>\n        </Panel>\n    </Collapse>);\n}","import {Tree} from \"antd\";\nimport {useShapeContext} from \"../DefaultRoot.jsx\";\nimport {useEffect, useState} from \"react\";\nimport \"./jadeObservableTree.css\";\n\n/**\n * 可被观察的树装结构.\n *\n * @param data 数据.\n * @return {JSX.Element}\n * @constructor\n */\nexport const JadeObservableTree = ({data}) => {\n    if (!Array.isArray(data)) {\n        throw new Error(\"data must be array.\");\n    }\n\n    const [treeData, setTreeData] = useState(null);\n    const shape = useShapeContext();\n\n    useEffect(() => {\n        const treeData = data.map(d => buildNode(d, null));\n        setTreeData(treeData);\n\n        // unmount时取消监听.\n        return () => {\n            if (treeData) {\n                traverseTree(treeData, (n) => {\n                    shape.page.removeObservable(shape.id, n.key)\n                });\n            }\n        };\n    }, []);\n\n    const traverseTree = (nodes, action) => {\n        nodes.forEach(n => {\n           n.children && traverseTree(n.children, action);\n           action(n);\n        });\n    };\n\n    /**\n     * 构建节点，只有Object节点有子孙节点.\n     * 构建过程中，逐级注册observable，使后续节点可以进行reference操作.\n     *\n     * @param nodeData 节点数据.\n     * @param parent 父节点数据.\n     * @return {{title, isLeaf: boolean, key}|{children: *, title, key}} 树节点.\n     */\n    const buildNode = (nodeData, parent) => {\n        shape.page.registerObservable(shape.id, nodeData.id, nodeData.name, nodeData.type, parent ? parent.id : null);\n        if (nodeData.type === \"Object\") {\n            return {\n                title: nodeData.name,\n                type: nodeData.type,\n                key: nodeData.id,\n                children: nodeData.value.map(v => buildNode(v, nodeData))\n            };\n        } else {\n            return {\n                title: nodeData.name, type: nodeData.type, key: nodeData.id, isLeaf: true\n            };\n        }\n    };\n\n    /**\n     * 自定义标题展示.\n     *\n     * @param nodeData 节点数据.\n     * @return {JSX.Element} react 组件对象.\n     */\n    const displayTitle = (nodeData) => {\n        return (<>\n            <div className=\"jade-observable-tree-node-div\">\n                <div style={{display: \"flex\"}}>\n                    <span className=\"jade-observable-tree-node-title\">{nodeData.title}</span>\n                    <div className=\"jade-observable-tree-node-type-div\">\n                        <span className=\"jade-observable-tree-node-type-name\">{nodeData.type}</span>\n                    </div>\n                </div>\n            </div>\n        </>);\n    };\n\n    return (<>\n        <Tree treeData={treeData} titleRender={(nodeData) => displayTitle(nodeData)}\n              showLine={true}\n              selectable={false}/>\n    </>);\n};","import {Collapse, Popover, Form} from \"antd\";\nimport {InfoCircleOutlined} from \"@ant-design/icons\";\nimport React from \"react\";\nimport \"./style.css\";\nimport {JadeObservableTree} from \"@/components/common/JadeObservableTree.jsx\";\nimport {useDataContext, useShapeContext} from \"@/components/DefaultRoot.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 内容输出组件\n *\n * @returns {JSX.Element}\n * @constructor\n */\nexport default function OutputForm() {\n    const data = useDataContext();\n    const shape = useShapeContext();\n    const outputData = data && data.outputParams;\n\n    const tips = <div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}>\n        <p>输出列表是与输入参数最匹配的信息，从所有选定的知识库中调用</p>\n    </div>;\n\n    return (\n        <Collapse\n            bordered={false} className=\"jade-collapse-custom-background-color\"\n            style={{marginTop: \"10px\", marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n            defaultActiveKey={['Output']}>\n            <Panel\n                header={\n                    <div\n                        style={{display: 'flex', alignItems: 'center', paddingLeft: '-16px'}}>\n                        <span className=\"jade-panel-header-font\">输出</span>\n                        <Popover content={tips}>\n                            <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                        </Popover>\n                    </div>\n                }\n                className=\"jade-panel\"\n                key='Output'\n            >\n                <JadeObservableTree data={outputData}/>\n            </Panel>\n        </Collapse>\n    )\n}","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport \"./style.css\";\nimport {Button} from \"antd\";\nimport RetrievalIcon from '../asserts/icon-retrieval.svg?react';\nimport InputForm from \"@/components/retrieval/InputForm.jsx\";\nimport KnowledgeForm from \"@/components/retrieval/KnowledgeForm.jsx\";\nimport OutputForm from \"@/components/retrieval/OutputForm.jsx\";\n\n/**\n * 知识检索shape\n *\n * @override\n */\nexport const retrievalNodeState = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"retrievalNodeState\";\n    self.backColor = 'white';\n    self.pointerEvents = \"auto\";\n    self.text = \"普通检索\";\n    self.componentName = \"retrievalComponent\";\n    self.flowMeta.jober.fitables.push(\"com.huawei.fit.jober.aipp.fitable.NaiveRAGComponent\");\n    self.flowMeta.triggerMode = 'auto';\n\n    /**\n     * @override\n     */\n    self.getReactComponents = () => {\n        return (<>\n            <InputForm/>\n            <KnowledgeForm/>\n            <OutputForm/>\n        </>);\n    };\n\n    self.getHeaderIcon = () => {\n        return (\n                <Button\n                        disabled={true}\n                        className=\"jade-node-custom-header-icon\"\n                >\n                    <RetrievalIcon/>\n                </Button>\n        );\n    };\n\n    return self;\n}","import {v4 as uuidv4} from \"uuid\";\nimport InputForm from \"@/components/retrieval/InputForm.jsx\";\nimport KnowledgeForm from \"@/components/retrieval/KnowledgeForm.jsx\";\nimport OutputForm from \"@/components/retrieval/OutputForm.jsx\";\n\n/**\n * retrieval节点组件\n *\n * @param jadeConfig\n */\nexport const retrievalComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必填\n     *\n     * @return 组件信息\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            inputParams: [{\n                id: \"query_\" + uuidv4(),\n                name: \"query\",\n                type: \"String\",\n                from: \"Reference\",\n                referenceNode: \"\",\n                referenceId: \"\",\n                referenceKey: \"\",\n                value: []\n            }, {\n                id: \"knowledge_\" + uuidv4(),\n                name: \"knowledge\",\n                type: \"Array\",\n                from: \"Expand\",\n                value: [{\n                    id: uuidv4(),\n                    type: \"Object\",\n                    from: \"Expand\",\n                    value: []\n                }]\n            }, {\n                id: \"maximum_\" + uuidv4(),\n                name: \"maximum\",\n                type: \"Integer\",\n                from: \"Input\",\n                value: 3\n            }],\n            outputParams: [{\n                id: \"output_\" + uuidv4(),\n                name: \"output\",\n                type: \"Object\",\n                from: \"Expand\",\n                value: [{\n                    id: uuidv4(),\n                    name: \"retrievalOutput\",\n                    type: \"String\",\n                    from: \"Input\",\n                    value: \"String\"\n                }]\n            }]\n        };\n    };\n\n    self.getReactComponents = () => {\n        return (<>\n            <InputForm/>\n            <KnowledgeForm/>\n            <OutputForm/>\n        </>);\n    };\n\n    /**\n     * @override\n     */\n    self.reducers = (config, action) => {\n        const _editInput = () => {\n            const newQuery = newConfig.inputParams.find(item => item.name === \"query\");\n            action.changes.map(change => {\n                newQuery[change.key] = change.value;\n            })\n        }\n\n        const _addKnowledge = () => {\n            getKnowledgeValue().push({\n                id: action.id,\n                name: \"\",\n                type: \"Object\",\n                from: \"Expand\",\n                value: []\n            });\n        };\n\n        const _deleteKnowledge = () => {\n            const knowledgeValue = getKnowledgeValue();\n            const indexToDelete = knowledgeValue.findIndex(item => item.id === action.id);\n            indexToDelete !== -1 && knowledgeValue.splice(indexToDelete, 1);\n        };\n\n        const _editKnowledge = () => {\n            if (!action.value) {\n                return;\n            }\n            const knowledgeId = action.value.id;\n            const knowledgeName = action.value.name;\n            const value = getKnowledgeValue().find(item => item.id === action.id).value;\n            if (value.length === 0) {\n                value.push({id: uuidv4(), name: 'id', from: 'Input', type: 'String', value: knowledgeId});\n                value.push({id: uuidv4(), name: 'name', from: 'Input', type: 'String', value: knowledgeName});\n            } else {\n                value.forEach(item => {\n                    if (item.name === 'id') {\n                        item.value = knowledgeId;\n                    }\n                    if (item.name === 'name') {\n                        item.value = knowledgeName;\n                    }\n                });\n            }\n        };\n\n        const _changeMaximum = () => {\n            newConfig.inputParams.filter(newTask => newTask.name === \"maximum\").forEach(item => {\n                item.value = action.value;\n            });\n        };\n\n        const getKnowledgeValue = () => newConfig.inputParams.find(newTask => newTask.name === \"knowledge\").value;\n\n        const _clearKnowledge = () => {\n            getKnowledgeValue().find(item => item.id === action.id).value = [];\n        };\n\n        let newConfig = {...config};\n        switch (action.type) {\n            // 格式：dispatch({type: 'editInput', item:{name: \"Query\", type: \"String\", from: \"Reference\", value: \"\"})\n            case 'editInput':\n                _editInput();\n                return newConfig;\n            case 'addKnowledge':\n                _addKnowledge();\n                return newConfig;\n            // 格式：dispatch({type: 'deleteOutputVariable', id:\"id\")\n            case 'deleteKnowledge':\n                _deleteKnowledge();\n                return newConfig;\n            // 格式：dispatch({type: 'editKnowledge', item:{id: 0, name: \"\", type: \"\", from: \"value\", value: \"\"})\n            case 'editKnowledge':\n                _editKnowledge();\n                return newConfig;\n            // 格式：dispatch({type: 'changemaximum', value:\"\")\n            case 'changeMaximum':\n                _changeMaximum();\n                return newConfig;\n            case 'clearKnowledge':\n                _clearKnowledge();\n                return newConfig;\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n}\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport {CloudSyncOutlined} from \"@ant-design/icons\";\n\nexport const listener1Node = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"listener1Node\";\n    self.text = \"被监听者\";\n    self.componentName = \"listener1Component\";\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return <CloudSyncOutlined/>;\n    };\n\n    return self;\n};","import {Input} from \"antd\";\nimport {useEffect} from \"react\";\nimport {useShapeContext} from \"@/components/DefaultRoot.jsx\";\n\n/**\n * 可被监听的Input组件.\n *\n * @param props 参数.\n * @return {JSX.Element}\n * @constructor\n */\nexport const JadeObservableInput = (props) => {\n    const {onChange, onBlur, ...rest} = props;\n    if (!rest.id) {\n        throw new Error(\"JadeObservableInput requires an id property.\");\n    }\n\n    const shape = useShapeContext();\n    if (!shape) {\n        throw new Error(\"JadeObservableInput must be wrapped by ShapeContext.\");\n    }\n\n    /**\n     * 输入被修改时调用.\n     *\n     * @param e 事件对象.\n     * @private\n     */\n    const _onChange = (e) => {\n        onChange && onChange(e);\n\n        // 触发节点的emit事件.\n        shape.emit(rest.id, {value: e.target.value});\n    };\n\n    /**\n     * 有些场景下value是在blur时触发修改的，所以这里透出blur事件.\n     *\n     * @param e 事件对象.\n     * @private\n     */\n    const _onBlur = (e) => {\n        onBlur && onBlur(e);\n    };\n\n    // 组件初始化时注册observable.\n    useEffect(() => {\n        shape.page.registerObservable(shape.id, rest.id, rest.value, rest.type, rest.parent);\n\n        // 组件unmount时，删除observable.\n        return () => {\n            shape.page.removeObservable(shape.id, rest.id);\n        };\n    }, []);\n\n    // 如果类型发生了变化，重新注册，修改observable中的type值.\n    useEffect(() => {\n        shape.emit(rest.id, {type: rest.type});\n    }, [rest.type]);\n\n    return <><Input {...rest} onChange={(e) => _onChange(e)} onBlur={_onBlur} /></>\n};","import {Input} from \"antd\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\nimport {JadeObservableInput} from \"@/components/common/JadeObservableInput.jsx\";\n\nexport const listener1Component = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : [{\n            id: \"listener1-name\",\n            name: \"name\",\n            type: \"String\",\n            value: \"请输入一个名字\"\n        }, {\n            id: \"listener1-firstName\",\n            name: \"firstName\",\n            type: \"String\",\n            value: \"请输入第一名字\"\n        }];\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><Component/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (config, action) => {\n        switch (action.type) {\n            case 'updateName': {\n                return config.map(c => {\n                    if (c.id === action.id) {\n                        return {...c, name: action.name}\n                    } else {\n                        return c;\n                    }\n                });\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nconst Component = () => {\n    const data = useDataContext();\n    const dispatch = useDispatch();\n\n    const onNameChange = (id, e) => {\n        dispatch({type: \"updateName\", id,  name: e.target.value});\n    };\n\n    return (<>\n        <div>\n            <JadeObservableInput id={data[0].id}\n                                 value={data[0].name}\n                                 onChange={(e) => onNameChange(data[0].id, e)}/>\n            <JadeObservableInput id={data[1].id}\n                                 parent={data[0].id}\n                                 value={data[1].name}\n                                 onChange={(e) => onNameChange(data[1].id, e)}/>\n        </div>\n    </>);\n};","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport {CloudSyncOutlined} from \"@ant-design/icons\";\n\nexport const listener2Node = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"listener2Node\";\n    self.text = \"监听者\";\n    self.componentName = \"listener2Component\";\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return <CloudSyncOutlined/>;\n    };\n\n    return self;\n};","import {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\nimport {JadeReferenceTreeSelect} from \"@/components/common/JadeReferenceTreeSelect.jsx\";\n\nexport const listener2Component = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : [{\n            id: \"123456\", name: \"zzzzz\", type: \"Reference\", value: [], referenceNode: \"\", referenceId: \"\", referenceKey: \"\"\n        }];\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><Component/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (config, action) => {\n        switch (action.type) {\n            case 'updateValue': {\n                return config.map(c => {\n                    if (c.id === action.id) {\n                        return {...c, referenceKey: action.referenceKey};\n                    } else {\n                        return c;\n                    }\n                });\n            }\n            case 'update': {\n                return config.map(c => {\n                    if (c.id === action.id) {\n                        return {...c, referenceNode: action.referenceNode, referenceId: action.referenceId, value: action.value};\n                    } else {\n                        return c;\n                    }\n                });\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nconst Component = () => {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n\n    return (<>\n        <JadeReferenceTreeSelect reference={data[0]} onReferencedValueChange={(v) => {\n            dispatch({type: \"updateValue\", id: data[0].id, referenceKey: v});\n        }} onReferencedKeyChange={(e) => {\n            dispatch({type: \"update\", id: data[0].id, referenceNode: e.referenceNode, referenceId: e.referenceId, value: e.value});\n        }}/>\n    </>);\n};","import {CloudSyncOutlined} from \"@ant-design/icons\";\nimport {jadeNode} from \"@/components/jadeNode.jsx\";\n\n/**\n * demo用.\n */\nexport const listener3Node = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"listener3Node\";\n    self.text = \"被监听者\";\n    self.componentName = \"listener3Component\";\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return <CloudSyncOutlined/>;\n    };\n\n    return self;\n};","import {useDataContext} from \"@/components/DefaultRoot.jsx\";\nimport {JadeObservableTree} from \"../common/JadeObservableTree.jsx\";\n\n/**\n * demo\n */\nexport const listener3Component = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            \"output\": [{\n                id: \"uuid1\",\n                name: \"person\",\n                type: \"Object\",\n                value: [{id: \"uuid2\", name: \"name\", type: \"String\"}, {id: \"uuid3\", name: \"age\", type: \"Integer\"}]\n            }]\n        };\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><Component/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = () => {\n    };\n\n    return self;\n};\n\nconst Component = () => {\n    const data = useDataContext();\n\n    return (<>\n        <div>\n            <JadeObservableTree data={data.output}/>\n        </div>\n    </>);\n};","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport {CloudSyncOutlined} from \"@ant-design/icons\";\n\nexport const jadeInputTreeNode = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"jadeInputTreeNode\";\n    self.text = \"被监听者\";\n    self.componentName = \"jadeInputTreeComponent\";\n    self.width = 360;\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return <CloudSyncOutlined/>;\n    };\n\n    return self;\n};","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = Function.call.bind(Object.prototype.hasOwnProperty);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = require('./lib/has');\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) { /**/ }\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' +\n              'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar has = require('./lib/has');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bigint: createPrimitiveTypeChecker('bigint'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message, data) {\n    this.message = message;\n    this.data = data && typeof data === 'object' ? data: {};\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError(\n          'Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'),\n          {expectedType: expectedType}\n        );\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var expectedTypes = [];\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);\n        if (checkerResult == null) {\n          return null;\n        }\n        if (checkerResult.data && has(checkerResult.data, 'expectedType')) {\n          expectedTypes.push(checkerResult.data.expectedType);\n        }\n      }\n      var expectedTypesMessage = (expectedTypes.length > 0) ? ', expected one of type [' + expectedTypes.join(', ') + ']': '';\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function invalidValidatorError(componentName, location, propFullName, key, type) {\n    return new PropTypeError(\n      (componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' +\n      'it must be a function, usually from the `prop-types` package, but received `' + type + '`.'\n    );\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (has(shapeTypes, key) && typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import {Col, ConfigProvider, Form, Input, Row, Tree} from 'antd';\nimport \"./jadeInputTree.css\";\nimport PropTypes from \"prop-types\";\nimport {JadeStopPropagationSelect} from \"./JadeStopPropagationSelect.jsx\";\nimport {JadeReferenceTreeSelect} from \"./JadeReferenceTreeSelect.jsx\";\n\n/**\n * 构建节点，只有Object节点有子孙节点.\n *\n * @param nodeData 节点数据.\n * @param level 层级.\n * @return {{title, isLeaf: boolean, key}|{children: *, title, key}} 树节点.\n */\nconst convert = (nodeData, level) => {\n    if (nodeData.from === \"Expand\") {\n        return {\n            id: nodeData.id,\n            title: nodeData.name,\n            type: nodeData.type,\n            key: nodeData.id,\n            level: level,\n            from: nodeData.from,\n            children: nodeData.value.map(v => convert(v, level + 1))\n        };\n    } else {\n        const ans = {\n            id: nodeData.id,\n            title: nodeData.name,\n            type: nodeData.type,\n            key: nodeData.id,\n            level: level,\n            value: nodeData.value,\n            from: nodeData.from,\n            referenceKey: nodeData.referenceKey,\n            referenceNode: nodeData.referenceNode,\n            referenceId: nodeData.referenceId,\n            isLeaf: true,\n        };\n        if (nodeData.generic) {\n            ans.generic = nodeData.generic\n        }\n        if (nodeData.type === \"Object\") {\n            ans.props = nodeData.props;\n        }\n\n        return ans;\n    }\n};\n\nJadeInputTree.propTypes = {\n    data: PropTypes.array.isRequired, updateItem: PropTypes.func.isRequired\n};\n\nconst INPUT_WIDTH = 110;\nconst LEVEL_DISTANCE = 24;\n\n/**\n * 带input的树形组件.主要用于api调用节点.\n *\n * @param data 数据.\n * @param updateItem 修改方法.\n * @return {JSX.Element}\n * @constructor\n */\nexport default function JadeInputTree({data, updateItem}) {\n    const treeData = data.map(d => convert(d, 0));\n\n    /**\n     * input发生变化时的回调.\n     *\n     * @param id 唯一标志.\n     * @param key 键值.\n     * @param e 事件对象.\n     */\n    const onInputChange = (id, key, e) => {\n        updateItem(id, [{key, value: e.target.value}]);\n    };\n\n    /**\n     * 当reference的value变化时的处理方法.\n     *\n     * @param id 唯一标志.\n     * @param key 键值.\n     */\n    const onReferenceValueChange = (id, key) => {\n        updateItem(id, [{key: \"referenceKey\", value: key}]);\n    };\n\n    /**\n     * 当reference的key变化时的处理方法.\n     *\n     * @param id 唯一标志.\n     * @param e 返回值.\n     */\n    const onReferenceKeyChange = (id, e) => {\n        updateItem(id, [{key: \"referenceNode\", value: e.referenceNode},\n            {key: \"referenceId\", value: e.referenceId},\n            {key: \"value\", value: e.value}]);\n    };\n\n    /**\n     * 获取value的input组件.\n     *\n     * @param node 节点.\n     * @return {JSX.Element|null}\n     */\n    const getValueInput = (node) => {\n        if (node.from === \"Input\") {\n            return <Input className=\"jade-input\" style={{borderRadius: \"0px 8px 8px 0px\"}} placeholder={\"请输入\"}\n                          value={node.value}\n                          onChange={(e) => onInputChange(node.id, \"value\", e)}/>;\n        } else if (node.from === \"Reference\") {\n            return <JadeReferenceTreeSelect className=\"jade-input-tree-title-tree-select jade-select\"\n                                            rules={[{required: true, message: \"字段值不能为空\"}]}\n                                            reference={node}\n                                            onReferencedKeyChange={(e) => onReferenceKeyChange(node.id, e)}\n                                            onReferencedValueChange={(v) => onReferenceValueChange(node.id, v)}/>;\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * 获取options数据.\n     *\n     * @param node 节点.\n     * @return {[{label: string, value: string}]|[{label: string, value: string},{label: string, value: string}]} 选项数组.\n     */\n    const getOptions = (node) => {\n        switch (node.type) {\n            case \"Object\":\n                if (node.hasOwnProperty(\"generic\")) {\n                    return [{value: \"Reference\", label: \"引用\"}];\n                } else {\n                    return [{value: \"Reference\", label: \"引用\"}, {value: \"Expand\", label: \"展开\"}];\n                }\n            case \"Array\":\n                return [{value: \"Reference\", label: \"引用\"}];\n            default:\n                // 现阶段默认只能选择Reference\n                return [{value: \"Reference\", label: \"引用\"}];\n        }\n    };\n\n    /**\n     * 自定义标题展示.\n     *\n     * @param node 节点数据.\n     * @return {JSX.Element} react 组件对象.\n     */\n    const displayTitle = (node) => {\n        const inputWidth = INPUT_WIDTH - node.level * LEVEL_DISTANCE;\n        return (<>\n            <div className=\"jade-input-tree-title\">\n                <Row wrap={false}>\n                    <Col flex={\"0 0 \" + inputWidth + \"px\"}>\n                        <Form.Item\n                                name={`property-${node.id}`}\n                        >\n                            <div className=\"jade-input-tree-title-child\"\n                                 style={{display: \"flex\", alignItems: \"center\"}}>\n                                <span>{node.title}</span>\n                            </div>\n                        </Form.Item>\n                    </Col>\n                    <Col flex=\"0 0 70px\" style={{paddingRight: 0}}>\n                        <Form.Item\n                                name={`value-select-${node.id}`}\n                        >\n                        <div className=\"jade-input-tree-title-child\">\n                            <JadeInputTreeSelect node={node} options={getOptions(node)} updateItem={updateItem}/>\n                        </div>\n                        </Form.Item>\n                    </Col>\n                    <Col >\n                        <div className=\"jade-input-tree-title-child\">\n                            {getValueInput(node)}\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </>);\n    };\n\n    return (<>\n        <ConfigProvider theme={{components: {Tree: {nodeSelectedBg: \"transparent\", nodeHoverBg: \"transparent\"}}}}>\n            <Tree blockNode={true} treeData={treeData} className={\"jade-ant-tree\"}\n                  titleRender={displayTitle} showLine={true}/>\n        </ConfigProvider>\n    </>);\n};\n\n/**\n * 适配JadeInputTree的select框.\n *\n * @param node 节点.\n * @param options 可选项.\n * @param updateItem 修改item的方法.\n * @return {JSX.Element}\n * @constructor\n */\nconst JadeInputTreeSelect = ({node, options, updateItem}) => {\n    /**\n     * 处理选择变化事件.\n     *\n     * @param v 变化后的值.\n     */\n    const handleItemChange = (v) => {\n        if (v === \"Expand\") {\n            updateItem(node.id, [{key: \"from\", value: v},\n                {key: \"referenceNode\", value: null},\n                {key: \"referenceId\", value: null},\n                {key: \"referenceKey\", value: null},\n                {key: \"value\", value: node.props}\n            ]);\n        } else if (v === \"Input\") {\n            updateItem(node.id, [{key: \"from\", value: v},\n                {key: \"referenceNode\", value: null},\n                {key: \"referenceId\", value: null},\n                {key: \"referenceKey\", value: null},\n                {key: \"value\", value: null}\n            ]);\n        } else {\n            updateItem(node.id, [{key: \"from\", value: v}]);\n        }\n    };\n\n    return (<>\n        <JadeStopPropagationSelect\n                style={{background: \"#f7f7f7\", width: \"100%\"}}\n                placeholder={\"请选择\"}\n                defaultValue={node.from}\n                className={\"jade-input-tree-title-select jade-select\"}\n                onChange={handleItemChange}\n                options={options}\n        />\n    </>);\n};","import {Collapse} from 'antd';\nimport JadeInputTree from \"./JadeInputTree.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 带input的树形组件.主要用于api调用节点.\n *\n * @param data 数据.\n * @param updateItem 修改方法.\n * @return {JSX.Element}\n * @constructor\n */\nexport default function JadeCollapseInputTree({data, updateItem}) {\n    return (<>\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\"\n                  defaultActiveKey={[\"jadeInputTreePanel\"]}>\n            <Panel\n                key={\"jadeInputTreePanel\"}\n                header={\n                    <div>\n                        <span className='jade-panel-header-font'>输入</span>\n                    </div>\n                }\n                className=\"jade-panel\"\n            >\n                <JadeInputTree data={data} updateItem={updateItem}/>\n            </Panel>\n        </Collapse>\n    </>);\n};","import {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\nimport JadeCollapseInputTree from \"../common/JadeCollapseInputTree.jsx\";\n\nexport const jadeInputTreeComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            \"input\": [{\n                id: \"uuid1\",\n                name: \"person\",\n                type: \"Object\",\n                from: \"Expand\",\n                value: [{\n                    id: \"uuid2\",\n                    name: \"name\",\n                    type: \"Object\",\n                    from: \"Expand\",\n                    value: [{id: \"uuid3\", name: \"surname\", type: \"String\", value: null, from: \"Input\"}],\n                    props: [{id: \"uuid3\", name: \"surname\", type: \"String\", value: null, from: \"Input\"}]\n                }],\n                props: [{\n                    id: \"uuid2\",\n                    name: \"name\",\n                    type: \"Object\",\n                    from: \"Expand\",\n                    value: [{id: \"uuid3\", name: \"surname\", type: \"String\", value: null, from: \"Input\"}],\n                    props: [{id: \"uuid3\", name: \"surname\", type: \"String\", value: null, from: \"Input\"}]\n                }]\n            }, {\n                id: \"uuid4\",\n                name: \"school\",\n                type: \"Object\",\n                from: \"Reference\",\n                value: [],\n                props: [{id: \"uuid5\", name: \"schoolName\", type: \"String\", value: \"绵阳中学\", from: \"Input\"}]\n            }]\n        };\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><Component/></>);\n    };\n\n    const update = (data, id, changes) => {\n        return data.map(d => {\n            const newD = {...d};\n            if (d.id === id) {\n                changes.forEach(change => {\n                    newD[change.key] = change.value;\n                });\n                return newD;\n            }\n            if (newD.type === \"Object\" && Array.isArray(newD.value)) {\n                newD.value = update(newD.value, id, changes);\n            }\n\n            return newD;\n        });\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (config, action) => {\n        switch (action.type) {\n            case \"update\":\n                return {\"input\": update(config.input, action.id, action.changes)};\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nconst Component = () => {\n    const data = useDataContext();\n    const dispatch = useDispatch();\n\n    const updateItem = (id, changes) => {\n        dispatch({type: \"update\", id, changes});\n    };\n\n    return (<>\n        <div>\n            <JadeCollapseInputTree data={data.input} updateItem={updateItem}/>\n        </div>\n    </>);\n};","import {CloudSyncOutlined} from \"@ant-design/icons\";\nimport {jadeNode} from \"@/components/jadeNode.jsx\";\n\nexport const testNode = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"testNode\";\n    self.text = \"测试组件\";\n    self.componentName = \"testComponent\";\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return <CloudSyncOutlined/>;\n    };\n\n    return self;\n};\n","import {Input} from \"antd\";\nimport {useRef} from \"react\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\n\nexport const testComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : [{name: \"description\", type: \"String\", value: \"这是一个测试\"}];\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><TestComponent/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (config, action) => {\n        if (action.type === \"update\") {\n            return [{...config[0], value: action.value}];\n        }\n    };\n\n    return self;\n};\n\nconst TestComponent = (props) => {\n    const inputRef = useRef(null);\n    const data = useDataContext(null);\n    const dispatch = useDispatch();\n\n    const onInputChange = () => {\n        dispatch({type: \"update\", value: inputRef.current.input.value});\n    };\n\n    return (<>\n        <div>\n            <Input ref={inputRef} value={data[0].value} placeholder=\"Basic usage\" onChange={() => onInputChange()}/>\n        </div>\n        <TestChildComponent {...props} />\n    </>);\n};\n\nconst TestChildComponent = (props) => {\n    return <><span>{props.a}</span><span>{props.b}</span><span>{props.c}</span></>\n};","import {Input} from \"antd\";\nimport {useRef} from \"react\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\n\nexport const replaceComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : [{name: \"description\", type: \"String\", value: \"替换之前的输入框\"}];\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><ReplaceComponent/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (config, action) => {\n        if (action.type === \"update\") {\n            return [{...config[0], value: action.value}];\n        }\n    };\n\n    return self;\n};\n\nconst ReplaceComponent = () => {\n    const inputRef = useRef(null);\n    const data = useDataContext(null);\n    const dispatch = useDispatch();\n\n    const onInputChange = () => {\n        dispatch({type: \"update\", value: inputRef.current.input.value});\n    };\n\n    return (<>\n        <div>\n            <Input ref={inputRef} value={data[0].value} placeholder=\"Basic usage\" onChange={() => onInputChange()}/>\n        </div>\n    </>);\n};","import * as React from \"react\";\nconst SvgIconStart = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip4_13280\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u56FE\\\\u6807/16/\\\\u5F00\\\\u59CB\\\\uFF0C\\\\u8D77\\\\u70B9\\\\uFF0C\\\\u7AEF\\\\u70B9\", width: 16, height: 16, transform: \"translate(4.000000 4.000000)\", fill: \"white\", fillOpacity: 0 }))), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#5E7CE0\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip4_13280)\" }, /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M16.58 11.52L18.16 11.52L18.16 6.31L11.46 6.31C8.35 6.37 5.83 8.89 5.83 11.99C5.83 15.1 8.35 17.62 11.46 17.67L18.16 17.67L18.16 12.46L13.07 12.46L13.07 13.52L10.08 13.52L10.08 10.47L13.07 10.47L13.07 11.53L16.58 11.53L16.58 11.52Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" })));\nexport default SvgIconStart;\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport {Button} from \"antd\";\nimport {DIRECTION} from \"@fit-elsa/elsa-core\";\nimport StartIcon from '../asserts/icon-start.svg?react'; // 导入背景图片\nimport \"./style.css\";\n\n/**\n * jadeStream中的流程启动节点.\n *\n * @override\n */\nexport const startNodeStart = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"startNodeStart\";\n    self.text = \"开始\";\n    self.pointerEvents = \"auto\";\n    self.componentName = \"startComponent\";\n    self.deletable = false;\n    self.toolMenus = [{\n        key: '1', label: \"重命名\", action: (setEdit) => {\n            setEdit(true);\n        }\n    }];\n    self.isUnique = true;\n    delete self.flowMeta.jober;\n\n    /**\n     * 设置方向为W方向不出现连接点\n     *\n     * @override\n     */\n    const initConnectors = self.initConnectors;\n    self.initConnectors = () => {\n        initConnectors.apply(self);\n        self.connectors.remove(c => c.direction.key === DIRECTION.W.key);\n    };\n\n    /**\n     * 获取用户自定义组件.\n     *\n     * @return {*}\n     */\n    self.getComponent = () => {\n        return self.graph.plugins[self.componentName](self.flowMeta.inputParams);\n    };\n\n    /**\n     * @override\n     */\n    self.serializerJadeConfig = () => {\n        self.flowMeta.inputParams = self.getLatestJadeConfig();\n    }\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return (\n            <Button\n                disabled={true}\n                className=\"jade-node-custom-header-icon\"\n            >\n                <StartIcon/>\n            </Button>\n        );\n    };\n\n    return self;\n};","import PropTypes from 'prop-types';\nimport {Form} from \"antd\";\nimport {JadeObservableInput} from \"../common/JadeObservableInput.jsx\";\n\nName.propTypes = {\n    itemId: PropTypes.string.isRequired, // 确保 itemId 是一个必需的字符串\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的字符串\n    type: PropTypes.string.isRequired, // 确保 type 是一个必需的字符串\n    disableModifiable: PropTypes.bool.isRequired, // 确保 disableModifiable 是一个必需的bool值\n    onChange: PropTypes.func.isRequired, // 确保 onChange 是一个必需的函数\n};\n\n/**\n * 开始节点关于入参的名称\n *\n * @param itemId 名称所属Item的唯一标识\n * @param propValue 名称的初始值\n * @param type 名称对应的字段类型\n * @param disableModifiable 该字段是否禁止修改\n * @param onChange 值被修改时调用的函数\n * @returns {JSX.Element} 开始节点关于入参名称的Dom\n */\nexport default function Name({itemId, propValue, type, disableModifiable, onChange}) {\n    return (<Form.Item\n        className=\"jade-form-item\"\n        label=\"字段名称\"\n        name={`name-${itemId}`}\n        rules={[{required: true, message: \"参数名称不能为空\"},\n            {pattern: /^[a-zA-Z_][a-zA-Z0-9_]*$/, message: '只能包含字母、数字或下划线，且必须以字母或下划线开头'}]}\n        validateTrigger=\"onBlur\"\n        initialValue={propValue}\n    >\n        <JadeObservableInput\n            className=\"jade-input\"\n            id={itemId}\n            value={propValue}\n            type={type}\n            disabled={disableModifiable}\n            placeholder=\"请输入字段名称\"\n            showCount\n            maxLength={20}\n            onChange={e => onChange && onChange(\"name\", e.target.value)} // 当输入框的值发生变化时调用父组件传递的回调函数\n        />\n    </Form.Item>);\n}\n\n","import PropTypes from \"prop-types\";\nimport {Form} from \"antd\";\nimport {JadeStopPropagationSelect} from \"../common/JadeStopPropagationSelect.jsx\";\n\nType.propTypes = {\n    itemId: PropTypes.string.isRequired, // 确保 itemId 是一个必需的字符串\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的字符串\n    disableModifiable: PropTypes.bool.isRequired, // 确保 disableModifiable 是一个必需的bool值\n    onChange: PropTypes.func.isRequired, // 确保 onChange 是一个必需的函数\n};\n\n/**\n * 开始节点关于入参的类型\n *\n * @param itemId 名称所属Item的唯一标识\n * @param propValue 类型的初始值\n * @param disableModifiable 该字段是否禁止修改\n * @param onChange 值被修改时调用的函数\n * @returns {JSX.Element} 开始节点关于入参类型的Dom\n */\nexport default function Type({itemId, propValue, disableModifiable, onChange}) {\n    const handleSelectClick = (event) => {\n        event.stopPropagation(); // 阻止事件冒泡\n    };\n\n    const handleChange = (value) => {\n        onChange(\"type\", value); // 当选择框的值发生变化时调用父组件传递的回调函数\n        document.activeElement.blur();// 在选择后取消焦点\n    };\n\n    return (<Form.Item\n        className=\"jade-form-item\"\n        label=\"字段类型\"\n        name={`type-${itemId}`}\n        initialValue={propValue}\n    >\n        <JadeStopPropagationSelect\n            className=\"jade-select\"\n            value={propValue}\n            disabled={disableModifiable}\n            style={{width: \"100%\"}}\n            onClick={handleSelectClick} // 点击下拉框时阻止事件冒泡\n            onChange={handleChange}\n            options={[{value: 'String', label: 'String'}, {value: 'Integer', label: 'Integer'},\n                {value: 'Boolean', label: 'Boolean'}, {value: 'Number', label: 'Number'},]}\n        />\n    </Form.Item>);\n}","import {Input, Form} from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst {TextArea} = Input;\n\nDescription.propTypes = {\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的字符串\n    disableModifiable: PropTypes.bool.isRequired, // 确保 disableModifiable 是一个必需的bool值\n    onChange: PropTypes.func.isRequired, // 确保 onChange 是一个必需的函数\n};\n\n/**\n * 开始节点关于入参的描述\n *\n * @param itemId 名称所属Item的唯一标识\n * @param propValue 描述的初始值\n * @param disableModifiable 该字段是否禁止修改\n * @param onChange 值被修改时调用的函数\n * @returns {JSX.Element} 开始节点关于入参描述的Dom\n */\nexport default function Description({itemId, propValue, disableModifiable, onChange}) {\n    return (<Form.Item\n        className=\"jade-form-item\"\n        label=\"字段描述\"\n        name={`description-${itemId}`}\n        rules={[{required: true, message: \"参数描述不能为空\"}]}\n        initialValue={propValue}\n    >\n        <TextArea\n            className=\"jade-input\"\n            value={propValue}\n            disabled={disableModifiable}\n            onChange={e => onChange(\"description\", e.target.value)} // 当文本输入框的值发生变化时调用父组件传递的回调函数\n            placeholder=\"请输入字段描述\"\n            autoSize={{minRows: 4, maxRows: 4}} // 设置最小和最大行数，当内容小于或大于行数时，文本框大小不会变化\n        />\n    </Form.Item>);\n}","import Name from './Name.jsx';\nimport Type from './Type.jsx';\nimport Description from './Description.jsx';\nimport PropTypes from 'prop-types'; // 导入 PropTypes\nimport {useDispatch} from \"@/components/DefaultRoot.jsx\";\n\nStartInputForm.propTypes = {\n    item: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        description: PropTypes.string.isRequired,\n        from: PropTypes.string.isRequired,\n        value: PropTypes.string.isRequired,\n    }).isRequired\n};\n\n/**\n * 开始节点入参表单\n *\n * @param item 表单对应的对象\n * @returns {JSX.Element} 开始节点入参表单的DOM\n */\nexport default function StartInputForm({item}) {\n    const dispatch = useDispatch();\n    const formId = item.id;\n\n    /**\n     * 传递至子组件，用于使用dispatch更新\n     *\n     * @param type 子组件对应的type\n     * @param value 更新后的value\n     */\n    const handleFormValueChange = (type, value) => {\n        dispatch({actionType: \"changeInputParam\", id: formId, type: type, value: value});\n    };\n\n    return (<>\n        <Name itemId={item.id}\n              propValue={item.name}\n              type={item.type}\n              disableModifiable={item.disableModifiable}\n              onChange={handleFormValueChange}/>\n        <Type itemId={item.id} propValue={item.type} disableModifiable={item.disableModifiable} onChange={handleFormValueChange}/>\n        <Description itemId={item.id} propValue={item.description} disableModifiable={item.disableModifiable} onChange={handleFormValueChange}/>\n        {/*0430版本暂不需要required参数*/}\n        {/*<Form.Item name=\"required\">*/}\n        {/*    <Required/>*/}\n        {/*</Form.Item>*/}\n    </>);\n}","import {Slider} from \"antd\";\nimport \"./style.css\";\nimport PropTypes from \"prop-types\";\n\nByConversationTurn.propTypes = {\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的number类型\n    onValueChange: PropTypes.func.isRequired, // 确保 onNameChange 是一个必需的函数类型\n};\n\n/**\n * Memory按对话轮次选取\n *\n * @param propValue 前端渲染的值\n * @param onValueChange 参数变化所需调用方法\n * @returns {JSX.Element} Memory按对话轮次的Dom\n */\nexport default function ByConversationTurn({propValue, onValueChange}) {\n    const intValue = parseInt(propValue);\n\n    const defaultRecalls = {\n        1: '1',\n        [3]: '默认',\n        10: '10',\n    };\n\n    return (<div style={{display: 'flex', alignItems: 'center'}}>\n            <Slider\n                style={{width: \"95%\"}} // 设置固定宽度\n                min={1}\n                max={10}\n                defaultValue={3}\n                marks={defaultRecalls}\n                step={1} // 设置步长为1\n                onChange={e => onValueChange(\"Integer\", e.toString())}\n                value={!isNaN(intValue) ? intValue : 3}\n            />\n        </div>);\n}","import {Slider} from \"antd\";\nimport \"./style.css\";\nimport PropTypes from \"prop-types\";\n\nByNumber.propTypes = {\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的number类型\n    onValueChange: PropTypes.func.isRequired, // 确保 onNameChange 是一个必需的函数类型\n};\n\n/**\n * Memory按条数选取\n *\n * @param propValue 前端渲染的值\n * @param onValueChange 参数变化所需调用方法\n * @returns {JSX.Element} Memory按条数的Dom\n */\nexport default function ByNumber({propValue, onValueChange}) {\n    const floatValue = parseFloat(propValue);\n\n    return (<div style={{display: 'flex', alignItems: 'center'}}>\n            <Slider\n                style={{width: \"90%\"}} // 设置固定宽度\n                min={1}\n                max={100}\n                defaultValue={20}\n                step={1}\n                onChange={e => onValueChange(\"Integer\", e.toString())}\n                value={!isNaN(floatValue) ? floatValue : 20}\n            />\n            <span style={{marginLeft: '8px'}}>{floatValue}</span>\n        </div>);\n}","import {InputNumber} from \"antd\";\nimport \"./style.css\";\nimport PropTypes from \"prop-types\";\n\nByTokenSize.propTypes = {\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的number类型\n    onValueChange: PropTypes.func.isRequired, // 确保 onNameChange 是一个必需的函数类型\n};\n\n/**\n * Memory按Token大小选取\n *\n * @param propValue 前端渲染的值\n * @param onValueChange 参数变化所需调用方法\n * @returns {JSX.Element} Memory按Token大小的Dom\n */\nexport default function ByTokenSize({propValue, onValueChange}) {\n    const intValue = parseInt(propValue);\n\n    const handleChange = (val) => {\n        // 去除小数部分，强制转换为整数\n        const integerValue = Math.floor(val);\n        onValueChange(\"Integer\", integerValue.toString());\n    };\n\n    return (<div style={{display: 'flex', alignItems: 'center'}}>\n            <InputNumber\n                style={{\n                    width: \"100%\",\n                }}\n                min={1}\n                max={10000}\n                step={100}\n                onChange={handleChange}\n                stringMode\n                value={!isNaN(intValue) ? intValue : 1000}\n            />\n        </div>);\n}","import \"./style.css\";\nimport PropTypes from \"prop-types\";\nimport {JadeStopPropagationSelect} from \"../common/JadeStopPropagationSelect.jsx\";\n\nByTime.propTypes = {\n    propValue: PropTypes.string.isRequired, // 确保 propValue 是一个必需的string类型\n    onValueChange: PropTypes.func.isRequired, // 确保 onNameChange 是一个必需的函数类型\n};\n\n/**\n * Memory按时间选取\n *\n * @param propValue 前端渲染的值\n * @param onValueChange 参数变化所需调用方法\n * @returns {JSX.Element} Memory按时间的Dom\n */\nexport default function ByTime({propValue, onValueChange}) {\n    const value = propValue;\n\n    const handleSelectClick = (event) => {\n        event.stopPropagation(); // 阻止事件冒泡\n    };\n\n    // Filter `option.label` match the user type `input`\n    const filterOption = (input, option) => (option?.label ?? '').toLowerCase().includes(input.toLowerCase());\n\n    const handleChange = (value) => {\n        onValueChange(\"String\", value); // 当选择框的值发生变化时调用父组件传递的回调函数\n        document.activeElement.blur();// 在选择后取消焦点\n    };\n\n    return (<>\n            <JadeStopPropagationSelect\n                showSearch\n                className=\"jade-select\"\n                style={{width: \"100%\"}}\n                onClick={handleSelectClick} // 点击下拉框时阻止事件冒泡\n                onChange={handleChange}\n                filterOption={filterOption}\n                options={[{value: 'oneHour', label: '近1小时'}, {value: 'sixHour', label: '近6小时'},\n                    {value: 'twelveHour', label: '近12小时'}, {value: 'oneDay', label: '近1天'},\n                    {value: 'twoDays', label: '近2天'}, {value: 'oneWeek', label: '近1周'},]}\n                value={value}\n            />\n        </>);\n}","import \"./style.css\";\nimport PropTypes from \"prop-types\";\nimport {JadeStopPropagationSelect} from \"../common/JadeStopPropagationSelect.jsx\";\nimport {useEffect, useState} from \"react\";\nimport httpUtil from \"@/components/util/httpUtil.jsx\";\n\nCustomizing.propTypes = {\n    propValue: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([null])]), // 确保 propValue 是一个必需的string类型或者null\n    onValueChange: PropTypes.func.isRequired, // 确保 onValueChange 是一个必需的函数类型\n    config: PropTypes.object.isRequired, // 确保 config 是一个必需的对象类型\n};\n\n/**\n * Memory按自定义选取\n *\n * @param propValue 前端渲染的值\n * @param onValueChange 参数变化所需调用方法\n * @returns {JSX.Element} 按自定义选取的Dom\n */\nexport default function Customizing({propValue, onValueChange, config}) {\n    const value = propValue;\n    const [fitableOptions, setFitableOptions] = useState([]);\n\n    const handleSelectClick = (event) => {\n        event.stopPropagation(); // 阻止事件冒泡\n    };\n\n    // Filter `option.label` match the user type `input`\n    const filterOption = (input, option) =>\n        (option?.label ?? '').toLowerCase().includes(input.toLowerCase());\n\n    const handleChange = (value) => {\n        onValueChange(\"String\", value); // 当选择框的值发生变化时调用父组件传递的回调函数\n        document.activeElement.blur();// 在选择后取消焦点\n    };\n\n    useEffect(() => {\n        // 发起网络请求获取 options 数据\n        httpUtil.get(config.urls.customHistoryUrl, {}, (jsonData) => setFitableOptions(jsonData.data.map(item => {\n            return {\n                value: item.fitableId,\n                label: item.name\n            };\n        })))\n    }, []); // useEffect 依赖数组为空，表示只在组件挂载时执行一次\n\n    return (<>\n            <JadeStopPropagationSelect\n                allowClear\n                showSearch\n                className=\"jade-select\"\n                style={{ width: \"100%\" }}\n                onClick={handleSelectClick} // 点击下拉框时阻止事件冒泡\n                onChange={handleChange}\n                filterOption={filterOption}\n                placeholder=\"选择合适的获取历史记录服务\"\n                options={fitableOptions}\n                value={value}\n            />\n        </>\n    );\n}","import ByConversationTurn from '@/components/start/ByConversationTurn.jsx';\nimport ByNumber from '@/components/start/ByNumber.jsx';\nimport ByTokenSize from '@/components/start/ByTokenSize.jsx';\nimport ByTime from '@/components/start/ByTime.jsx';\nimport Customizing from '@/components/start/Customizing.jsx';\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\nimport {JadeStopPropagationSelect} from \"@/components/common/JadeStopPropagationSelect.jsx\";\nimport PropTypes from \"prop-types\";\n\nMemory.propTypes = {\n    config: PropTypes.object.isRequired, // 确保 config 是一个必需的对象类型\n};\n\n/**\n * 开始节点Memory组件\n *\n * @returns {JSX.Element} 开始节点Memory组件的Dom\n */\nexport default function Memory({config}) {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const memoryTypeValue = data.find(item => item.name === \"memory\").value.find(item => item.name === \"type\").value;\n    const memoryValueValue = data.find(item => item.name === \"memory\").value.find(item => item.name === \"value\").value;\n\n    const handleSelectClick = (event) => {\n        event.stopPropagation(); // 阻止事件冒泡\n    };\n\n    // 处理内部组件值变化的回调函数\n    const handleComponentValueChange = (valueType, newValue) => {\n        dispatch({actionType: \"changeMemory\", memoryType: memoryTypeValue, memoryValueType: valueType, memoryValue: newValue});\n    };\n\n    // 根据不同的值渲染不同的组件\n    const renderComponent = () => {\n        switch (memoryTypeValue) {\n            case 'ByConversationTurn': // 按对话轮次(一问一答，0-10，默认3)\n                return <ByConversationTurn propValue={memoryValueValue} onValueChange={handleComponentValueChange}/>;\n            case 'ByNumber': // 按条数(默认20)\n                return <ByNumber propValue={memoryValueValue} onValueChange={handleComponentValueChange}/>;\n            case 'ByTokenSize': // 按token大小\n                return <ByTokenSize propValue={memoryValueValue} onValueChange={handleComponentValueChange}/>;\n            case 'ByTime': // 按时间\n                return <ByTime propValue={memoryValueValue} onValueChange={handleComponentValueChange}/>;\n            case 'Customizing': // 自定义(选fitable)\n                return <Customizing propValue={memoryValueValue} onValueChange={handleComponentValueChange} config={config}/>;\n            case 'UserSelect': // 用户自己勾选(true、false)\n                return null;\n            case 'NotUseMemory': // 不使用历史记录\n                return null;\n            default:\n                return null;\n        }\n    };\n\n    const onChange = (e) => {\n        let memoryValueType = ''; // 初始化 memoryValueType\n        let memoryValue = null; // 初始化 memoryValue\n\n        // 由于一级菜单变化时，二级菜单的render还没到，所以二级菜单默认值设置在此，用于dispatch至jadeConfig中，二级菜单读取jadeConfig值进行渲染\n        // 根据选择的值设置 memoryType 和 memoryValueType\n        switch (e) {\n            case 'ByConversationTurn':\n                memoryValueType = 'Integer';\n                memoryValue = \"3\";\n                break;\n            case 'ByNumber':\n                memoryValueType = 'Integer';\n                memoryValue = \"20\";\n                break;\n            case 'ByTokenSize':\n                memoryValueType = 'Integer';\n                memoryValue = \"1000\";\n                break;\n            case 'ByTime':\n                memoryValueType = 'String';\n                memoryValue = 'oneHour';\n                break;\n            case 'Customizing':\n                memoryValueType = 'String';\n                break;\n        }\n        dispatch({\n            actionType: \"changeMemory\",\n            memoryType: e,\n            memoryValueType: memoryValueType,\n            memoryValue: memoryValue\n        });\n        document.activeElement.blur();// 在选择后取消焦点\n    }\n\n    return (<>\n        <JadeStopPropagationSelect\n            className=\"jade-select\"\n            defaultValue={memoryTypeValue}\n            style={{width: \"100%\", marginBottom: \"8px\", marginTop: \"8px\"}}\n            onClick={handleSelectClick} // 点击下拉框时阻止事件冒泡\n            onChange={e => onChange(e)}\n            options={[{value: 'ByConversationTurn', label: '按对话轮次'},\n                // 430演示大模型选项不需要按条数、按Token大小、按时间，暂时屏蔽\n                // {value: 'ByNumber', label: '按条数'},\n                // {value: 'ByTokenSize', label: '按Token大小'},\n                // {value: 'ByTime', label: '按时间'},\n                // {value: 'Customizing', label: '自定义'},\n                {value: 'UserSelect', label: '用户自勾选'},\n                {value: 'NotUseMemory', label: '不使用历史记录'},]}\n        />\n        {renderComponent()} {/* 渲染对应的组件 */}\n    </>);\n}","import {useState} from 'react';\nimport {Button, Collapse, Popover} from 'antd';\nimport {DeleteOutlined, InfoCircleOutlined, PlusOutlined} from '@ant-design/icons';\nimport StartInputForm from \"./StartInputForm.jsx\";\nimport Memory from './Memory.jsx';\nimport \"./style.css\";\nimport {useDataContext, useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\n\nconst {Panel} = Collapse;\n\n/**\n * 开始表单Wrapper\n *\n * @returns {JSX.Element} 开始表单Wrapper的DOM\n */\nexport default function StartFormWrapper() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const config = useShapeContext().graph.configs.find(node => node.node === \"startNodeStart\");\n\n    const initItems = () => {\n        return data.find(item => item.name === \"input\").value // 找出 name 为 \"input\" 的项，获取value值\n    }\n\n    const items = initItems(); // 从DataContext中获取初始状态数组\n    const [openItems, setOpenItems] = useState(() => {\n        return items.map(item => item.id);\n    }); // items中所有初始都为打开状态\n\n    // 添加新元素到 items 数组中，并将其 key 添加到当前展开的面板数组中\n    const addItem = () => {\n        const newItemId = \"input_\" + uuidv4();\n        setOpenItems([...openItems, newItemId]); // 将新元素 key 添加到 openItems 数组中\n        dispatch({actionType: \"addInputParam\", id: newItemId});\n    };\n\n    const renderAddInputIcon = () => {\n        const configObject = data.find(item => item.name === \"input\")?.config?.find(configItem => configItem.hasOwnProperty(\"allowAdd\")); // 查找具有 \"allowAdd\" 属性的对象\n        if (configObject ? configObject.allowAdd : false) {\n            return <Button type=\"text\" className=\"icon-button\" onClick={addItem}\n                           style={{\"height\": \"32px\", marginLeft: \"auto\", marginRight: \"12px\"}}>\n                <PlusOutlined/>\n            </Button>;\n        }\n    };\n\n    const renderDeleteIcon = (item) => {\n        if (!item.disableModifiable) {\n            return <Button type=\"text\" className=\"icon-button\"\n                           style={{\"height\": \"22px\", \"marginLeft\": \"auto\"}}\n                           onClick={() => handleDelete(item.id)}>\n                <DeleteOutlined/>\n            </Button>\n        }\n    };\n\n    const handleDelete = (itemId) => {\n        const updatedOpenItems = openItems.filter((key) => key !== itemId);\n        setOpenItems(updatedOpenItems);\n        dispatch({actionType: \"deleteInputParam\", id: itemId});\n    };\n\n    const content = (<div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}>\n            <p>定义启动工作流所需的输入参数，这些内容将由</p>\n            <p>大模型在机器人对话过程中读取，允许大模型</p>\n            <p>在适当的时间启动工作流并填写正确的信息。</p>\n        </div>);\n\n    return (<div>\n            <div style={{\n                display: \"flex\", alignItems: \"center\", marginBottom: \"8px\", paddingLeft: \"8px\", paddingRight: \"4px\", height: \"32px\"\n            }}>\n                <div className=\"jade-panel-header-font\">输入</div>\n                <Popover content={content}>\n                    <InfoCircleOutlined className=\"jade-top-header-popover-content\"/>\n                </Popover>\n                {renderAddInputIcon()}\n            </div>\n            <Collapse bordered={false} activeKey={openItems} onChange={(keys) => setOpenItems(keys)}\n                      className=\"jade-collapse-custom-background-color\">\n                {\n                    items.map((item) => (\n                            <Panel\n                                key={item.id}\n                                header={\n                                    <div className=\"panel-header\">\n                                        <span className=\"jade-panel-header-font\">{item.name}</span> {/* 显示Name值的元素 */}\n                                        {renderDeleteIcon(item)}\n                                    </div>\n                                }\n                                className=\"jade-panel\"\n                                style={{marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n                            >\n                                <StartInputForm item={item}/>\n                            </Panel>\n                    ))\n                }\n            </Collapse>\n            <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"historicalRecordsPanel\"]}>\n                {\n                    <Panel\n                        key={\"historicalRecordsPanel\"}\n                        header={\n                            <div className=\"panel-header\"\n                                 style={{display: 'flex', alignItems: 'center', justifyContent: \"flex-start\"}}>\n                                <span className=\"jade-panel-header-font\">历史记录</span>\n                            </div>\n                        }\n                        className=\"jade-panel\"\n                        style={{width: \"100%\"}}\n                    >\n                        <Memory config={config}/>\n                    </Panel>\n                }\n            </Collapse>\n        </div>\n    );\n};","import StartFormWrapper from \"./StartFormWrapper.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\n\nexport const startComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : [\n            {\n                id: uuidv4(),\n                name: \"input\",\n                type: \"Object\",\n                from: \"Expand\",\n                value: [{id: \"input_\" + uuidv4(), name: \"Question\", type: \"String\", from: \"Input\", description: \"这是用户输入的问题\", value: \"\", disableModifiable: true}]\n            },\n            {\n                id: uuidv4(),\n                name: \"memory\",\n                type: \"Object\",\n                from: \"Expand\",\n                value: [{\n                    id: uuidv4(),\n                    name: \"type\",\n                    type: \"String\",\n                    from: \"Input\",\n                    value: \"ByConversationTurn\"\n                }, {\n                    id: uuidv4(),\n                    name: \"value\",\n                    type: \"Integer\",\n                    from: \"Input\",\n                    value: \"3\"\n                }]\n            }\n        ];\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><StartComponent/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (data, action) => {\n        function addInputParam() {\n            return data.map(item => {\n                if (item.name === \"input\") {\n                    return {\n                        ...item, value: [...item.value, {id: action.id, name: \"\", type: \"String\", from: \"Input\", description: \"\", value: \"\", disableModifiable: false}]\n                    }\n                } else {\n                    return item;\n                }\n            })\n        }\n\n        function changeInputParam() {\n            return data.map(item => {\n                if (item.name === \"input\") {\n                    return {\n                        ...item, value: item.value.map(inputItem => {\n                            if (inputItem.id === action.id) {\n                                return {\n                                    ...inputItem, [action.type]: action.value\n                                }\n                            } else {\n                                return inputItem;\n                            }\n                        })\n                    }\n                } else {\n                    return item;\n                }\n            });\n        }\n\n        function changeMemory() {\n            return data.map(item => {\n                if (item.name === \"memory\") {\n                    return {\n                        ...item, value: item.value.map(memoryItem => {\n                            if (memoryItem.name === \"type\") {\n                                return {...memoryItem, value: action.memoryType};\n                            } else if (memoryItem.name === \"value\") {\n                                return {...memoryItem, type: action.memoryValueType, value: action.memoryValue};\n                            } else {\n                                return memoryItem;\n                            }\n                        })\n                    }\n                } else {\n                    return item;\n                }\n            });\n        }\n\n        function deleteInputParam() {\n            return data.map(item => {\n                if (item.name === \"input\") {\n                    return {\n                        ...item, value: item.value.filter(inputItem => inputItem.id !== action.id)\n                    }\n                } else {\n                    return item;\n                }\n            });\n        }\n\n        switch (action.actionType) {\n            case 'addInputParam': {\n                return addInputParam();\n            }\n            case 'changeInputParam': {\n                return changeInputParam();\n            }\n            case 'changeMemory': {\n                return changeMemory();\n            }\n            case 'deleteInputParam': {\n                return deleteInputParam();\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nconst StartComponent = () => {\n    return (<>\n        <StartFormWrapper/>\n    </>)\n};","import * as React from \"react\";\nconst SvgIconLlm = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip4_13238\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u56FE\\\\u6807/16/\\\\u5927\\\\u6A21\\\\u578B\", width: 16, height: 16, transform: \"translate(4.000000 4.000000)\", fill: \"white\", fillOpacity: 0 }))), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#047BFC\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip4_13238)\" }, /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M12 4.66L18.33 8.33L18.33 15.66L11.99 19.33L5.66 15.66L5.66 8.33L12 4.66ZM8.33 10.64L11.33 12.38L11.33 15.75L12.66 15.75L12.66 12.38L15.66 10.64L15 9.49L12 11.23L9 9.49L8.33 10.64Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" })));\nexport default SvgIconLlm;\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport LlmIcon from '../asserts/icon-llm.svg?react'; // 导入背景图片\nimport {Button} from \"antd\";\nimport \"./style.css\";\nimport {v4 as uuidv4} from \"uuid\";\n\n/**\n * jadeStream中的大模型节点.\n *\n * @override\n */\nexport const llmNodeState = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"llmNodeState\";\n    self.text = \"大模型\";\n    self.pointerEvents = \"auto\";\n    self.componentName = \"llmComponent\";\n    self.flowMeta.jober.fitables.push(\"com.huawei.fit.jober.aipp.fitable.LLMComponent\");\n    self.flowMeta.jober.isAsync = \"true\";\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return (\n            <Button\n                disabled={true}\n                className=\"jade-node-custom-header-icon\"\n            >\n                <LlmIcon/>\n            </Button>\n        );\n    };\n\n    return self;\n};","import {Col, Collapse, Form, Input, InputNumber, Popover, Row} from 'antd';\nimport {InfoCircleOutlined} from '@ant-design/icons';\nimport {useDataContext, useDispatch, useFormContext} from \"@/components/DefaultRoot.jsx\";\nimport {JadeStopPropagationSelect} from \"../common/JadeStopPropagationSelect.jsx\";\nimport PropTypes from \"prop-types\";\n\nconst {TextArea} = Input;\nconst {Panel} = Collapse;\n\nModelForm.propTypes = {\n    modelOptions: PropTypes.array.isRequired, // 确保 modelOptions 是一个必需的array类型\n};\n\n/**\n * 大模型节点模型表单。\n *\n * @param shapeId 所属图形唯一标识。\n * @param modelOptions 模型选项。\n * @returns {JSX.Element} 大模型节点模型表单的DOM。\n */\nexport default function ModelForm({shapeId, modelOptions}) {\n    const data = useDataContext();\n    const dispatch = useDispatch();\n    const form = useFormContext();\n    const model = data.inputParams.find(item => item.name === \"model\");\n    const temperature = data.inputParams.find(item => item.name === \"temperature\");\n    const prompt = data.inputParams.filter(item => item.name === \"prompt\").flatMap(item => item.value).find(item => item.name === \"template\");\n\n    const handleSelectClick = (event) => {\n        event.stopPropagation(); // 阻止事件冒泡\n    };\n\n    const content = (\n        <div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}>\n            <p>用于控制生成文本的大型模型的随机性。</p>\n            <p>当设置较高时，模型将生成更多样化的文本，增加不确定性；</p>\n            <p>当设置较低时，模型将生成高概率词，减少不确定性。</p>\n        </div>\n    );\n\n    const promptContent = (\n        <div className={\"jade-font-size\"} style={{lineHeight: \"1.2\"}}>\n            <p>编辑大模型的提示词，实现相应的功能。</p>\n            <p>可以使用{`{{变量名}}`}从输入参数中引入变量。</p>\n        </div>\n    );\n\n    const formatter = (value, { input, userTyping }) => {\n        if (userTyping) {\n            return input;\n        }\n        if (value === 0.0) {\n            return '0';\n        } else if (value === 1.0) {\n            return '1';\n        }\n        return value;\n    };\n\n    // 失焦时才设置inputNumber的值.若为空，则不设置.\n    const onInputNumberBlur = (e) => {\n        if (e.target.value === \"\") {\n            return;\n        }\n        dispatch({\n            actionType: \"changeConfig\",\n            id: temperature.id,\n            value: e.target.value\n        });\n    };\n\n    // 失焦时才设置prompt的值.若为空，则不设置.\n    const onTextareaBlur = (e) => {\n        if (e.target.value === \"\") {\n            return;\n        }\n        dispatch({\n            actionType: \"changePrompt\",\n            id: prompt.id,\n            value: e.target.value\n        })\n    };\n\n    return (\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"modelPanel\"]}>\n            {\n                <Panel\n                    key={\"modelPanel\"}\n                    header={\n                        <div className=\"panel-header\">\n                            <span className=\"jade-panel-header-font\">大模型</span>\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                >\n                    <Row gutter={16}>\n                        <Col span={12}>\n                            <Form.Item\n                                    className=\"jade-form-item\"\n                                    name={`model-${shapeId}`}\n                                    label=\"模型\"\n                                    rules={[{required: true, message: '请选择使用的模型'}]}\n                                    initialValue={model.value} // 当组件套在Form.Item中的时候，内部组件的初始值使用Form.Item的initialValue进行赋值\n                            >\n                                <JadeStopPropagationSelect\n                                        className=\"jade-select\"\n                                        onClick={handleSelectClick} // 点击下拉框时阻止事件冒泡\n                                        onChange={(e) => dispatch({actionType: \"changeConfig\", id: model.id, value: e})}\n                                        options={modelOptions}\n                                        validateTrigger=\"onBlur\"\n                                />\n                            </Form.Item>\n                        </Col>\n                        <Col span={12}>\n                            <Form.Item\n                                    className=\"jade-form-item\"\n                                    name={`temperature-${shapeId}`}\n                                    label={<div style={{display: 'flex', alignItems: 'center'}}>\n                                        <span className=\"jade-second-title\">温度</span>\n                                        <Popover content={content}>\n                                            <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                                        </Popover>\n                                    </div>}\n                                    rules={[{required: true, message: '请输入0-1之间的参数!'}]}\n                                    initialValue={temperature.value}\n                                    validateTrigger=\"onBlur\"\n                            >\n                                <InputNumber\n                                        formatter={formatter}\n                                        className=\"jade-input\"\n                                        style={{width: \"100%\"}}\n                                        min={0}\n                                        max={1}\n                                        step={0.1}\n                                        onBlur={onInputNumberBlur}\n                                        stringMode\n                                />\n                            </Form.Item>\n                        </Col>\n                    </Row>\n                    <Row gutter={16}>\n                        <Col span={24}>\n                            <Form.Item\n                                    className=\"jade-form-item\"\n                                    name={`propmt-${shapeId}`}\n                                    label={<div style={{display: 'flex', alignItems: 'center'}}>\n                                        <span className=\"jade-second-title\">提示词模板</span>\n                                        <Popover content={[promptContent]}>\n                                            <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                                        </Popover>\n                                    </div>}\n                                    rules={[{required: true, message: '参数不能为空'}]}\n                                    initialValue={prompt.value}\n                                    validateTrigger=\"onBlur\"\n                            >\n                                <TextArea\n                                        className=\"jade-input jade-font-size\"\n                                        onBlur={(e) => onTextareaBlur(e)}\n                                        placeholder=\"你可以用{{variable name}}来关联输入中的变量名\"\n                                        autoSize={{minRows: 4, maxRows: 4}}\n                                />\n                            </Form.Item>\n                        </Col>\n                    </Row>\n                </Panel>\n            }\n        </Collapse>\n    );\n}","import {Button, Col, Collapse, Form, Input, Popover, Row} from 'antd';\nimport {InfoCircleOutlined, MinusCircleOutlined, PlusOutlined} from '@ant-design/icons';\nimport \"./style.css\";\nimport PropTypes from \"prop-types\";\nimport {v4 as uuidv4} from \"uuid\";\nimport {JadeStopPropagationSelect} from \"./JadeStopPropagationSelect.jsx\";\nimport {JadeReferenceTreeSelect} from \"./JadeReferenceTreeSelect.jsx\";\nimport {useFormContext} from \"@/components/DefaultRoot.jsx\";\n\nconst {Panel} = Collapse;\n\nJadeInput.propTypes = {\n    items: PropTypes.array.isRequired, // 确保 items 是一个必需的数组类型\n    addItem: PropTypes.func.isRequired, // 确保 addItem 是一个必需的函数类型\n    updateItem: PropTypes.func.isRequired, // 确保 updateItem 是一个必需的函数类型\n    deleteItem: PropTypes.func.isRequired, // 确保 deleteItem 是一个必需的函数类型\n};\n\n/**\n * InputForm组件用于展示一个表单，其中包含一些输入项，这些输入项根据用户选择的值源展示不同的组件。\n *\n * @returns {JSX.Element}\n * @constructor\n */\n/**\n * Jade标准输入\n *\n * @param items 需要组件展示的item数据结构的数组\n * @param addItem 当添加一个新item时会调用此方法，此方法需要有id入参\n * @param updateItem 当修改一个已有item时会调用此方法，此方法需要有id，修改的key和修改的value组成的对象列表两个入参\n * @param deleteItem 当删除一个已有item时会调用此方法，此方法需要有id入参\n * @returns {JSX.Element} Jade标准输入表单的DOM\n */\nexport default function JadeInput({items, addItem, updateItem, deleteItem}) {\n    /**\n     * 示例items,其中id，name，from，value必须，涉及reference时，referenceNode, referenceId, referenceKey必须, value会变为列表\n     *\n     * [\n     *    {id: uuidv4(), name: '', type: \"String\", from: 'Reference', value: '', referenceNode: \"\", referenceId: \"\", referenceKey: \"\"},\n     *    {id: uuidv4(), name: '', type: \"String\", from: 'Reference', value: '', referenceNode: \"\", referenceId: \"\", referenceKey: \"\"},\n     *    {id: uuidv4(), name: '', type: \"String\", from: 'Reference', value: '', referenceNode: \"\", referenceId: \"\", referenceKey: \"\"}\n     * ]\n     */\n\n    const form = useFormContext();\n\n    const handleAdd = () => {\n        addItem(uuidv4());\n    };\n\n    const handleItemChange = (name, value, itemId) => {\n        const changes = [{key: name, value}];\n        // 如果字段为 from，则清空 value 字段\n        if (name === 'from') {\n            changes.push({key: \"value\", value: \"\"});\n            changes.push({key: \"referenceNode\", value: \"\"});\n            changes.push({key: \"referenceId\", value: \"\"});\n            changes.push({key: \"referenceKey\", value: \"\"});\n            document.activeElement.blur();// 在选择后取消焦点\n            form.setFieldsValue({[`value-${itemId}`]: undefined});\n            form.setFieldsValue({[`reference-${itemId}`]: undefined});\n        }\n        updateItem(itemId, changes);\n    };\n\n    /**\n     * 当reference对应监听对象自身发生变化时调用\n     *\n     * @param item 变化的item信息\n     * @param e 变化值对象\n     */\n    const handleReferenceValueChange = (item, e) => {\n        updateItem(item.id, [{key: \"referenceKey\", value: e}]);\n    };\n\n    /**\n     * 当切换reference对应监听对象时调用\n     *\n     * @param item 变化的item信息\n     * @param e 变化值对象\n     */\n    const handleReferenceKeyChange = (item, e) => {\n        updateItem(item.id, [\n                {key: \"referenceNode\", value: e.referenceNode},\n                {key: \"referenceId\", value: e.referenceId},\n                {key: \"value\", value: e.value}\n        ]);\n    };\n\n    const handleDelete = (itemId) => {\n        deleteItem(itemId);\n    };\n\n    const content = (\n        <div>\n            <p>输入需要添加到提示词模板中的信息，可被提示词模板引用</p>\n        </div>\n    );\n\n    const handleSelectClick = (event) => {\n        event.stopPropagation(); // 阻止事件冒泡\n    };\n\n    // 根据不同的值渲染不同的组件\n    const renderComponent = (item) => {\n        switch (item.from) {\n            case 'Reference':\n                return (<>\n                    <JadeReferenceTreeSelect\n                            rules={[{required: true, message: \"字段值不能为空\"}]}\n                            className=\"value-custom jade-select\"\n                            reference={item}\n                            onReferencedValueChange={(e) => handleReferenceValueChange(item, e)}\n                            onReferencedKeyChange={(e) => handleReferenceKeyChange(item, e)}\n                    />\n                </>);\n            case 'Input':\n                return <Form.Item\n                    id={`value-${item.id}`}\n                    name={`value-${item.id}`}\n                    rules={[{required: true, message: \"字段值不能为空\"}, {pattern: /^[^\\s]*$/, message: \"禁止输入空格\"}]}\n                    initialValue={item.value}\n                    validateTrigger=\"onBlur\"\n                >\n                    <Input\n                        className=\"value-custom jade-input\"\n                        value={item.value}\n                        onChange={(e) => handleItemChange('value', e.target.value, item.id)}\n                    />\n                </Form.Item>;\n            default:\n                return <></>;\n        }\n    };\n\n    return (\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"inputPanel\"]}>\n            {<Panel\n                    key={\"inputPanel\"}\n                    header={<div className=\"panel-header\">\n                        <span className=\"jade-panel-header-font\">输入</span>\n                        <Popover content={content}>\n                            <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                        </Popover>\n                        <Button type=\"text\" className=\"icon-button jade-panel-header-icon-position\"\n                                onClick={(event) => {\n                                    handleAdd();\n                                    handleSelectClick(event);\n                                }}>\n                            <PlusOutlined/>\n                        </Button>\n                    </div>}\n                    className=\"jade-panel\"\n            >\n                <Row gutter={16}>\n                    <Col span={8}>\n                        <Form.Item>\n                            <span className=\"jade-font-size jade-font-color\">字段名称</span>\n                        </Form.Item>\n                    </Col>\n                    <Col span={16}>\n                        <Form.Item>\n                            <span className=\"jade-font-size jade-font-color\">字段值</span>\n                        </Form.Item>\n                    </Col>\n                </Row>\n                {items.map((item) => (<Row\n                                key={item.id}\n                                gutter={16}\n                        >\n                            <Col span={8}>\n                                <Form.Item\n                                        id={`name-${item.id}`}\n                                        name={`name-${item.id}`}\n                                        rules={[{required: true, message: \"字段值不能为空\"}, {pattern: /^[a-zA-Z_][a-zA-Z0-9_]*$/, message: '只能包含字母、数字或下划线，且必须以字母或下划线开头'}]}\n                                        initialValue={item.name}\n                                >\n                                    <Input\n                                            className=\"jade-input\"\n                                            placeholder=\"请输入字段名称\"\n                                            style={{paddingRight: \"12px\"}}\n                                            value={item.name}\n                                            onChange={(e) => handleItemChange('name', e.target.value, item.id)}\n                                    />\n                                </Form.Item>\n                            </Col>\n                            <Col span={6} style={{paddingRight: 0}}>\n                                <Form.Item\n                                        id={`from-${item.id}`}\n                                        initialValue=\"Reference\"\n                                >\n                                    <JadeStopPropagationSelect\n                                            id={`from-select-${item.id}`}\n                                            className=\"value-source-custom jade-select\"\n                                            style={{width: \"100%\"}}\n                                            onChange={(value) => handleItemChange('from', value, item.id)}\n                                            options={[{value: 'Reference', label: '引用'},\n                                                {value: 'Input', label: '输入'}]}\n                                            value={item.from}\n                                    />\n                                </Form.Item>\n                            </Col>\n                            <Col span={8} style={{paddingLeft: 0}}>\n                                {renderComponent(item)} {/* 渲染对应的组件 */}\n                            </Col>\n                            <Col span={2} style={{paddingLeft: 0}}>\n                                <Form.Item>\n                                    <Button type=\"text\" className=\"icon-button\"\n                                            style={{height: \"100%\"}}\n                                            onClick={() => handleDelete(item.id)}>\n                                        <MinusCircleOutlined/>\n                                    </Button>\n                                </Form.Item>\n                            </Col>\n                        </Row>))}\n            </Panel>\n            }\n        </Collapse>\n    );\n}","import {Collapse, Form, Popover, Row} from 'antd';\nimport {InfoCircleOutlined} from '@ant-design/icons';\nimport {useDataContext, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport \"../common/style.css\";\nimport {JadeObservableTree} from \"@/components/common/JadeObservableTree.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 大模型节点输出表单。\n *\n * @returns {JSX.Element} 大模型节点输出表单的DOM。\n */\nexport default function LlmOutput() {\n    const shape = useShapeContext();\n    const data = useDataContext();\n\n    const initItems = () => {\n        return data.outputParams;\n    };\n\n    const outputItems = initItems();\n\n    // 430演示大模型输出不需要新增和删除，暂时屏蔽\n    // 添加新元素到 items 数组中，并将其 key 添加到当前展开的面板数组中\n    // const addItem = () => {\n    //     dispatch({actionType: \"addOutputParam\", id: \"uuidv4()})\n    // };\n\n    // 430演示大模型输出不允许用户修改，暂时屏蔽\n    // const handleItemChange = (name, value, itemId) => {\n    //     dispatch({actionType: \"changeOutputParam\", id: itemId, type: name, value: value});\n    //     if (name === \"type\") {\n    //         document.activeElement.blur();// 在选择后取消焦点\n    //     }\n    // };\n\n    // 430演示大模型输出不需要新增和删除，暂时屏蔽\n    // const handleDelete = (itemId) => {\n    //     dispatch({actionType: \"deleteOutputParam\", id: itemId});\n    // };\n\n    // 430演示大模型输出不需要新增和删除，暂时屏蔽\n    // const handleSelectClick = (event) => {\n    //     event.stopPropagation(); // 阻止事件冒泡\n    // };\n\n    const content = (\n        <div className={\"jade-font-size\"}>\n            <p>大模型运行完成后生成的内容。</p>\n        </div>\n    );\n\n    return (\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"outputPanel\"]}>\n            {\n                <Panel\n                    key={\"outputPanel\"}\n                    header={\n                        <div className=\"panel-header\"\n                             style={{display: 'flex', alignItems: 'center', justifyContent: \"flex-start\"}}>\n                            <span className=\"jade-panel-header-font\">输出</span>\n                            <Popover content={content}>\n                                <InfoCircleOutlined className=\"jade-panel-header-popover-content\"/>\n                            </Popover>\n                            {/*430演示大模型输出不需要新增和删除，暂时屏蔽*/}\n                            {/*<Button type=\"text\" className=\"icon-button\"*/}\n                            {/*        style={{\"height\": \"22px\", \"marginLeft\": \"auto\"}}*/}\n                            {/*        onClick={(event) => {*/}\n                            {/*            addItem();*/}\n                            {/*            handleSelectClick(event);*/}\n                            {/*        }}>*/}\n                            {/*    <PlusOutlined/>*/}\n                            {/*</Button>*/}\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                >\n                    <Form\n                        name={`outputForm-${shape.id}`}\n                        layout=\"vertical\" // 设置全局的垂直布局\n                        className={\"jade-form\"}\n                    >\n                        <JadeObservableTree data={outputItems}/>\n\n                        \n                        {/*430演示大模型输出不允许用户操作，写死*/}\n                        {/*<Row gutter={16}>*/}\n                        {/*    <Col span={7}>*/}\n                        {/*        <Form.Item>*/}\n                        {/*            <span style={{color: \"rgba(28,31,35,.35)\"}}>Name</span>*/}\n                        {/*        </Form.Item>*/}\n                        {/*    </Col>*/}\n                        {/*    <Col span={5}>*/}\n                        {/*        <Form.Item>*/}\n                        {/*            <span style={{color: \"rgba(28,31,35,.35)\"}}>Type</span>*/}\n                        {/*        </Form.Item>*/}\n                        {/*    </Col>*/}\n                        {/*    <Col span={12}>*/}\n                        {/*        <Form.Item>*/}\n                        {/*            <span style={{color: \"rgba(28,31,35,.35)\"}}>Description</span>*/}\n                        {/*        </Form.Item>*/}\n                        {/*    </Col>*/}\n                        {/*</Row>*/}\n                        {/*430演示大模型输出不允许用户操作，写死*/}\n                        {/*{outputItems.map((item) => (*/}\n                        {/*    <Row*/}\n                        {/*        key={item.id}*/}\n                        {/*        gutter={16}*/}\n                        {/*    >*/}\n                        {/*<Col span={7}>*/}\n                        {/*    <Form.Item*/}\n                        {/*        id={`name-${item.id}`}*/}\n                        {/*        name={`name-${item.id}`}*/}\n                        {/*        rules={[{required: true, message: '输出参数名称不能为空!'}]}*/}\n                        {/*        initialValue={item.name}*/}\n                        {/*    >*/}\n                        {/*        <Input*/}\n                        {/*            style={{paddingRight: \"12px\"}}*/}\n                        {/*            value={item.name}*/}\n                        {/*            onChange={(e) => handleItemChange('name', e.target.value, item.id)}*/}\n                        {/*        />*/}\n                        {/*    </Form.Item>*/}\n                        {/*</Col>*/}\n                        {/*<Col span={5}>*/}\n                        {/*    <Form.Item*/}\n                        {/*        id={`type-${item.id}`}*/}\n                        {/*        initialValue='String'*/}\n                        {/*    >*/}\n                        {/*        <JadeStopPropagationSelect*/}\n                        {/*            id={`type-select-${item.id}`}*/}\n                        {/*            style={{width: \"100%\"}}*/}\n                        {/*            onChange={(value) => handleItemChange('type', value, item.id)}*/}\n                        {/*            options={[*/}\n                        {/*                {value: 'String', label: 'String'},*/}\n                        {/*                {value: 'Integer', label: 'Integer'},*/}\n                        {/*                {value: 'Boolean', label: 'Boolean'},*/}\n                        {/*                {value: 'Number', label: 'Number'},*/}\n                        {/*                {value: 'Object', label: 'Object', disabled: true},*/}\n                        {/*                {value: 'Array<String>', label: 'Array<String>'},*/}\n                        {/*                {value: 'Array<Integer>', label: 'Array<Integer>'},*/}\n                        {/*                {value: 'Array<Boolean>', label: 'Array<Boolean>'},*/}\n                        {/*                {value: 'Array<Number>', label: 'Array<Number>'},*/}\n                        {/*                {value: 'Array<Object>', label: 'Array<Object>', disabled: true},*/}\n                        {/*            ]}*/}\n                        {/*            value={item.type}*/}\n                        {/*        />*/}\n                        {/*    </Form.Item>*/}\n                        {/*</Col>*/}\n                        {/*<Col span={11}>*/}\n                        {/*    <Form.Item*/}\n                        {/*        id={`description-${item.id}`}*/}\n                        {/*    >*/}\n                        {/*        <Input*/}\n                        {/*            style={{paddingRight: \"12px\"}}*/}\n                        {/*            value={item.description}*/}\n                        {/*            onChange={(e) => handleItemChange('description', e.target.value, item.id)}*/}\n                        {/*        />*/}\n                        {/*    </Form.Item>*/}\n                        {/*</Col>*/}\n\n\n                        {/*430演示大模型输出不需要新增和删除，暂时屏蔽*/}\n                        {/*<Col span={1} style={{paddingLeft: \"2px\"}}>*/}\n                        {/*    <Form.Item>*/}\n                        {/*        <Button type=\"text\" className=\"icon-button\"*/}\n                        {/*                style={{\"height\": \"100%\", \"marginLeft\": \"auto\"}}*/}\n                        {/*                onClick={() => handleDelete(item.id)}>*/}\n                        {/*            <MinusCircleOutlined/>*/}\n                        {/*        </Button>*/}\n                        {/*    </Form.Item>*/}\n                        {/*</Col>*/}\n                        {/*</Row>*/}\n                        {/*))}*/}\n                    </Form>\n                </Panel>\n            }\n        </Collapse>\n    );\n}","import {Button, Col, Collapse, Form, Row} from 'antd';\nimport {PlusOutlined} from '@ant-design/icons';\nimport {useDataContext, useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport \"../common/style.css\";\nimport {JadeStopPropagationSelect} from \"../common/JadeStopPropagationSelect.jsx\";\nimport PropTypes from \"prop-types\";\n\nconst {Panel} = Collapse;\n\nSkillForm.propTypes = {\n    toolOptions: PropTypes.array.isRequired, // 确保 toolOptions 是一个必需的array类型\n    workflowOptions: PropTypes.array.isRequired, // 确保 workflowOptions 是一个必需的array类型\n    config: PropTypes.object.isRequired, // 确保 config 是一个必需的object类型\n};\n\n/**\n * 大模型节点技能表单。\n *\n * @param toolOptions 工具选项。\n * @param workflowOptions 工具流选项。\n * @param config 相关配置。\n * @returns {JSX.Element} 大模型节点技能表单的DOM。\n */\nexport default function SkillForm({toolOptions, workflowOptions, config}) {\n    const shape = useShapeContext();\n    const data = useDataContext();\n    const dispatch = useDispatch();\n    const tool = data.inputParams.find(item => item.name === \"tools\");\n    const workflow = data.inputParams.find(item => item.name === \"workflows\");\n\n    const handleClick = (event) => {\n        if (!config || !config.params || !config.params.tenantId || !config.params.appId) {\n            console.error('Cannot get config.params.tenantId or config.params.appId.');\n        } else {\n            // 使用 window.open() 打开一个新页面\n            window.open('/appbuilder/#/aipp/' + config.params.tenantId + '/addFlow/' + config.params.appId, '_blank');\n            event.stopPropagation(); // 阻止事件冒泡\n        }\n    };\n\n    // Filter `option.label` match the user type `input`\n    const filterOption = (input, option) =>\n        (option?.label ?? '').toLowerCase().includes(input.toLowerCase());\n\n    const handleSkillChange = (itemId, value) => {\n        dispatch({actionType: \"changeSkillConfig\", id: itemId, value: value});\n    };\n\n    return (\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"skillPanel\"]}>\n            {\n                <Panel\n                    key={\"skillPanel\"}\n                    header={\n                        <div className=\"panel-header\"\n                             style={{display: 'flex', alignItems: 'center', justifyContent: \"flex-start\"}}>\n                            <span className=\"jade-panel-header-font\">技能</span>\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                >\n                    <Form\n                        name={`skillForm-${shape.id}`}\n                        layout=\"vertical\" // 设置全局的垂直布局\n                        className={\"jade-form\"}\n                    >\n                        <Row gutter={16} style={{marginBottom: \"6px\", marginRight: 0, marginLeft: \"-3%\"}}>\n                            <Col span={21}>\n                                <span className=\"jade-font-size jade-font-color\" style={{marginLeft: \"6px\"}}>工具</span>\n                            </Col>\n                            {/*430演示工具不需要+号跳转，暂时屏蔽*/}\n                            {/*<Col span={3}>*/}\n                            {/*    <Button type=\"text\" className=\"icon-button\"*/}\n                            {/*            style={{height: \"22px\", marginLeft: \"4px\"}}*/}\n                            {/*            onClick={(event) => {*/}\n                            {/*                // Todo 打开一个页面*/}\n                            {/*                handleClick(event);*/}\n                            {/*            }}>*/}\n                            {/*        <PlusOutlined/>*/}\n                            {/*    </Button>*/}\n                            {/*</Col>*/}\n                        </Row>\n                        <Form.Item>\n                            <JadeStopPropagationSelect\n                                mode=\"multiple\"\n                                showSearch\n                                allowClear\n                                className=\"jade-select\"\n                                placeholder=\"选择合适的工具\"\n                                filterOption={filterOption}\n                                optionFilterProp=\"label\"\n                                value={tool.value}\n                                onMouseDown={(e) => e.stopPropagation()}\n                                onChange={(e) => handleSkillChange(tool.id, e)}\n                                options={toolOptions}\n                            />\n                        </Form.Item>\n                        <Row gutter={16} style={{marginBottom: \"6px\", marginRight: 0, marginLeft: \"-3%\"}}>\n                            <Col span={22}>\n                                <span className=\"jade-font-size jade-font-color\" style={{marginLeft: \"6px\"}}>工具流</span>\n                            </Col>\n                            <Col span={2} style={{paddingLeft: \"3%\"}}>\n                                <Button type=\"text\" className=\"icon-button\"\n                                        style={{height: \"22px\"}}\n                                        onClick={(event) => {\n                                            handleClick(event);\n                                        }}>\n                                    <PlusOutlined/>\n                                </Button>\n                            </Col>\n                        </Row>\n\n                        <Form.Item>\n                            <JadeStopPropagationSelect\n                                mode=\"multiple\"\n                                showSearch\n                                allowClear\n                                className=\"jade-select\"\n                                placeholder=\"选择合适的工具流\"\n                                filterOption={filterOption}\n                                optionFilterProp=\"label\"\n                                value={workflow.value}\n                                onChange={(e) => handleSkillChange(workflow.id, e)}\n                                options={workflowOptions}\n                            />\n                        </Form.Item>\n                    </Form>\n                </Panel>\n            }\n        </Collapse>\n    );\n}","import ModelForm from \"./ModelForm.jsx\";\nimport JadeInput from '../common/JadeInput.jsx';\nimport LlmOutput from './LlmOutput.jsx';\nimport SkillForm from \"./SkillForm.jsx\";\nimport \"./style.css\";\nimport {useDataContext, useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport {useState, useEffect} from \"react\";\nimport httpUtil from \"../util/httpUtil.jsx\";\n\n/**\n * 大模型表单Wrapper\n *\n * @returns {JSX.Element} 大模型表单Wrapper的DOM\n */\nexport default function LlmFormWrapper() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const shape = useShapeContext();\n    let config;\n    if (!shape || !shape.graph || !shape.graph.configs) {\n        console.error('Cannot get shape.graph.configs.');\n    } else {\n        config = shape.graph.configs.find(node => node.node === \"llmNodeState\");\n    }\n    const [modelOptions, setModelOptions] = useState([]);\n    const [toolOptions, setToolOptions] = useState([]);\n    const [workflowOptions, setWorkflowOptions] = useState([]);\n\n    const initItems = () => {\n        return data.inputParams\n            .filter(item => item.name === \"prompt\") // 找出 name 为 \"input\" 的项\n            .flatMap(item => item.value) // 将每个符合条件的项的 value 属性展开成一个数组\n            .filter(item => item.name === \"variables\") // 找出 name 为 \"variable\" 的项\n            .flatMap(item => item.value) // 将每个符合条件的项的 value 属性展开成一个数组\n    }\n\n    const addItem = (id) => {\n        dispatch({actionType: \"addInputParam\", id: id});\n    };\n\n    const updateItem = (id, value) => {\n        dispatch({actionType: \"changeInputParams\", id: id, updateParams: value});\n    };\n\n    const deleteItem = (id) => {\n        dispatch({actionType: \"deleteInputParam\", id: id});\n    };\n\n    useEffect(() => {\n        if (!config || !config.urls) {\n            console.error('Cannot get config.urls.');\n        } else {\n            if (!config.urls.llmModelEndpoint) {\n                console.error('Cannot get config.urls.llmModelEndpoint.');\n            } else {\n                // 发起网络请求获取 options 数据\n                httpUtil.get(config.urls.llmModelEndpoint + '/model-gateway/v1/models', {}, (jsonData) => setModelOptions(jsonData.data.map(item => {\n                    return {\n                        value: item.id,\n                        label: item.id\n                    };\n                })));\n            }\n            if(!config.urls.toolListEndpoint) {\n                console.error('Cannot get config.urls.toolListEndpoint.');\n            } else {\n                httpUtil.get(config.urls.toolListEndpoint + '/api/jober/store/platform/jade/categories/TOOL?pageNum=0&pageSize=10&includeTags=FIT', {}, (jsonData) => setToolOptions(jsonData.data.map(item => {\n                    return {\n                        value: item.uniqueName,\n                        label: item.name\n                    };\n                })));\n            }\n            if (!config.urls.workflowListEndpoint) {\n                console.error('Cannot get config.urls.workflowListEndpoint.');\n            } else {\n                httpUtil.get(config.urls.workflowListEndpoint + '/api/jober/store/platform/jade/categories/TOOL?pageNum=0&pageSize=10&includeTags=WATERFLOW', {}, (jsonData) => setWorkflowOptions(jsonData.data.map(item => {\n                    return {\n                        value: item.uniqueName,\n                        label: item.name\n                    };\n                })));\n            }\n        }\n    }, []); // useEffect 依赖数组为空，表示只在组件挂载时执行一次\n\n    return (\n        <div>\n            <JadeInput items={initItems()} addItem={addItem} updateItem={updateItem} deleteItem={deleteItem}/>\n            <ModelForm shapeId={shape.id} modelOptions={modelOptions}/>\n            <SkillForm toolOptions={toolOptions} workflowOptions={workflowOptions} config={config}/>\n            <LlmOutput/>\n        </div>\n    );\n}","import LlmFormWrapper from \"./LlmFormWrapper.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\n\nexport const llmComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            inputParams: [\n                {\n                    id: uuidv4(),\n                    name: \"model\",\n                    type: \"String\",\n                    from: \"Input\",\n                    value: \"\"\n                },\n                {\n                    id: uuidv4(),\n                    name: \"temperature\",\n                    type: \"Number\",\n                    from: \"Input\",\n                    value: \"0.3\"\n                },\n                {\n                    id: uuidv4(),\n                    name: \"prompt\",\n                    type: \"Object\",\n                    from: \"Expand\",\n                    value: [\n                        {id: uuidv4(), name: \"template\", type: \"String\", from: \"Input\", value: \"\"},\n                        {\n                            id: uuidv4(), name: \"variables\", type: \"Object\", from: \"Expand\", value: [\n                                {id: uuidv4(), name: undefined, type: \"String\", from: \"Reference\", value: \"\", referenceNode: \"\", referenceId: \"\", referenceKey: \"\"}\n                            ]\n                        }\n                    ]\n                },\n                {id: uuidv4(), name: \"tools\", type: \"Array\", from: \"Input\", value: []},\n                {id: uuidv4(), name: \"workflows\", type: \"Array\", from: \"Input\", value: []},\n                {id: uuidv4(), name: \"systemPrompt\", type: \"String\", from: \"Input\", value: \"\"},\n            ],\n            outputParams: [\n                {\n                    id: uuidv4(),\n                    name: \"output\",\n                    type: \"Object\",\n                    from: \"Expand\",\n                    value: [\n                        {id: uuidv4(), name: \"llmOutput\", type: \"string\", from: \"Input\", description: \"\", value: \"\"}\n                    ]\n                }\n            ]\n        };\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><LlmComponent/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (data, action) => {\n        function addInputParam() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"inputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.name === \"prompt\") {\n                            return {\n                                ...item, value: item.value.map(promptItem => {\n                                    if (promptItem.name === \"variables\") {\n                                        return {\n                                            ...promptItem, value: [...promptItem.value, {\n                                                id: action.id,\n                                                name: undefined,\n                                                type: \"String\",\n                                                from: \"Reference\",\n                                                value: \"\"\n                                            }]\n                                        };\n                                    } else {\n                                        return promptItem;\n                                    }\n                                })\n                            }\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function addOutputParam() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"outputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.name === \"output\") {\n                            return {\n                                ...item,\n                                value: [...item.value, {\n                                    id: action.id,\n                                    name: \"\",\n                                    type: \"string\",\n                                    from: \"Input\",\n                                    description: \"\",\n                                    value: \"\"\n                                }]\n                            }\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function changeInputParams() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"inputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.name === \"prompt\") {\n                            return {\n                                ...item, value: item.value.map(promptItem => {\n                                    if (promptItem.name === \"variables\") {\n                                        return {\n                                            ...promptItem, value: promptItem.value.map(inputItem => {\n                                                if (inputItem.id === action.id) {\n                                                    let updatedInputItem = { ...inputItem };\n                                                    // 遍历 updateParams 中的每个对象，更新 updatedInputItem 中对应的属性\n                                                    action.updateParams.map((item) => {\n                                                        updatedInputItem[item.key] = item.value;\n                                                    });\n                                                    return updatedInputItem;\n                                                } else {\n                                                    return inputItem;\n                                                }\n                                            })\n                                        }\n                                    } else {\n                                        return promptItem;\n                                    }\n                                })\n                            }\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function changePrompt() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"inputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.name === \"prompt\") {\n                            return {\n                                ...item, value: item.value.map(promptItem => {\n                                    if (action.id === promptItem.id && promptItem.name === \"template\") {\n                                        return {\n                                            ...promptItem, value: action.value\n                                        }\n                                    } else {\n                                        return promptItem;\n                                    }\n                                })\n                            }\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function changeOutputParam() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"outputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.name === \"output\") {\n                            return {\n                                ...item, value: item.value.map(outputItem => {\n                                    if (outputItem.id === action.id) {\n                                        return {...outputItem, [action.type]: action.value};\n                                    } else {\n                                        return outputItem;\n                                    }\n                                })\n                            }\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function changeConfig() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"inputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.id === action.id) {\n                            return {\n                                ...item, value: action.value\n                            };\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function changeSkillConfig() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"inputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.id === action.id) {\n                            return {\n                                ...item, value: action.value.map(value => {\n                                        return {id: uuidv4(), type: \"String\", from: \"Input\", value: value}\n                                })\n                            };\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        function deleteInputParam() {\n            const newData = {};\n            Object.entries(data).forEach(([key, value]) => {\n                if (key === \"inputParams\") {\n                    newData[key] = value.map(item => {\n                        if (item.name === \"prompt\") {\n                            return {\n                                ...item, value: item.value.map(promptItem => {\n                                    if (promptItem.name === \"variables\") {\n                                        return {\n                                            ...promptItem, value: promptItem.value.filter(inputItem => (inputItem.id !== action.id))\n                                        }\n                                    } else {\n                                        return promptItem;\n                                    }\n                                })\n                            }\n                        } else {\n                            return item;\n                        }\n                    });\n                } else {\n                    newData[key] = value;\n                }\n            });\n            return newData;\n        }\n\n        switch (action.actionType) {\n            case 'addInputParam': {\n                return addInputParam();\n            }\n            case 'addOutputParam': {\n                return addOutputParam();\n            }\n            case 'changeInputParams': {\n                return changeInputParams();\n            }\n            case 'changeOutputParam': {\n                return changeOutputParam();\n            }\n            case 'changeConfig': {\n                return changeConfig();\n            }\n            case 'changeSkillConfig': {\n                return changeSkillConfig();\n            }\n            case 'changePrompt': {\n                return changePrompt();\n            }\n            case 'deleteInputParam': {\n                return deleteInputParam();\n            }\n            case 'deleteOutputParam': {\n                return data.filter(item => item.id !== action.id);\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nconst LlmComponent = () => {\n    return (<>\n        <LlmFormWrapper/>\n    </>)\n};","import * as React from \"react\";\nconst SvgIconManualCheck = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip4_13297\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u56FE\\\\u6807/16/\\\\u68C0\\\\u67E5\\\\u5217\\\\u8868\", width: 16, height: 16, transform: \"translate(4.000000 4.000000)\", fill: \"white\", fillOpacity: 0 }))), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#A97AF8\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip4_13297)\" }, /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M15 7.68L14.98 7.68C14.78 7.48 14.78 7.17 14.98 6.97C15.17 6.78 15.48 6.78 15.68 6.97L15.68 7L15 7.68ZM18.32 9.64L18.35 9.64C18.55 9.84 18.55 10.15 18.35 10.35C18.15 10.55 17.84 10.55 17.64 10.35L17.64 10.32L18.32 9.64Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M15.33 7.33L18 10\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M15.68 10.32L15.68 10.35C15.48 10.55 15.17 10.55 14.98 10.35C14.78 10.15 14.78 9.84 14.98 9.64L15 9.64L15.68 10.32ZM17.64 7L17.64 6.97C17.84 6.78 18.15 6.78 18.35 6.97C18.55 7.17 18.55 7.48 18.35 7.68L18.32 7.68L17.64 7Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M15.33 10L18 7.33\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M18.29 13.69L18.29 13.67C18.47 13.46 18.78 13.43 18.99 13.62C19.2 13.8 19.22 14.11 19.04 14.32L19.01 14.33L18.29 13.69ZM14.67 15.68L14.64 15.68C14.44 15.48 14.44 15.17 14.64 14.97C14.84 14.78 15.15 14.78 15.35 14.97L15.35 15L14.67 15.68Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M18.66 14L16.33 16.66L15 15.33\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M12.66 7.33L5.33 7.33L5.33 10L12.66 10L12.66 7.33Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M5.33 7.33L5.33 10L12.66 10L12.66 7.33L5.33 7.33Z\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M12.66 14L5.33 14L5.33 16.66L12.66 16.66L12.66 14Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M5.33 14L5.33 16.66L12.66 16.66L12.66 14L5.33 14Z\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\" })));\nexport default SvgIconManualCheck;\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport {Button} from \"antd\";\nimport ManualCheckIcon from '../asserts/icon-manual-check.svg?react'; // 导入背景图片\nimport \"./style.css\";\n\n/**\n * jadeStream中的人工检查节点.\n *\n * @override\n */\nexport const manualCheckNodeState = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"manualCheckNodeState\";\n    self.text = \"人工检查\";\n    self.pointerEvents = \"auto\";\n    self.componentName = \"manualCheckComponent\";\n    self.flowMeta.triggerMode = \"manual\";\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return (\n            <Button\n                disabled={true}\n                className=\"jade-node-custom-header-icon\"\n            >\n                <ManualCheckIcon/>\n            </Button>\n        );\n    };\n\n    return self;\n};","import {Empty} from \"antd\";\n\n/**\n * 人工检查节点原始表单\n *\n * @returns {JSX.Element} 人工检查节点原始表单的Dom\n */\nexport default function OriginForm() {\n    return (<>\n        <Empty image={Empty.PRESENTED_IMAGE_DEFAULT}/>\n    </>);\n}","import OriginForm from \"./OriginForm.jsx\";\nimport \"./style.css\";\nimport {useDataContext, useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport {Collapse, Form} from \"antd\";\nimport {JadeStopPropagationSelect} from \"@/components/common/JadeStopPropagationSelect.jsx\";\nimport {JadeObservableTree} from \"@/components/common/JadeObservableTree.jsx\";\nimport {useEffect, useState} from \"react\";\nimport httpUtil from \"@/components/util/httpUtil.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 人工检查表单Wrapper\n *\n * @returns {JSX.Element} 人工检查表单Wrapper的DOM\n */\nexport default function ManualCheckFormWrapper() {\n    const shape = useShapeContext();\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const config = useShapeContext().graph.configs.find(node => node.node === \"manualCheckNodeState\");\n    const formName = data.inputParams.find(item => item.name === \"formName\").value;\n    const output = data.outputParams;\n    const [formOptions, setFormOptions] = useState([]);\n\n    useEffect(() => {\n        // 发起网络请求获取 options 数据\n        httpUtil.get(config.urls.runtimeFormUrl, {}, (jsonData) => setFormOptions(jsonData.data.map(item => {\n            return {\n                label: item.name,\n                value: `${item.appearance[0]?.name || ''}|${item.id}`\n            };\n        })))\n    }, []); // useEffect 依赖数组为空，表示只在组件挂载时执行一次\n\n    // 根据不同的值渲染不同的组件\n    const renderComponent = () => {\n        if (formName && formName.length > 0) {\n            return shape.graph.plugins[formName]().getReactComponents();\n        }\n        return <OriginForm/>;\n    };\n\n    const onChange = (e) => {\n        let formOutput = \"\";\n        let changeFormName = \"\";\n        let changeformId = \"\";\n        if (e && e.length > 0) {\n            const [name, id] = e.split('|'); // 拆分字符串\n            changeFormName = name + \"Component\";\n            changeformId = id;\n            try {\n                formOutput = shape.graph.plugins[changeFormName]().getJadeConfig();\n            } catch (error) {\n                console.error(\"Error getting JadeConfig:\", error);\n            }\n        }\n        dispatch({actionType: \"changeFormAndSetOutput\", formName: changeFormName, formId: changeformId, formOutput: formOutput});\n    };\n\n    const renderOutput = () => {\n        if (!output || !Array.isArray(output) || !output.length > 0) {\n            return null;\n        }\n        return <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"manualCheckOutputPanel\"]}>\n            {\n                <Panel\n                    key={\"manualCheckOutputPanel\"}\n                    header={\n                        <div className=\"panel-header\"\n                             style={{display: 'flex', alignItems: 'center', justifyContent: \"flex-start\"}}>\n                            <span className=\"jade-panel-header-font\">输出</span>\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                >\n                    <JadeObservableTree data={output}/>\n                </Panel>\n            }\n        </Collapse>;\n    };\n\n    return (\n        <div>\n            <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"manualCheckFormPanel\"]}>\n                {\n                    <Panel\n                        key={\"manualCheckFormPanel\"}\n                        header={\n                            <div className=\"panel-header\"\n                                 style={{display: 'flex', alignItems: 'center', justifyContent: \"flex-start\"}}>\n                                <span className=\"jade-panel-header-font\">表单</span>\n                            </div>\n                        }\n                        className=\"jade-panel\"\n                        style={{marginBottom: 8, borderRadius: \"8px\", width: \"100%\"}}\n                    >\n                        <Form\n                            name={`manualCheckForm-${shape.id}`}\n                            layout=\"vertical\" // 设置全局的垂直布局\n                            className={\"jade-form\"}\n                        >\n                            <Form.Item>\n                                <JadeStopPropagationSelect\n                                    allowClear\n                                    className=\"jade-select\"\n                                    defaultValue={formName}\n                                    style={{width: \"100%\", marginBottom: \"8px\"}}\n                                    onChange={e => onChange(e)}\n                                    options={formOptions}\n                                />\n                                {renderComponent()} {/* 渲染对应的组件 */}\n                            </Form.Item>\n                        </Form>\n                    </Panel>\n                }\n            </Collapse>\n            {renderOutput()}\n        </div>\n    );\n}","import {v4 as uuidv4} from \"uuid\";\nimport ManualCheckFormWrapper from \"@/components/manualCheck/ManualCheckFormWrapper.jsx\";\n\nexport const manualCheckComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            inputParams: [\n                {\n                    id: uuidv4(),\n                    name: \"formName\",\n                    type: \"String\",\n                    from: \"Input\",\n                    value: \"\"\n                },\n                {\n                    id: uuidv4(),\n                    name: \"formId\",\n                    type: \"String\",\n                    from: \"Input\",\n                    value: \"\"\n                }\n            ],\n            outputParams: []\n        };\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><ManualCheckComponent/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (data, action) => {\n        function changeFormAndSetOutput() {\n            return {\n                ...data,\n                inputParams: data.inputParams.map(item => {\n                    if (item.name === \"formName\") {\n                        return {\n                            ...item,\n                            value: action.formName\n                        }\n                    } else if (item.name === \"formId\") {\n                        return {\n                            ...item,\n                            value: action.formId\n                        }\n                    } else {\n                        return item;\n                    }\n                }),\n                outputParams: action.formOutput\n            }\n        }\n\n        switch (action.actionType) {\n            case 'changeFormAndSetOutput': {\n                return changeFormAndSetOutput();\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nconst ManualCheckComponent = () => {\n    return (<>\n        <ManualCheckFormWrapper/>\n    </>)\n};","import * as React from \"react\";\nconst SvgIconFitInvoke = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#6CBFFF\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M12 11.02C12 11.11 11.92 11.18 11.83 11.18L9.73 11.18L9.59 11.81L9.57 11.88C9.06 14.13 8.81 15.18 8.57 16.03C8.16 17.5 7.21 18.36 5.83 18.48C5.77 18.49 5.72 18.49 5.66 18.49C5.57 18.5 5.49 18.43 5.49 18.34L5.49 17.03C5.49 16.94 5.56 16.87 5.64 16.87C5.74 16.86 5.82 16.85 5.87 16.84C6.45 16.73 6.8 16.35 7 15.6C7.23 14.78 7.48 13.74 7.98 11.52L8 11.45L8.06 11.18L6.47 11.18C6.38 11.18 6.3 11.11 6.3 11.02L6.3 9.72C6.3 9.63 6.38 9.56 6.47 9.56L8.44 9.56C8.62 8.75 8.74 8.26 8.87 7.74C9.35 5.87 10.99 5.19 13.44 5.62C13.49 5.63 13.55 5.64 13.62 5.65C13.71 5.67 13.77 5.75 13.75 5.84L13.75 5.84L13.49 7.12C13.47 7.21 13.39 7.26 13.3 7.24C13.22 7.23 13.15 7.22 13.08 7.2C11.44 6.93 10.67 7.27 10.45 8.14C10.35 8.56 10.25 8.97 10.11 9.56L11.83 9.56C11.92 9.56 12 9.63 12 9.72L12 11.02ZM18.5 11.02C18.5 11.11 18.43 11.18 18.34 11.18L17.86 11.18L16.35 12.85L17.16 14.43L17.52 14.43C17.61 14.43 17.69 14.51 17.69 14.6L17.69 15.9C17.69 15.99 17.61 16.06 17.52 16.06L16.17 16.06L15.18 14.14L13.45 16.06L12.16 16.06C12.07 16.06 11.99 15.99 11.99 15.9L11.99 14.6C11.99 14.51 12.07 14.44 12.16 14.44L12.73 14.44L14.39 12.6L13.66 11.18L12.97 11.18C12.88 11.18 12.81 11.11 12.81 11.02L12.81 9.72C12.81 9.63 12.88 9.56 12.97 9.56L14.66 9.56L15.56 11.31L17.14 9.56L18.34 9.56C18.43 9.56 18.5 9.63 18.5 9.72L18.5 11.02Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" }));\nexport default SvgIconFitInvoke;\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport \"./style.css\";\nimport {Button} from \"antd\";\nimport ApiInvokeIcon from '../asserts/icon-fit-invoke.svg?react';\n\n/**\n * FIT调用节点shape\n *\n * @override\n */\nexport const fitInvokeNodeState = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"fitInvokeNodeState\";\n    self.width = 360;\n    self.backColor = 'white';\n    self.pointerEvents = \"auto\";\n    self.text = \"FIT调用\";\n    self.componentName = \"fitInvokeComponent\";\n    self.flowMeta.triggerMode = 'auto';\n    self.flowMeta.jober.type = 'GENERICABLE_JOBER';\n    const fitEntity = {\n        genericable: {\n            id: \"\",\n            params: []\n        }\n    };\n\n    /**\n     * @override\n     */\n    const serializerJadeConfig = self.serializerJadeConfig;\n    self.serializerJadeConfig = () => {\n        serializerJadeConfig.apply(self);\n        const fitableId = self.flowMeta\n                .jober\n                .converter\n                .entity\n                .fitable\n                .value\n                .find(item => item.name === 'id')\n                .value;\n        if (fitableId) {\n            self.flowMeta.jober.fitables = [fitableId];\n        }\n        fitEntity.genericable.params = self.flowMeta.jober.converter.entity.inputParams.map(property => {\n            return {name: property.name}\n        });\n        fitEntity.genericable.id = self.flowMeta\n                .jober\n                .converter\n                .entity\n                .genericable\n                .value\n                .find(item => item.name === 'id')\n                .value;\n        self.flowMeta.jober.entity = fitEntity;\n    };\n\n    self.getHeaderIcon = () => {\n        return (\n            <Button disabled={true} className=\"jade-node-custom-header-icon\">\n                <ApiInvokeIcon/>\n            </Button>\n        );\n    };\n\n    return self;\n}","import JadeCollapseInputTree from \"@/components/common/JadeCollapseInputTree.jsx\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\n\n/**\n * fit接口入参展示和入参赋值\n *\n * @returns {JSX.Element}\n */\nexport default function InvokeInput() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const inputData = data && data.inputParams;\n\n    /**\n     * 更新input\n     *\n     * @param id 需要更新的值的id\n     * @param changes 需要改变的属性\n     */\n    const updateItem = (id, changes) => {\n        dispatch({type: \"update\", id, changes});\n    };\n    return (<JadeCollapseInputTree data={inputData} updateItem={updateItem}/>);\n}","import React from \"react\";\nimport {useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport JadeScrollSelect from \"@/components/common/JadeScrollSelect.jsx\";\nimport {Form} from \"antd\";\n\n/**\n * 服务选择\n *\n * @returns {JSX.Element}\n */\nexport default function FitSelectGenericable() {\n    const dispatch = useDispatch();\n    const shape = useShapeContext();\n    const baseUrl = shape.graph.configs && shape.graph.configs.find(config => config.node === \"fitInvokeState\").urls.serviceListEndpoint;\n\n    /**\n     * 构造当前组件的url\n     *\n     * @param page 页码\n     * @return {string}\n     */\n    const buildUrl = (page) => {\n        return baseUrl + '?pageNum=' + page + '&pageSize=10';\n    }\n\n    /**\n     * 选中服务时触发的函数\n     *\n     * @param value 选中的服务的id\n     * @param options 接口返回的数据\n     */\n    const handleServiceChange = (value, options) => {\n        dispatch({type: \"selectGenericable\", value: value});\n    };\n\n    /**\n     * 获取服务组件的options\n     *\n     * @param options 选项\n     * @return {*}\n     */\n    const getOptions = options => options.map(option => ({\n        value: option,\n        label: option,\n    }));\n\n    return (\n        <Form.Item\n            name={`select-genericable-${shape.id}`}\n            label={<span style={{color: 'red'}}/>}\n            rules={[{required: true, message: '请选择一个服务'}]}\n            colon={false}\n        >\n            <JadeScrollSelect\n                className=\"jade-select-genericable\"\n                placeholder=\"请选择一个服务\"\n                onChange={handleServiceChange}\n                buildUrl={buildUrl}\n                disabled={false}\n                getOptions={getOptions}\n                dealResponse={(response) => response.data}\n            />\n        </Form.Item>\n    );\n};","import React from \"react\";\nimport {useDataContext, useDispatch, useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport JadeScrollSelect from \"@/components/common/JadeScrollSelect.jsx\";\nimport {Form} from \"antd\";\n\n/**\n * 工具选择\n *\n * @returns {JSX.Element}\n */\nexport default function FitSelectTool() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n    const shape = useShapeContext();\n\n    // 当前被选中的genericable，调接口需要用到这个数据\n    const selectGenericable = data && data.genericable.value.find(item => item.name === \"id\").value;\n    const baseUrl = shape.graph.configs.find(config => config.node === \"fitInvokeState\").urls.fitableMetaInfoUrl;\n    const selectDisabled = selectGenericable === '';\n\n    /**\n     * 构造当前组件的url\n     *\n     * @param page 页码\n     * @return {string}\n     */\n    const buildUrl = (page) => {\n        return baseUrl + selectGenericable + '?pageNum=' + page + '&' + 'pageSize=10';\n    }\n\n    /**\n     * 选中工具时触发的函数\n     *\n     * @param value 选中的工具名称\n     * @param options 接口返回的数据\n     */\n    const handleToolChange = (value, options) => {\n        dispatch({type: \"selectFitable\", value: options.find(option => option.name === value)});\n    };\n\n    /**\n     * 获取工具组件的options\n     *\n     * @param options 选项\n     * @return {*}\n     */\n    const getOptions = options => options.map(option => ({\n        value: option.name,\n        label: option.name,\n    }));\n\n    return (\n        <Form.Item\n            name={`select-fitable-${shape.id}`}\n            label={<span style={{color: 'red'}}/>}\n            rules={[{required: true, message: '请选择一个服务，再选择实现'}]}\n            colon={false}\n        >\n            <JadeScrollSelect\n                className=\"jade-select-tool\"\n                placeholder=\"请选择一个服务，再选择实现\"\n                onChange={handleToolChange}\n                buildUrl={buildUrl}\n                disabled={selectDisabled}\n                getOptions={getOptions}\n                dealResponse={(response) => response.data}\n            />\n        </Form.Item>\n    );\n};","import {Collapse} from \"antd\";\nimport React from \"react\";\nimport FitSelectGenericable from \"@/components/fitInvokeNode/FitSelectGenericable.jsx\";\nimport FitSelectTool from \"@/components/fitInvokeNode/FitSelectTool.jsx\";\n\nconst {Panel} = Collapse;\n/**\n * fit调用服务和实现选择\n *\n * @returns {JSX.Element}\n */\nexport default function FitInvokeService() {\n\n    return (\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\"\n                  defaultActiveKey={['FitInvokeService']}>\n            <Panel\n                className=\"jade-panel\"\n                header={<div style={{display: 'flex', alignItems: 'center'}}>\n                    <span className={'title'}>FIT服务</span>\n                </div>}\n                key='FitInvokeService'\n            >\n                <div style={{marginTop: \"8px\"}}><span className='select-genericable'>选择服务</span></div>\n                <FitSelectGenericable/>\n\n                <div style={{marginTop: \"8px\"}}><span className='select-fitable'>选择实现</span></div>\n                <FitSelectTool/>\n            </Panel>\n        </Collapse>\n    );\n};","import {JadeObservableTree} from \"@/components/common/JadeObservableTree.jsx\";\nimport {useDataContext} from \"@/components/DefaultRoot.jsx\";\nimport React from \"react\";\nimport {Collapse} from \"antd\";\n\nconst {Panel} = Collapse;\n/**\n * fit接口出参展示\n *\n * @returns {JSX.Element}\n */\nexport default function InvokeOutput() {\n    const data = useDataContext();\n    const outputData = data && data.outputParams;\n\n    return (<Collapse bordered={false} className=\"jade-collapse-custom-background-color\"\n                      defaultActiveKey={['InvokeOutput']}>\n        <Panel\n            className=\"jade-panel\"\n            header={<div style={{display: 'flex', alignItems: 'center'}}>\n                <span className='jade-panel-header-font'>输出</span>\n            </div>}\n            key='InvokeOutput'>\n            <JadeObservableTree data={outputData}/>\n        </Panel>\n    </Collapse>);\n}","import {v4 as uuidv4} from \"uuid\";\n\n/**\n * 将接口出参元数据信息转换成如下的格式\n *\n * {\n *                 id: \"output_\" + uuidv4(),\n *                 name: \"output\",\n *                 type: \"Object\",\n *                 value: [\n *                     {\n *                         id: uuidv4(),\n *                         name: \"age\",\n *                         type: \"Integer\",\n *                         value: \"Integer\"\n *                     },\n *                     {\n *                         id: uuidv4(),\n *                         name: \"height\",\n *                         type: \"Integer\",\n *                         value: \"Integer\"\n *\n *                     }]\n * }\n *\n * @param input 入参数据，格式如下：{\n *         \"type\": \"object\",\n *         \"properties\": {\n *             \"testStr\": {\n *                 \"type\": \"object\",\n *                 \"properties\": {\n *                     \"P3\": {\n *                         \"type\": \"object\",\n *                         \"properties\": {\n *                             \"P4\": {\n *                                 \"type\": \"string\"\n *                             }\n *                         }\n *                     }\n *                 }\n *             }\n *         }\n * }\n *\n * @return {{name: string, id: string, type: string, value: *[]}}\n */\nexport const convertReturnFormat = input => {\n    const processObjectProperty = (name, obj) => {\n        const result = [];\n        if (obj.type === \"object\") {\n            for (const prop in obj.properties) {\n                const property = obj.properties[prop];\n                if (property.type === \"object\") {\n                    result.push(...processObjectProperty(prop, property));\n                } else {\n                    result.push({\n                        id: uuidv4(),\n                        name: prop,\n                        type: property.type.capitalize(),\n                        value: property.type.capitalize()\n                    });\n                }\n            }\n        }\n        return [{\n            id: 'output_' + uuidv4(),\n            name: name,\n            type: \"Object\",\n            value: result\n        }];\n    };\n\n    const output = {\n        id: \"output_\" + uuidv4(),\n        name: \"output\",\n        type: \"\",\n        value: []\n    };\n\n    if (input.type === \"object\") {\n        output.type = \"Object\";\n        const isMap = input.hasOwnProperty(\"additionalProperties\") && input.additionalProperties.hasOwnProperty(\"type\");\n        if (isMap) {\n            return output;\n        }\n        const properties = input.properties;\n        for (const prop in properties) {\n            const property = properties[prop];\n            if (property.type === \"object\") {\n                output.value.push(...processObjectProperty(prop, property));\n            } else {\n                output.value.push({\n                    id: uuidv4(),\n                    name: prop,\n                    type: property.type.capitalize(),\n                    value: property.type.capitalize()\n                });\n            }\n        }\n    } else {\n        output.type = input.type.capitalize();\n    }\n\n    return output;\n};\n\n\n/**\n * 将接口入参元数据信息转换成如下的格式:\n * {\n *                     id: \"p1_\" + uuidv4(),\n *                     name: \"p1\",\n *                     type: \"String\",\n *                     from: \"Reference\",\n *                     referenceNode: \"\",\n *                     referenceId: \"\",\n *                     referenceKey: \"\",\n *                     value: []\n *                 }\n *\n * @param param 对象 {propertyName : \"p1\", property: {\n *                     \"type\": \"string\",\n *                     \"default\": \"default_value\"\n *                 }}\n * @return {{referenceNode: string, name, from: (string), id: string, type: (string|*), value: *[], referenceId: string, referenceKey: string}}\n */\nexport const convertParameter = param => {\n    const isMap = param.property.hasOwnProperty(\"additionalProperties\") && param.property.additionalProperties.hasOwnProperty(\"type\");\n    const result = {\n        id: param.propertyName + \"_\" + uuidv4(),\n        name: param.propertyName,\n        type: param.property.type === 'object' ? 'Object' : param.property.type.capitalize(),\n        // 对象默认展开，map直接为引用\n        from: param.property.type === 'object' ? (isMap ? 'Reference' : 'Expand') : 'Reference',\n        referenceNode: \"\",\n        referenceId: \"\",\n        referenceKey: \"\",\n        value: []\n    };\n    if (isMap) {\n        result.generic = \"Map\";\n    }\n\n    // 如果入参为map，则不进行属性展开\n    if (param.property.type === 'object' && !isMap) {\n        const properties = param.property.properties;\n        result.value = Object.keys(properties).map(key => {\n            return convertParameter({\n                propertyName: key,\n                property: properties[key]\n            });\n        });\n        result.props = [...result.value];\n    }\n    return result;\n};","import InvokeInput from \"@/components/common/InvokeInput.jsx\";\nimport InvokeOutput from \"@/components/common/InvokeOutput.jsx\";\n\n/**\n * 工具调用节点组件\n *\n * @param jadeConfig\n */\nexport const toolInvokeComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必填\n     *\n     * @return 组件信息\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            inputParams: [],\n            outputParams: []\n        };\n    };\n\n    /**\n     * 获取当前节点的所有组件\n     *\n     * @return {JSX.Element}\n     */\n    self.getReactComponents = () => {\n        return (<>\n            <InvokeInput/>\n            <InvokeOutput/>\n        </>);\n    };\n\n    /**\n     * @override\n     */\n    self.reducers = (config, action) => {\n        const _updateInput = (data, id, changes) => data.map(d => {\n            const newD = {...d};\n            if (d.id === id) {\n                changes.forEach(change => {\n                    newD[change.key] = change.value;\n                    // 当对象由展开变为引用时，需要把对象的value置空\n                    if (change.value === \"Reference\") {\n                        newD.value = [];\n                    }\n                });\n                return newD;\n            }\n            // 当处理的数据是对象，并且对象的from是Expand，则递归处理当前数据的属性\n            if (newD.from === \"Expand\") {\n                newD.value = _updateInput(newD.value, id, changes);\n            }\n\n            return newD;\n        });\n\n        let newConfig = {...config};\n        switch (action.type) {\n            case \"update\":\n                newConfig.inputParams = _updateInput(config.inputParams, action.id, action.changes);\n                return newConfig;\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n}","import InvokeInput from \"@/components/common/InvokeInput.jsx\";\nimport FitInvokeService from \"@/components/fitInvokeNode/FitInvokeService.jsx\";\nimport InvokeOutput from \"@/components/common/InvokeOutput.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\nimport {convertParameter, convertReturnFormat} from \"@/components/util/MethodMetaDataParser.js\";\nimport {toolInvokeComponent} from \"@/components/toolInvokeNode/toolInvokeComponent.jsx\";\n\n/**\n * FIT调用节点组件\n *\n * @param jadeConfig\n */\nexport const fitInvokeComponent = (jadeConfig) => {\n    const self = toolInvokeComponent(jadeConfig);\n\n    /**\n     * 必填\n     *\n     * @return 组件信息\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            inputParams: [],\n            genericable: {\n                id: \"genericable_\" + uuidv4(),\n                name: \"genericable\",\n                type: \"Object\",\n                from: \"Expand\",\n                // 保存当前选中的Genericable信息\n                value: [{id: uuidv4(), name: 'id', type: 'String', from: 'Input', value: ''}]\n            },\n            fitable: {\n                id: \"fitable_\" + uuidv4(),\n                name: \"fitable\",\n                type: \"Object\",\n                from: \"Expand\",\n                // 保存当前选中的fitable信息\n                value: [{id: uuidv4(), name: 'id', type: 'String', from: 'Input', value: ''}]\n            },\n            outputParams: []\n        };\n    };\n\n    /**\n     * 获取当前节点的所有组件\n     *\n     * @return {JSX.Element}\n     */\n    self.getReactComponents = () => {\n        return (<>\n            <InvokeInput/>\n            <FitInvokeService/>\n            <InvokeOutput/>\n        </>);\n    };\n\n    /**\n     * @override\n     */\n    const reducers = self.reducers;\n    self.reducers = (config, action) => {\n        const _selectGenericable = () => {\n            newConfig.genericable.value.find(item => item.name === \"id\").value = action.value;\n            // 切换服务选择后，把选则的fitable置空\n            newConfig.fitable.value.find(item => item.name === \"id\").value = '';\n        };\n\n        const _selectFitable = () => {\n            newConfig.fitable.value.find(item => item.name === \"id\").value = action.value.schema.parameters.fitableId;\n        };\n\n        const _generateOutput = () => {\n            const inputJson = action.value;\n            const newOutputParams = convertReturnFormat(inputJson.schema.return);\n            // 这里可能有问题 生成的不是数组，需要改为数组\n            newConfig.outputParams.push(newOutputParams);\n        }\n\n        const _generateInput = () => {\n            const inputJson = action.value;\n            const convertedParameters = Object.keys(inputJson.schema.parameters.properties).map(key => {\n                return convertParameter({\n                    propertyName: key,\n                    property: inputJson.schema.parameters.properties[key]\n                });\n            });\n            delete newConfig.inputParams;\n            newConfig.inputParams = convertedParameters;\n        };\n\n        let newConfig = {...config};\n        switch (action.type) {\n            // 通过json字符串生成jadeConfig的input对象\n            case 'generateInput':\n                _generateInput();\n                return newConfig;\n            case 'selectGenericable':\n                _selectGenericable();\n                return newConfig;\n            case 'selectFitable':\n                _selectFitable();\n                _generateInput();\n                _generateOutput();\n                return newConfig;\n        }\n        return reducers.apply(self, [config, action]);\n    };\n\n    return self;\n}","import * as React from \"react\";\nconst SvgIconApiInvoke = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip4_13318\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u56FE\\\\u6807/16/API \\\\u63A5\\\\u53E3\", width: 16, height: 16, transform: \"translate(4.000000 4.000000)\", fill: \"white\", fillOpacity: 0 }))), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#FA9941\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip4_13318)\" }, /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M16.33 11.33L15.33 12.33L11.66 8.66L12.66 7.66C13.16 7.16 14.99 6.33 16.33 7.66C17.66 9 16.83 10.83 16.33 11.33Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M15.33 12.33L11.66 8.66L12.66 7.66C13.16 7.16 14.99 6.33 16.33 7.66C17.66 9 16.83 10.83 16.33 11.33L15.33 12.33Z\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M16.68 7.99L16.68 8.02C16.48 8.21 16.17 8.21 15.98 8.02C15.78 7.82 15.78 7.51 15.98 7.31L16 7.31L16.68 7.99ZM17.64 5.67L17.64 5.64C17.84 5.44 18.15 5.44 18.35 5.64C18.55 5.84 18.55 6.15 18.35 6.35L18.32 6.35L17.64 5.67Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M16.33 7.66L18 5.99\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M7.66 12.66L8.66 11.66L12.33 15.33L11.33 16.33C10.83 16.83 9 17.66 7.66 16.33C6.33 15 7.16 13.16 7.66 12.66Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M8.66 11.66L12.33 15.33L11.33 16.33C10.83 16.83 9 17.66 7.66 16.33C6.33 15 7.16 13.16 7.66 12.66L8.66 11.66Z\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M12.01 14.99L12.01 15.02C11.82 15.21 11.51 15.21 11.31 15.02C11.11 14.82 11.11 14.51 11.31 14.31L11.34 14.31L12.01 14.99ZM12.64 13L12.64 12.97C12.84 12.78 13.15 12.78 13.35 12.97C13.55 13.17 13.55 13.48 13.35 13.68L13.32 13.68L12.64 13Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M11.66 14.66L12.99 13.33\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M6.35 18.32L6.35 18.35C6.15 18.55 5.84 18.55 5.64 18.35C5.44 18.15 5.44 17.84 5.64 17.64L5.67 17.64L6.35 18.32ZM7.31 16L7.31 15.97C7.51 15.78 7.82 15.78 8.02 15.97C8.21 16.17 8.21 16.48 8.02 16.68L7.99 16.68L7.31 16Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M6 18L7.66 16.33\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M9.68 12.65L9.68 12.68C9.48 12.88 9.17 12.88 8.98 12.68C8.78 12.48 8.78 12.17 8.98 11.97L9 11.97L9.68 12.65ZM10.31 10.67L10.31 10.64C10.51 10.44 10.82 10.44 11.02 10.64C11.21 10.84 11.21 11.15 11.02 11.35L10.99 11.35L10.31 10.67Z\", fill: \"#000000\", fillOpacity: 0, fillRule: \"nonzero\" }), /* @__PURE__ */ React.createElement(\"path\", { id: \"path\", d: \"M9.33 12.33L10.66 11\", stroke: \"#FFFFFF\", strokeOpacity: 1, strokeWidth: 1, strokeLinejoin: \"round\", strokeLinecap: \"round\" })));\nexport default SvgIconApiInvoke;\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport {Button} from \"antd\";\nimport ApiInvokeIcon from '../asserts/icon-api-invoke.svg?react';\nimport {convertParameter, convertReturnFormat} from \"@/components/util/MethodMetaDataParser.js\";\nimport {v4 as uuidv4} from \"uuid\";\n\n/**\n * 工具调用节点shape\n *\n * @override\n */\nexport const toolInvokeNodeState = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"toolInvokeNodeState\";\n    self.width = 360;\n    self.backColor = 'white';\n    self.pointerEvents = \"auto\";\n    self.text = \"工具调用\";\n    self.componentName = \"toolInvokeComponent\";\n    self.flowMeta.triggerMode = 'auto';\n    self.flowMeta.jober.type = 'STORE_JOBER';\n    const toolEntity = {\n        uniqueName: \"\",\n        params: [],\n        return: {\n            type: \"\"\n        }\n    };\n    const template = {\n        inputParams: [],\n        outputParams: []\n    };\n\n    /**\n     * @override\n     */\n    const serializerJadeConfig = self.serializerJadeConfig;\n    self.serializerJadeConfig = () => {\n        serializerJadeConfig.apply(self);\n        self.flowMeta.jober.entity.params = self.flowMeta.jober.converter.entity.inputParams.map(property => {\n            return {name: property.name}\n        });\n    };\n\n    /**\n     * @override\n     */\n    self.processMetaData = (metaData) => {\n        const _generateOutput = () => {\n            newConfig.outputParams.push(convertReturnFormat(metaData.schema.return));\n        }\n\n        const _generateInput = () => {\n            // 这里需要确认，返回的到底是什么数据类型，data是个数组还是对象\n            delete newConfig.inputParams;\n            newConfig.inputParams = Object.keys(metaData.schema.parameters.properties).map(key => {\n                return convertParameter({\n                    propertyName: key,\n                    property: metaData.schema.parameters.properties[key]\n                });\n            });\n        };\n\n        const newConfig = {...template};\n        _generateInput();\n        _generateOutput();\n        self.flowMeta.jober.converter.entity = newConfig;\n        self.flowMeta.jober.entity = toolEntity;\n        self.flowMeta.jober.entity.uniqueName = metaData.uniqueName;\n        self.flowMeta.jober.entity.return.type = metaData.schema.return.type;\n        self.drawer.unmountReact();\n        self.invalidateAlone();\n    }\n\n    self.getHeaderIcon = () => {\n        return (\n                <Button disabled={true} className=\"jade-node-custom-header-icon\">\n                    <ApiInvokeIcon/>\n                </Button>\n        );\n    };\n\n    return self;\n}","import * as React from \"react\";\nconst SvgIconCondition = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", ...props }, /* @__PURE__ */ React.createElement(\"desc\", null, \"\\n\t\t\tCreated with Pixso.\\n\t\"), /* @__PURE__ */ React.createElement(\"defs\", null), /* @__PURE__ */ React.createElement(\"rect\", { id: \"\\\\u753B\\\\u677F 856\", rx: 4, width: 24, height: 24, fill: \"#F3689A\", fillOpacity: 1 }), /* @__PURE__ */ React.createElement(\"path\", { id: \"if\", d: \"M17.34 9.15L14.45 9.15L14.5 8.77C14.56 8.26 14.7 7.89 14.92 7.65C15.15 7.41 15.51 7.29 16 7.29C16.11 7.29 16.43 7.3 16.97 7.33L17.52 7.36L17.79 5.58Q16.79 5.5 16.03 5.5Q14.47 5.5 13.61 6.27Q12.79 7.01 12.61 8.46L12.52 9.15L10.58 9.15L10.36 10.95L12.31 10.95L11.38 18.5L13.31 18.5L14.24 10.95L17.12 10.95L17.34 9.15ZM7.61 5.88L7.36 7.9L9.55 7.9L9.81 5.88L7.61 5.88ZM6.2 18.5L8.13 18.5L9.29 9.15L7.36 9.15L6.2 18.5Z\", fill: \"#FFFFFF\", fillOpacity: 1, fillRule: \"evenodd\" }));\nexport default SvgIconCondition;\n","import {jadeNode} from \"@/components/jadeNode.jsx\";\nimport ConditionIcon from '../asserts/icon-condition.svg?react'; // 导入背景图片\nimport {Button} from \"antd\";\nimport {DIRECTION} from \"@fit-elsa/elsa-core\";\n\n/**\n * jadeStream中的条件节点.\n *\n * @override\n */\nexport const conditionNodeCondition = (id, x, y, width, height, parent, drawer) => {\n    const self = jadeNode(id, x, y, width, height, parent, drawer);\n    self.type = \"conditionNodeCondition\";\n    self.text = \"条件\";\n    self.width = 600;\n    self.pointerEvents = \"auto\";\n    self.componentName = \"conditionComponent\";\n    delete self.flowMeta.jober;\n\n    /**\n     * 去除方向为E的连接点.\n     *\n     * @override\n     */\n    const initConnectors = self.initConnectors;\n    self.initConnectors = () => {\n        initConnectors.apply(self);\n        self.connectors.remove(c => c.direction.key === DIRECTION.E.key);\n    };\n\n    /**\n     * 获取用户自定义组件.\n     *\n     * @return {*}\n     */\n    self.getComponent = () => {\n        return self.graph.plugins[self.componentName](self.flowMeta.conditionParams);\n    };\n\n    /**\n     * @override\n     */\n    self.serializerJadeConfig = () => {\n        self.flowMeta.conditionParams = self.getLatestJadeConfig();\n    }\n\n    /**\n     * @override\n     */\n    self.getHeaderIcon = () => {\n        return (\n            <Button disabled={true} className=\"jade-node-custom-header-icon\">\n                <ConditionIcon/>\n            </Button>\n        );\n    };\n\n    return self;\n};","import {Button, Col, Collapse, Form, Input, InputNumber, Row, Switch} from 'antd';\nimport {MinusCircleOutlined, PlusOutlined} from \"@ant-design/icons\";\nimport {JadeStopPropagationSelect} from \"@/components/common/JadeStopPropagationSelect.jsx\";\nimport {JadeReferenceTreeSelect} from \"@/components/common/JadeReferenceTreeSelect.jsx\";\nimport \"./style.css\";\nimport {useFormContext} from \"@/components/DefaultRoot.jsx\";\n\nconst {Panel} = Collapse;\n\n/**\n * 判断条件表单。\n *\n * @returns {JSX.Element} 判断条件表单的DOM。\n */\nexport default function IfForm({branch, name, index, totalItemNum, deleteBranch, changeConditionRelation,\n                                   addCondition, deleteCondition, changeConditionConfig}) {\n    const form = useFormContext();\n\n    const unaryOperators = ['is empty', 'is not empty', 'is true', 'is false'];\n\n    const binaryOperators = ['equal', 'not equal', 'longer than', 'longer than or equal', 'shorter than', 'shorter than or equal', 'contain', 'not contain', 'greater than', 'greater than or equal', 'less than', 'less than or equal'];\n\n    const handleDeleteBranch = () => {\n        deleteBranch(branch.id);\n    };\n\n    const handleDeleteCondition = (conditionId) => {\n        deleteCondition(branch.id, conditionId);\n    };\n\n    const handleConditionRelationChange = (updatedConditionRelation) => {\n        changeConditionRelation(branch.id, updatedConditionRelation);\n    };\n\n    const handleConditionChange = (conditionId, value) => {\n        form.setFieldsValue({[`condition-${conditionId}`]: value});\n        changeConditionConfig(branch.id, conditionId, [{key: \"condition\", value: value}]);\n    };\n\n    const handleReferenceValueChange = (conditionId, itemId, v, t) => {\n        changeConditionConfig(branch.id, conditionId, [{key: itemId, value: [{key: \"referenceKey\", value: v}, {key: \"type\", value: t}]}]);\n    };\n\n    const handleReferenceKeyChange = (conditionId, itemId, e) => {\n        changeConditionConfig(branch.id, conditionId, [{key: itemId, value: [{key: \"referenceNode\", value: e.referenceNode},\n                {key: \"referenceId\", value: e.referenceId},\n                {key: \"value\", value: e.value}]}]);\n    };\n\n    const handleItemChange = (conditionId, itemId, changeParams) => {\n        changeConditionConfig(branch.id, conditionId, [{key: itemId, value: changeParams}]);\n    };\n\n    const getConditionOptionsByReferenceType = (referenceType) => {\n        switch (referenceType) {\n            case 'String':\n                return [\n                    {value: 'equal', label: 'equal'},\n                    {value: 'not equal', label: 'not equal'},\n                    // {value: 'longer than', label: 'longer than'},\n                    // {value: 'longer than or equal', label: 'longer than or equal'},\n                    // {value: 'shorter than', label: 'shorter than'},\n                    // {value: 'shorter than or equal', label: 'shorter than or equal'},\n                    // {value: 'contain', label: 'contain'},\n                    // {value: 'not contain', label: 'not contain'},\n                    {value: 'is empty', label: 'is empty'},\n                    {value: 'is not empty', label: 'is not empty'},\n                ];\n            case 'Boolean':\n                return [\n                    {value: 'equal', label: 'equal'},\n                    {value: 'not equal', label: 'not equal'},\n                    {value: 'is empty', label: 'is empty'},\n                    {value: 'is not empty', label: 'is not empty'},\n                    {value: 'is true', label: 'is true'},\n                    {value: 'is false', label: 'is false'},\n                ];\n            case 'Integer':\n            case 'Number':\n                return [\n                    {value: 'equal', label: 'equal'},\n                    {value: 'not equal', label: 'not equal'},\n                    {value: 'is empty', label: 'is empty'},\n                    {value: 'is not empty', label: 'is not empty'},\n                    {value: 'greater than', label: 'greater than'},\n                    {value: 'greater than or equal', label: 'greater than or equal'},\n                    {value: 'less than', label: 'less than'},\n                    {value: 'less than or equal', label: 'less than or equal'},\n                ];\n            case 'Array<String>':\n            case 'Array<Integer>':\n            case 'Array<Boolean>':\n            case 'Array<Number>':\n                return [\n                    // {value: 'longer than', label: 'longer than'},\n                    // {value: 'longer than or equal', label: 'longer than or equal'},\n                    // {value: 'shorter than', label: 'shorter than'},\n                    // {value: 'shorter than or equal', label: 'shorter than or equal'},\n                    // {value: 'contain', label: 'contain'},\n                    // {value: 'not contain', label: 'not contain'},\n                    {value: 'is empty', label: 'is empty'},\n                    {value: 'is not empty', label: 'is not empty'},\n                ];\n            default:\n                return [];\n        }\n    };\n\n    /**\n     * 根据总的组件数目渲染优先级样式\n     *\n     * @return {JSX.Element|null}\n     */\n    const renderPriority = () => {\n        if (totalItemNum > 2) {\n            return <div className={\"priority-tag\"}><div className={\"priority-inner-text jade-font-size\"}>Priority {index + 1}</div></div>\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * 根据总的组件数目渲染删除按钮\n     *\n     * @return {JSX.Element|null}\n     */\n    const renderDeleteIcon = () => {\n        if (totalItemNum > 2) {\n            return <Button type=\"text\" className=\"jade-panel-header-icon-position icon-button\"\n                           onClick={() => handleDeleteBranch()}>\n                <MinusCircleOutlined/>\n            </Button>\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * 若条件分支中条件数大于1，则需要渲染左侧图示，用于配置条件之间的关系 e.g. and/or\n     *\n     * @return {JSX.Element|null}\n     */\n    const renderLeftDiagram = () => {\n        return <div className={\"condition-left-diagram\"}>\n            <JadeStopPropagationSelect\n                id={`condition-left-select-${branch.id}`}\n                className=\"jade-select operation\"\n                placement=\"bottomLeft\"\n                popupClassName={\"condition-left-drop\"}\n                onChange={(value) => handleConditionRelationChange(value)}\n                options={[\n                    {value: 'and', label: 'And'},\n                    {value: 'or', label: 'Or'},\n                ]}\n                value={branch.conditionRelation}\n            />\n        </div>\n    };\n\n    const renderDeleteConditionIcon = (index, conditionId) => {\n        if (index > 0) {\n            return <Form.Item>\n                <Button type=\"text\" className=\"icon-button\"\n                        style={{height: \"100%\"}}\n                        onClick={() => handleDeleteCondition(conditionId)}>\n                    <MinusCircleOutlined/>\n                </Button>\n            </Form.Item>\n        }\n    };\n\n    // 根据 condition 设置 rules\n    const selectedRightSideValueRules = (condition, rule) => {\n        return unaryOperators.includes(condition) ? [{}] : (rule || [{ required: true, message: '字段值不能为空' }]);\n    };\n\n\n    // 根据不同的值渲染不同的组件\n    const renderRightSideValueComponent = (conditionId, item, referenceType, condition) => {\n        switch (item.from) {\n            case 'Reference':\n                return <>\n                    <JadeReferenceTreeSelect\n                        className=\"value-custom jade-select\"\n                        disabled={unaryOperators.includes(condition)}\n                        rules={selectedRightSideValueRules(condition)}\n                        reference={item}\n                        onReferencedValueChange={(v, t) => handleReferenceValueChange(conditionId, item.id, v, t)}\n                        onReferencedKeyChange={(e) => handleReferenceKeyChange(conditionId, item.id, e)}\n                    />\n                </>\n            case 'Input':\n                switch (referenceType) {\n                    case 'String':\n                    case 'Array<String>':\n                        return <Form.Item\n                            id={`value-${item.id}`}\n                            name={`value-${item.id}`}\n                            rules={selectedRightSideValueRules(condition)}\n                            initialValue={item.value}\n                        >\n                            <Input\n                                className=\"value-custom jade-input\"\n                                disabled={unaryOperators.includes(condition)}\n                                value={item.value}\n                                onChange={(e) => handleItemChange(conditionId, item.id, [{key: \"value\", value: e.target.value}])}\n                            />\n                        </Form.Item>;\n                    case 'Boolean':\n                    case 'Array<Boolean>':\n                        return <Form.Item\n                            id={`value-${item.id}`}\n                            name={`value-${item.id}`}\n                            initialValue={item.value}\n                            rules={selectedRightSideValueRules(condition)}\n                            style={{marginLeft: \"8px\"}}\n                        >\n                            <Switch disabled={unaryOperators.includes(condition)} onChange={(e) => handleItemChange(conditionId, item.id, [{key: \"value\", value: e}])} value={item.value} defaultChecked/>\n                        </Form.Item>;\n                    case 'Integer':\n                    case 'Number':\n                    case 'Array<Number>':\n                    case 'Array<Integer>':\n                        return <Form.Item\n                            id={`value-${item.id}`}\n                            name={`value-${item.id}`}\n                            rules={selectedRightSideValueRules(condition)}\n                            initialValue={item.value}\n                        >\n                            <InputNumber\n                                className=\"value-custom jade-input\"\n                                disabled={unaryOperators.includes(condition)}\n                                step={1}\n                                onChange={(e) => handleItemChange(conditionId, item.id, [{key: \"value\", value: e}])}\n                                stringMode\n                            />\n                        </Form.Item>;\n                    default:\n                        return <Form.Item\n                            id={`value-${item.id}`}\n                            name={`value-${item.id}`}\n                            rules={selectedRightSideValueRules(condition, [{required: true, message: \"字段值不能为空\"}, {\n                                pattern: /^[^\\s]*$/,\n                                message: \"禁止输入空格\"\n                            },])}\n                            initialValue={item.value}\n                        >\n                            <Input\n                                className=\"value-custom jade-input\"\n                                disabled={unaryOperators.includes(condition)}\n                                value={item.value}\n                                onChange={(e) => handleItemChange(conditionId, item.id, [{key: \"value\", value: e.target.value}])}\n                            />\n                        </Form.Item>;\n                }\n            default:\n                return <></>;\n        }\n    };\n\n    const onLeftReferenceTreeSelectReferencedValueChange = (condition, v, t) => {\n        const left = condition.value.find(item => item.name === \"left\");\n        if (left.type === t && left.referenceKey === v) {\n            // 若与原来一样，不必刷新\n            return;\n        }\n        handleReferenceValueChange(condition.id, condition.value.find(item => item.name === \"left\").id, v, t);\n        handleConditionChange(condition.id, null);\n        const rightValue = t === \"Boolean\" ? false : \"\";\n        if (condition.value.find(item => item.name === \"right\").from === \"Input\") {\n            form.setFieldsValue({[`value-${condition.value.find(item => item.name === \"right\").id}`]: rightValue})\n            handleItemChange(condition.id, condition.value.find(item => item.name === \"right\").id, [{\n                key: \"value\",\n                value: rightValue\n            }]);\n        }\n    };\n\n    const onRightFromSelectChange = (condition, value) => {\n        const rightValue = condition.value.find(item => item.name === \"left\").type === \"Boolean\" ? false : \"\";\n        form.setFieldsValue({[`value-${condition.value.find(item => item.name === \"right\").id}`]: rightValue})\n        handleItemChange(condition.id, condition.value.find(item => item.name === \"right\").id,\n            [\n                {key: \"from\", value: value},\n                {key: \"type\", value: condition.value.find(item => item.name === \"left\").type},\n                {key: \"value\", value: rightValue},\n                {key: \"referenceNode\", value: \"\"}, {key: \"referenceId\", value: \"\"}, {key: \"referenceKey\", value: \"\"}\n            ]);\n    };\n\n    const renderCondition = (condition, index) => {\n        return <Row gutter={16} key={\"row-\" + index} style={{marginBottom: \"6px\", marginRight: 0}}>\n            <Col span={6}>\n                <JadeReferenceTreeSelect\n                    className=\"jade-select\"\n                    rules={[{required: true, message: \"字段值不能为空\"}]}\n                    reference={condition.value.find(item => item.name === \"left\")}\n                    onReferencedValueChange={(v, t) => {onLeftReferenceTreeSelectReferencedValueChange(condition, v, t);}}\n                    onReferencedKeyChange={(e) => handleReferenceKeyChange(condition.id, condition.value.find(item => item.name === \"left\").id, e)}\n                />\n            </Col>\n            <Col span={6}>\n                <Form.Item\n                    name={`condition-${condition.id}`}\n                    rules={[{required: true, message: \"字段值不能为空\"}]}\n                    initialValue={condition.condition}\n                >\n                    <JadeStopPropagationSelect\n                        className=\"jade-select\"\n                        style={{width: \"100%\"}}\n                        placeholder=\"请选择条件\"\n                        options={getConditionOptionsByReferenceType(condition.value.find(item => item.name === \"left\").type)}\n                        value={condition.condition}\n                        onChange={(e) => handleConditionChange(condition.id, e)}\n                    />\n                </Form.Item>\n            </Col>\n            <Col span={4} style={{paddingRight: 0}}>\n                <Form.Item>\n                    <JadeStopPropagationSelect\n                        id={`from-select-${condition.id}`}\n                        disabled={unaryOperators.includes(condition.condition)}\n                        className=\"value-source-custom jade-select\"\n                        style={{width: \"100%\"}}\n                        onChange={(value) => onRightFromSelectChange(condition, value)}\n                        options={[\n                            {value: 'Reference', label: '引用'},\n                            {value: 'Input', label: '输入'},\n                        ]}\n                        value={condition.value.find(item => item.name === \"right\").from}\n                    />\n                </Form.Item>\n            </Col>\n            <Col span={7} style={{paddingLeft: 0}}>\n                {renderRightSideValueComponent(condition.id, condition.value.find(item => item.name === \"right\"), condition.value.find(item => item.name === \"left\").type, condition.condition)} {/* 渲染对应的组件 */}\n            </Col>\n            <Col span={1} style={{paddingLeft: 0}}>\n                {renderDeleteConditionIcon(index, condition.id)}\n            </Col>\n        </Row>\n    };\n\n    /**\n     * 渲染每个条件分支中的表格\n     *\n     * @return {JSX.Element|null}\n     */\n    const renderForm = () => {\n        return <div style={{ display: 'flex'}}>\n            {branch.conditions.length > 1 && renderLeftDiagram()}\n            <div\n                className={\"jade-form condition-right-component\"}\n            >\n                <Row gutter={16}>\n                    <Col span={6}>\n                        <Form.Item>\n                            <span className=\"jade-font-size jade-font-color\">变量</span>\n                        </Form.Item>\n                    </Col>\n                    <Col span={6}>\n                        <Form.Item>\n                            <span className=\"jade-font-size jade-font-color\">条件</span>\n                        </Form.Item>\n                    </Col>\n                    <Col span={12}>\n                        <Form.Item>\n                            <span className=\"jade-font-size jade-font-color\">比较对象</span>\n                        </Form.Item>\n                    </Col>\n                </Row>\n                {branch.conditions.map((condition, index) => renderCondition(condition, index))}\n                <Row gutter={16} style={{marginBottom: \"6px\", marginRight: 0}}>\n                    <Button type=\"link\" className=\"icon-button\" onClick={() => addCondition(branch.id)}\n                            style={{height: \"32px\", paddingLeft: \"8px\"}}>\n                        <PlusOutlined/>\n                        <span>添加条件</span>\n                    </Button>\n                </Row>\n            </div>\n        </div>\n    };\n\n    return (\n        <Collapse bordered={false} className=\"jade-collapse-custom-background-color\" defaultActiveKey={[\"ifPanel\"]}>\n            {\n                <Panel\n                    key={\"ifPanel\"}\n                    header={\n                        <div className=\"panel-header\">\n                            <span className=\"jade-panel-header-font\">{name}</span>\n                            {renderPriority()}\n                            {renderDeleteIcon()}\n                        </div>\n                    }\n                    className=\"jade-panel\"\n                >\n                    {renderForm()}\n                </Panel>\n            }\n        </Collapse>\n    );\n}","import {Collapse} from 'antd';\n\nconst {Panel} = Collapse;\n\n/**\n * 兜底条件表单。\n *\n * @returns {JSX.Element} 兜底条件表单的DOM。\n */\nexport default function ElseForm() {\n    return (\n        <Panel\n            key={\"elsePanel\"}\n            header={\n                <div className=\"panel-header\">\n                    <span className=\"jade-panel-header-font\">Else</span>\n                </div>\n            }\n            className=\"jade-panel\"\n        >\n        </Panel>\n    );\n}","import {useShapeContext} from \"@/components/DefaultRoot.jsx\";\nimport {useEffect, useRef} from \"react\";\nimport {connector, DIRECTION} from \"@fit-elsa/elsa-core\";\n\n/**\n * 连接点提供器.\n *\n * @param name 名称，用于区分不同的connector.\n * @param children 子组件.\n * @return {JSX.Element}\n * @constructor\n */\nexport const ConnectorProvider = ({name, children}) => {\n    const shape = useShapeContext();\n    const divRef = useRef();\n\n    // 初始化之后，创建connector.\n    useEffect(() => {\n        const getX = () => {\n            const dom = divRef.current;\n            const shapeDiv = shape.drawer.parent;\n            const rect = dom.getBoundingClientRect();\n            const shapeRect = shapeDiv.getBoundingClientRect();\n            return (rect.right - shapeRect.left) / shape.page.scaleX;\n        };\n\n        const getY = () => {\n            const dom = divRef.current;\n            const shapeDiv = shape.drawer.parent;\n            const rect = dom.getBoundingClientRect();\n            const shapeRect = shapeDiv.getBoundingClientRect();\n            return (rect.top - shapeRect.top + (rect.bottom - rect.top) / 2) / shape.page.scaleY;\n        };\n\n        const c = connector(shape, getX, getY, () => {\n                    return {\n                        cursor: \"crosshair\",\n                        key: name,\n                        color: \"white\",\n                        ax: \"x\",\n                        vector: 1,\n                        value: DIRECTION.E\n                    };\n                },\n                s => s.visible,\n                () => true,\n                () => true,\n                () => {},\n                () => false\n        );\n        c.type = \"dynamic\";\n        shape.activeConnector(c);\n        c.isSolid = true;\n        c.allowToLink = false;\n        c.allowFromLink = true;\n\n        return () => {\n            // 组件卸载时，删除connector.\n            shape.connectors = shape.connectors.filter(c => c.getDirection().key !== name);\n\n            // 组件卸载时，删除connector的同时，删除线.\n            deleteLine();\n        };\n    }, []);\n\n    const deleteLine = () => {\n        const lines = shape.page.shapes\n                .filter(s => s.fromShape === shape.id || s.toShape === shape.id)\n                .filter(l => l.definedFromConnector === name);\n        lines.forEach(l => l.remove());\n    };\n\n    return (<>\n        <div id={\"connector-provider-\" + shape.id} ref={divRef}>\n            {children}\n        </div>\n    </>);\n};","import IfForm from \"@/components/condition/IfForm.jsx\";\nimport ElseForm from \"@/components/condition/ElseForm.jsx\";\nimport {useDataContext, useDispatch} from \"@/components/DefaultRoot.jsx\";\nimport {Button} from \"antd\";\nimport {PlusOutlined} from \"@ant-design/icons\";\nimport {ConnectorProvider} from \"@/components/common/ConnectorProvider.jsx\";\n\n/**\n * 条件节点表单Wrapper\n *\n * @returns {JSX.Element} 条件节点表单Wrapper的DOM\n */\nexport default function ConditionFormWrapper() {\n    const dispatch = useDispatch();\n    const data = useDataContext();\n\n    const branches = data.branches;\n\n    const addBranch = () => {\n        dispatch({actionType: \"addBranch\"});\n    };\n\n    const deleteBranch = (branchId) => {\n        dispatch({actionType: \"deleteBranch\", branchId: branchId});\n    };\n\n    const changeConditionRelation = (branchId, conditionRelation) => {\n        dispatch({actionType: \"changeConditionRelation\", branchId: branchId, conditionRelation: conditionRelation});\n    };\n\n    const addCondition = (branchId) => {\n        dispatch({actionType: \"addCondition\", branchId: branchId});\n    };\n\n    const deleteCondition = (branchId, conditionId) => {\n        dispatch({actionType: \"deleteCondition\", branchId: branchId, conditionId: conditionId});\n    };\n\n    const changeConditionConfig = (branchId, conditionId, updateParams) => {\n        dispatch({actionType: \"changeConditionConfig\", branchId: branchId, conditionId: conditionId, updateParams: updateParams});\n    };\n\n    return (\n        <div>\n            <div style={{\n                display: \"flex\", alignItems: \"center\", marginBottom: \"8px\", paddingLeft: \"8px\", paddingRight: \"4px\"\n            }}>\n                <div className=\"jade-panel-header-font\">条件分支</div>\n                <Button type=\"link\" className=\"icon-button\" onClick={addBranch}\n                        style={{\"height\": \"32px\", marginLeft: \"auto\"}}>\n                    <PlusOutlined/>\n                    <span>添加分支</span>\n                </Button>\n            </div>\n            {branches.map((branch, index) => (\n                <ConnectorProvider key={\"dynamic-\" + index} name={\"dynamic-\" + index}>\n                    <IfForm key={branch.id} branch={branch} index = {index} name={index === 0 ? \"If\" : \"Else if\"}\n                            totalItemNum={branches.length + 1}\n                            deleteBranch={deleteBranch}\n                            changeConditionRelation={changeConditionRelation}\n                            addCondition={addCondition} deleteCondition={deleteCondition}\n                            changeConditionConfig={changeConditionConfig}/>\n                </ConnectorProvider>\n                    ))}\n            <ConnectorProvider name={`dynamic-${branches.length + 1}`}>\n                <ElseForm/>\n            </ConnectorProvider>\n        </div>\n    );\n}","import ConditionFormWrapper from \"@/components/condition/ConditionFormWrapper.jsx\";\nimport {v4 as uuidv4} from \"uuid\";\n\nexport const conditionComponent = (jadeConfig) => {\n    const self = {};\n\n    /**\n     * 必须.\n     */\n    self.getJadeConfig = () => {\n        return jadeConfig ? jadeConfig : {\n            branches: [\n                {\n                    id: uuidv4(),\n                    conditionRelation: \"and\",\n                    conditions: [\n                        {\n                            id: uuidv4(),\n                            condition: undefined,\n                            value: [\n                                {\n                                    id: uuidv4(),\n                                    name: \"left\",\n                                    type: \"\",\n                                    from: \"Reference\",\n                                    value: \"\",\n                                    referenceNode: \"\",\n                                    referenceId: \"\",\n                                    referenceKey: \"\"\n                                },\n                                {\n                                    id: uuidv4(),\n                                    name: \"right\",\n                                    type: \"\",\n                                    from: \"Reference\",\n                                    value: \"\",\n                                    referenceNode: \"\",\n                                    referenceId: \"\",\n                                    referenceKey: \"\"\n                                }\n                            ]\n                        },\n                    ]\n                }\n            ]\n        };\n    };\n\n    /**\n     * 必须.\n     */\n    self.getReactComponents = () => {\n        return (<><ConditionComponent/></>);\n    };\n\n    /**\n     * 必须.\n     */\n    self.reducers = (data, action) => {\n        // Functions to be used for updating the data\n        const changeConditionConfig = () => {\n            return new Data(data).updateBranch(action, branchUpdater => branchUpdater.updateCondition(action));\n        }\n\n        const deleteBranch = () => {\n            return new Data(data).deleteBranch(action.branchId);\n        }\n\n        const changeConditionRelation = () => {\n            return new Data(data).updateBranch(action, branchUpdater => branchUpdater.changeConditionRelation(action.conditionRelation));\n        }\n\n        const addCondition = () => {\n            const newCondition = {\n                id: uuidv4(),\n                condition: undefined,\n                value: [\n                    { id: uuidv4(), name: \"left\", type: \"\", from: \"Reference\", value: [], referenceNode: \"\" },\n                    { id: uuidv4(), name: \"right\", type: \"\", from: \"Reference\", value: [], referenceNode: \"\" }\n                ]\n            };\n            return new Data(data).updateBranch(action, branchUpdater => branchUpdater.addCondition(newCondition));\n        }\n\n        const deleteCondition = () => {\n            return new Data(data).updateBranch(action, branchUpdater => branchUpdater.deleteCondition(action.conditionId));\n        }\n\n        const addBranch = () => {\n            return new Data(data).addBranch();\n        }\n\n        switch (action.actionType) {\n            case 'addBranch': {\n                return addBranch();\n            }\n            case 'deleteBranch': {\n                return deleteBranch();\n            }\n            case 'changeConditionRelation': {\n                return changeConditionRelation();\n            }\n            case 'addCondition': {\n                return addCondition();\n            }\n            case 'deleteCondition': {\n                return deleteCondition();\n            }\n            case 'changeConditionConfig': {\n                return changeConditionConfig();\n            }\n            default: {\n                throw Error('Unknown action: ' + action.type);\n            }\n        }\n    };\n\n    return self;\n};\n\nclass Condition {\n    constructor(condition) {\n        this.condition = { ...condition };\n    }\n\n    updateValue(item) {\n        this.condition.value = this.condition.value.map(conditionValue => {\n            if (item.key === conditionValue.id) {\n                return {\n                    ...conditionValue,\n                    ...Object.fromEntries(item.value.map(itemValue => [itemValue.key, itemValue.value]))\n                };\n            }\n            return conditionValue;\n        });\n    }\n\n    update(updateParams) {\n        updateParams.forEach(item => {\n            if (item.key === \"condition\") {\n                this.condition[item.key] = item.value;\n            } else {\n                this.updateValue(item);\n            }\n        });\n        return this.condition;\n    }\n}\n\nclass Branch {\n    constructor(branch) {\n        this.branch = { ...branch };\n    }\n\n    static createNewBranch() {\n        return {\n            id: uuidv4(),\n            conditionRelation: \"and\",\n            conditions: [\n                {\n                    id: uuidv4(),\n                    condition: \"\",\n                    value: [\n                        {\n                            id: uuidv4(),\n                            name: \"left\",\n                            type: \"\",\n                            from: \"Reference\",\n                            value: [],\n                            referenceNode: \"\"\n                        },\n                        {\n                            id: uuidv4(),\n                            name: \"right\",\n                            type: \"\",\n                            from: \"Reference\",\n                            value: [],\n                            referenceNode: \"\"\n                        }\n                    ]\n                }\n            ]\n        };\n    }\n\n    updateCondition(action) {\n        this.branch.conditions = this.branch.conditions.map(condition => {\n            if (condition.id === action.conditionId) {\n                return new Condition(condition).update(action.updateParams);\n            }\n            return condition;\n        });\n        return this.branch;\n    }\n\n    deleteCondition(conditionId) {\n        this.branch.conditions = this.branch.conditions.filter(condition => condition.id !== conditionId);\n        return this.branch;\n    }\n\n    addCondition(newCondition) {\n        this.branch.conditions.push(newCondition);\n        return this.branch;\n    }\n\n    changeConditionRelation(conditionRelation) {\n        this.branch.conditionRelation = conditionRelation;\n        return this.branch;\n    }\n}\n\nclass Data {\n    constructor(data) {\n        this.data = { ...data };\n    }\n\n    updateBranch(action, updateBranchFn) {\n        this.data.branches = this.data.branches.map(branch => {\n            if (branch.id === action.branchId) {\n                return updateBranchFn(new Branch(branch));\n            }\n            return branch;\n        });\n        return this.data;\n    }\n\n    deleteBranch(branchId) {\n        this.data.branches = this.data.branches.filter(branch => branch.id !== branchId);\n        return this.data;\n    }\n\n    addBranch() {\n        const newBranch = Branch.createNewBranch();\n        this.data.branches.push(newBranch);\n        return this.data;\n    }\n}\n\nconst ConditionComponent = () => {\n    return (<>\n        <ConditionFormWrapper/>\n    </>)\n};","import {defaultGraph} from \"@fit-elsa/elsa-core\";\nimport {jadeFlowPage} from \"@/flow/jadeFlowPage.js\";\nimport {jadeEvent} from \"@/components/jadeEvent.jsx\";\nimport {taskNode} from \"@/components/testDemo/taskNode.jsx\";\nimport {endNodeEnd} from \"@/components/end/endNodeEnd.jsx\";\nimport {endComponent} from \"@/components/end/endComponent.jsx\";\nimport {retrievalNodeState} from \"@/components/retrieval/retrievalNodeState.jsx\";\nimport {retrievalComponent} from \"@/components/retrieval/retrievalComponent.jsx\";\nimport {listener1Node} from \"@/components/listenerDemo/listener1Node.jsx\";\nimport {listener1Component} from \"@/components/listenerDemo/listener1Component.jsx\";\nimport {listener2Node} from \"@/components/listenerDemo/listener2Node.jsx\";\nimport {listener2Component} from \"@/components/listenerDemo/listener2Component.jsx\";\nimport {listener3Node} from \"@/components/listenerDemo/listener3Node.jsx\";\nimport {listener3Component} from \"@/components/listenerDemo/listener3Component.jsx\";\nimport {jadeInputTreeNode} from \"@/components/listenerDemo/jadeInputTreeNode.jsx\";\nimport {jadeInputTreeComponent} from \"@/components/listenerDemo/jadeInputTreeComponent.jsx\";\nimport {testNode} from \"@/components/replaceDemo/testNode.jsx\";\nimport {testComponent} from \"@/components/replaceDemo/testComponent.jsx\";\nimport {replaceComponent} from \"@/components/replaceDemo/replaceComponent.jsx\";\nimport {startNodeStart} from \"@/components/start/startNodeStart.jsx\";\nimport {startComponent} from \"@/components/start/startComponent.jsx\";\nimport {llmNodeState} from \"@/components/llm/llmNodeState.jsx\";\nimport {llmComponent} from \"@/components/llm/llmComponent.jsx\";\nimport {manualCheckNodeState} from \"@/components/manualCheck/manualCheckNodeState.jsx\";\nimport {manualCheckComponent} from \"@/components/manualCheck/manualCheckComponent.jsx\";\nimport {fitInvokeNodeState} from \"@/components/fitInvokeNode/fitInvokeNodeState.jsx\";\nimport {fitInvokeComponent} from \"@/components/fitInvokeNode/fitInvokeComponent.jsx\";\nimport {toolInvokeComponent} from \"@/components/toolInvokeNode/toolInvokeComponent.jsx\";\nimport {toolInvokeNodeState} from \"@/components/toolInvokeNode/toolInvokeNodeState.jsx\";\nimport {conditionNodeCondition} from \"@/components/condition/conditionNodeCondition.jsx\";\nimport {conditionComponent} from \"@/components/condition/conditionComponent.jsx\";\n\n/**\n * jadeFlow的专用画布.\n *\n * @param div dom元素.\n * @param title 名称.\n */\nexport const jadeFlowGraph = (div, title) => {\n    const self = defaultGraph(div, title);\n    self.type = \"jadeFlowGraph\";\n    self.pageType = \"jadeFlowPage\";\n    self.enableText = false;\n    self.flowMeta = {\n        \"exceptionFitables\": [\"com.huawei.fit.jober.aipp.fitable.AippFlowExceptionHandler\"]\n    };\n    self.setting.borderColor = \"#047bfc\";\n    self.setting.focusBorderColor = \"#047bfc\";\n    self.setting.mouseInBorderColor = \"#047bfc\";\n\n    /**\n     * 序列化新增flowMeta字段.\n     *\n     * @override\n     */\n    const serialize = self.serialize;\n    self.serialize = () => {\n        const serialized = serialize.apply(self);\n        serialized.flowMeta = self.flowMeta;\n        return serialized;\n    };\n\n    /**\n     * 导入flow相关依赖.\n     *\n     * @override\n     */\n    const initialize = self.initialize;\n    self.initialize = async () => {\n        self.registerPlugin(\"jadeFlowPage\", jadeFlowPage);\n        self.registerPlugin(\"jadeEvent\", jadeEvent);\n        self.registerPlugin(\"taskNode\", taskNode);\n        self.registerPlugin(\"endNodeEnd\", endNodeEnd);\n        self.registerPlugin(\"endComponent\", endComponent);\n        self.registerPlugin(\"retrievalNodeState\", retrievalNodeState);\n        self.registerPlugin(\"retrievalComponent\", retrievalComponent);\n        self.registerPlugin(\"listener1Node\", listener1Node);\n        self.registerPlugin(\"listener1Component\", listener1Component);\n        self.registerPlugin(\"listener2Node\", listener2Node);\n        self.registerPlugin(\"listener2Component\", listener2Component);\n        self.registerPlugin(\"listener3Node\", listener3Node);\n        self.registerPlugin(\"listener3Component\", listener3Component);\n        self.registerPlugin(\"jadeInputTreeNode\", jadeInputTreeNode);\n        self.registerPlugin(\"jadeInputTreeComponent\", jadeInputTreeComponent);\n        self.registerPlugin(\"testNode\", testNode);\n        self.registerPlugin(\"testComponent\", testComponent);\n        self.registerPlugin(\"replaceComponent\", replaceComponent);\n        self.registerPlugin(\"startNodeStart\", startNodeStart);\n        self.registerPlugin(\"startComponent\", startComponent);\n        self.registerPlugin(\"llmNodeState\", llmNodeState);\n        self.registerPlugin(\"llmComponent\", llmComponent);\n        self.registerPlugin(\"manualCheckNodeState\", manualCheckNodeState);\n        self.registerPlugin(\"manualCheckComponent\", manualCheckComponent);\n        self.registerPlugin(\"fitInvokeNodeState\", fitInvokeNodeState);\n        self.registerPlugin(\"toolInvokeNodeState\", toolInvokeNodeState);\n        self.registerPlugin(\"fitInvokeComponent\", fitInvokeComponent);\n        self.registerPlugin(\"toolInvokeComponent\", toolInvokeComponent);\n        self.registerPlugin(\"conditionNodeCondition\", conditionNodeCondition);\n        self.registerPlugin(\"conditionComponent\", conditionComponent);\n        return initialize.apply(self);\n    };\n\n    /**\n     * 注册plugin.\n     *\n     * @param pluginName 插件名称.\n     * @param plugin 组件.\n     * @param namespace 命名空间.\n     */\n    self.registerPlugin = (pluginName, plugin, namespace = null) => {\n        if (namespace) {\n            self.plugins[`${namespace}.${pluginName}`] = plugin;\n        } else {\n            self.plugins[pluginName] = plugin;\n        }\n    };\n\n    /**\n     * 数据发生变化时触发.\n     *\n     * @param data 数据.\n     * @param dirtyAction 数据变化的action.\n     */\n    const dirtied = self.dirtied;\n    self.dirtied = (data, dirtyAction) => {\n        dirtied.call(self, data, dirtyAction);\n        self.onChangeCallback && self.onChangeCallback();\n    };\n\n    return self;\n};","import {jadeFlowGraph} from \"./jadeFlowGraph.js\";\n\n/**\n * react流程代码，对外暴露接口，以便对流程进行操作以及获取数据.\n */\nconst jadeFlowAgent = (graph) => {\n    const self = {};\n    self.graph = graph;\n\n    /**\n     * 添加图形.\n     *\n     * @param shapeType 图形类型.\n     * @param properties 初始化属性.\n     */\n    self.want = (shapeType, properties) => {\n        graph.activePage.want(shapeType, properties);\n    };\n\n    /**\n     * 导入用户自定义组件.\n     *\n     * @param importStatement import语句.\n     * @return {*}\n     */\n    self.import = (importStatement) => {\n        return self.graph.staticImport(importStatement);\n    };\n\n    /**\n     * 序列化数据.\n     *\n     * @returns {*} 流程的全量序列化数据.\n     */\n    self.serialize = () => {\n        graph.activePage.serialize();\n        return graph.serialize();\n    };\n\n    /**\n     * 获取可创建的节点列表.\n     */\n    self.getAvailableNodes = () => {\n        return [\n            {type: \"retrievalNodeState\", name: \"数据检索\"},\n            {type: \"llmNodeState\", name: \"大模型\"},\n            {type: \"manualCheckNodeState\", name: \"人工检查\"},\n            {type: \"fitInvokeNodeState\", name: \"FIT调用\"}\n        ];\n    };\n\n    /**\n     * 创建节点.\n     *\n     * @param type 节点类型.\n     * @param e 鼠标事件.\n     * @param metaData 元数据\n     */\n    self.createNode = (type, e, metaData) => {\n        console.log(\"call createNode...\");\n        const position = graph.activePage.calculatePosition(e);\n        const shape = graph.activePage.createNew(type, position.x, position.y);\n        shape.processMetaData(metaData);\n    };\n\n    /**\n     * 创建节点.\n     *\n     * @param type 节点类型.\n     * @param position 坐标.\n     * @param metaData 元数据\n     */\n    self.createNodeByPosition = (type, position, metaData) => {\n        console.log(\"call createNodeByPosition...\");\n        const shape = graph.activePage.createNew(type, position.x, position.y);\n        shape.processMetaData(metaData);\n    };\n\n    /**\n     * 画布发生变化时触发.\n     *\n     * @param callback 回调函数.\n     */\n    self.onChange = (callback) => {\n        graph.onChangeCallback = callback;\n    };\n\n    /**\n     * 获取所有节点的配置数据.\n     * 返回格式: {\n     *     \"nodeId\": [] // 这里的数组是每个节点的配置数据.\n     * }\n     *\n     * @return {*} 返回配置数据.\n     */\n    self.getNodeConfigs = () => {\n        return graph.activePage.shapes.filter(s => s.isTypeof(\"jadeNode\")).map(s => {\n            return {\n                [s.id]: s.getLatestJadeConfig()\n            };\n        });\n    };\n\n    /**\n     * 校验所有节点数据是否合法.\n     *\n     * @return Promise 校验结果\n     */\n    self.validate = async () => {\n        const nodes = graph.activePage.shapes.filter(s => s.isTypeof(\"jadeNode\"));\n        const validationPromises = nodes.map(s => s.validate().catch(error => error));\n        const results = await Promise.all(validationPromises);\n        // 获取所有校验失败的信息\n        const errors = results.filter(result => result.errorFields);\n        if (errors.length > 0) {\n            return Promise.reject(errors);\n        }\n        // 可选：.then()中可以获取校验的所有节点信息 Promise.resolve(results.filter(result => !errors.includes(result)))\n        return Promise.resolve();\n    };\n\n    return self;\n};\n\n/**\n * Aipp流程对外接口.\n */\nexport const JadeFlow = (() => {\n    const self = {};\n\n    /**\n     * 新建流程.\n     *\n     * @param div 待渲染的dom元素.\n     * @param configs 传入的其他参数列表.\n     */\n    self.new = async (div, configs) => {\n        const g = jadeFlowGraph(div, \"jadeFlow\");\n        g.configs = configs;\n        g.collaboration.mute = true;\n        await g.initialize();\n        const page = g.addPage(\"newFlowPage\");\n\n        // 新建的默认创建出start、end和一个连线\n        const start = page.createShape(\"startNodeStart\", 100, 100);\n        const end = page.createShape(\"endNodeEnd\", start.x + start.width + 200, 100);\n        const jadeEvent = page.createNew(\"jadeEvent\", 0, 0);\n        page.reset();\n\n        // reset完成之后进行connect操作.\n        jadeEvent.connect(start.id, \"E\", end.id, \"W\");\n\n        page.fillScreen();\n        return jadeFlowAgent(g);\n    };\n\n    /**\n     * 编辑流程.\n     *\n     * @param div 待渲染的dom元素.\n     * @param flowConfigData 流程元数据.\n     * @param configs 传入的其他参数列表.\n     * @param importStatements 传入的需要加载的语句.\n     */\n    self.edit = async (div, flowConfigData, configs, importStatements = []) => {\n        const g = jadeFlowGraph(div, \"jadeFlow\");\n        g.configs = configs;\n        g.collaboration.mute = true;\n        for (let i = 0; i < importStatements.length; i++) {\n            await g.dynamicImportStatement(importStatements[i]);\n        }\n        await g.initialize();\n        // todo 不需要重新添加页面\n        // g.addPage(\"newFlowPage\");\n        g.deSerialize(flowConfigData);\n        const pageData = g.getPageData(0);\n        await g.edit(0, div, pageData.id);\n        return jadeFlowAgent(g);\n    };\n\n    return self;\n})();"],"names":["jadeFlowPage","div","graph","name","id","self","page","ObservableStore","onLoaded","s","onCopy","shapes","copiableShapes","nodeId","observableId","value","type","parentId","observer","clear","initJadeId","uuid","createNew","shapeType","x","y","properties","parent","ignoreLimit","data","shapeCreationHandler","v","shape","handler","jadeNodes","textArray","text","separator","index","lastSeparatorIndex","last","observableMap","getOrCreate","observable","observe","o","map","key","supplier","jadeEvent","width","height","drawer","line","LINEMODE","getIndex","initConnectors","toRelease","position","fromShape","fromShapeConnector","isConnectorPairUsed","toShape","deltaX","deltaY","from","afterMoving","remove","source","removed","fromShapeId","fromConnector","toShapeId","toShapeConnector","isPointInRect","connectingShape","c","f","require$$0","k","l","m","n","p","q","a","g","b","d","e","h","reactJsxRuntime_production_min","React","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","MAYBE_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","ReactSharedInternals","error","format","_len2","args","_key2","printWarning","level","ReactDebugCurrentFrame","stack","argsWithFormat","item","enableScopeAPI","enableCacheElement","enableTransitionTracing","enableLegacyHidden","enableDebugTracing","REACT_MODULE_REFERENCE","isValidElementType","getWrappedName","outerType","innerType","wrapperName","displayName","functionName","getContextName","getComponentNameFromType","context","provider","outerName","lazyComponent","payload","init","assign","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","disableLogs","props","reenableLogs","ReactCurrentDispatcher","prefix","describeBuiltInComponentFrame","ownerFn","match","reentry","componentFrameCache","PossiblyWeakMap","describeNativeComponentFrame","fn","construct","frame","control","previousPrepareStackTrace","previousDispatcher","Fake","sample","sampleLines","controlLines","_frame","syntheticFrame","describeFunctionComponentFrame","shouldConstruct","Component","prototype","describeUnknownElementTypeFrameInDEV","hasOwnProperty","loggedTypeFailures","setCurrentlyValidatingElement","element","owner","checkPropTypes","typeSpecs","values","location","componentName","has","typeSpecName","error$1","err","ex","isArrayImpl","isArray","typeName","hasToStringTag","willCoercionThrow","testStringCoercion","checkKeyStringCoercion","ReactCurrentOwner","RESERVED_PROPS","specialPropKeyWarningShown","specialPropRefWarningShown","didWarnAboutStringRefs","hasValidRef","config","getter","hasValidKey","warnIfStringRefCannotBeAutoConverted","defineKeyPropWarningGetter","warnAboutAccessingKey","defineRefPropWarningGetter","warnAboutAccessingRef","ReactElement","ref","jsxDEV","maybeKey","propName","defaultProps","ReactCurrentOwner$1","ReactDebugCurrentFrame$1","setCurrentlyValidatingElement$1","propTypesMisspellWarningShown","isValidElement","object","getDeclarationErrorAddendum","getSourceInfoErrorAddendum","fileName","lineNumber","ownerHasKeyUseWarning","getCurrentComponentErrorInfo","parentType","info","parentName","validateExplicitKey","currentComponentErrorInfo","childOwner","validateChildKeys","node","i","child","iteratorFn","iterator","step","validatePropTypes","propTypes","_name","validateFragmentProps","fragment","keys","jsxWithValidation","isStaticChildren","validType","sourceInfo","typeString","children","jsxWithValidationStatic","jsxWithValidationDynamic","jsx","jsxs","reactJsxRuntime_development","jsxRuntimeModule","require$$1","client","Header","edit","setEdit","useState","inputRef","useRef","endNodeCount","setEndNodeCount","useEffect","onInputBlur","onMenuClick","t","getTitle","Form","Input","showMenus","menus","Fragment","Dropdown","Button","DataContext","createContext","ShapeContext","DispatchContext","FormContext","DefaultRoot","component","dispatch","useReducer","form","useDataContext","useContext","useShapeContext","useDispatch","useFormContext","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","arr","offset","randomUUID","native","v4","options","buf","rnds","jadeNode","jadeNodeDrawer","observed","DIRECTION","connector","allLines","formerNodesInfo","visitedShapes","explorePreShapesRecursive","currentShapeId","currentShape","connectedLines","lineRemoved","CopyPasteHelpers","serialize","property","preValue","updateCopiedNodeIds","entity","uuidv4","preNodeInfos","preNodeIdSet","observerProxy","ObserverProxy","nextNodes","getNextNodes","lines","resolve","reject","unSelect","rectangleDrawer","initialize","metaData","ReactDOM","drawBorder","beforeRemove","prevHeight","entries","TaskList","tasks","Task","task","isEditing","setIsEditing","taskContent","AddTask","setText","nextId","IconContext","Context","_extends","target","_arrayWithHoles","_iterableToArrayLimit","r","u","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","minLen","arrayLikeToArray","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_typeof","toPrimitive","toPropertyKey","_defineProperty","obj","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","objectWithoutPropertiesLoose","sourceSymbolKeys","hasOwn","classNames","classes","arg","appendClass","parseValue","newClass","module","bound01","max","isOnePointZero","isPercent","isPercentage","boundAlpha","convertToPercentage","pad2","rgbToRgb","hue2rgb","hslToRgb","rgbToHsv","min","hsvToRgb","mod","rgbToHex","allow3Char","hex","convertHexToDecimal","parseIntFromHex","val","names","inputToRGB","color","rgb","ok","stringInputToObject","isValidCSSUnit","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","matchers","named","hueStep","saturationStep","saturationStep2","brightnessStep1","brightnessStep2","lightColorCount","darkColorCount","darkColorMap","toHsv","_ref","hsv","toHex","_ref2","mix","rgb1","rgb2","amount","getHue","light","hue","getSaturation","saturation","getValue","generate","opts","patterns","pColor","colorString","_i","_hsv","_colorString","_ref3","opacity","darkColorString","presetPrimaryColors","presetPalettes","presetDarkPalettes","blue","ownKeys","_objectSpread2","defineProperty","canUseDom","contains","root","APPEND_ORDER","APPEND_PRIORITY","MARK_KEY","containerCache","getMark","mark","getContainer","option","head","getOrder","prepend","findStyles","container","injectCSS","css","csp","_option$priority","priority","mergedOrder","isPrependQueue","styleNode","firstChild","existStyle","nodePriority","findExistNode","syncRealContainer","cachedRealContainer","placeholderStyle","parentNode","updateCSS","originOption","styles","_objectSpread","existNode","_option$csp","_option$csp2","_option$csp3","newNode","getRoot","ele","_ele$getRootNode","inShadow","getShadowRoot","warned","preWarningFns","preMessage","warning","valid","message","finalMessage","msg","preMessageFn","note","resetWarned","call","method","warningOnce","noteOnce","camelCase","input","warn","isIconDefinition","normalizeAttrs","attrs","acc","rootProps","getSecondaryColor","primaryColor","generateColor","normalizeTwoToneColors","twoToneColor","iconStyles","useInsertStyles","eleRef","_useContext","prefixCls","mergedStyleStr","shadowRoot","_excluded","twoToneColorPalette","setTwoToneColors","secondaryColor","getTwoToneColors","IconBase","icon","className","onClick","style","restProps","svgRef","colors","ReactIcon","setTwoToneColor","_normalizeTwoToneColo","_normalizeTwoToneColo2","getTwoToneColor","Icon","spin","rotate","tabIndex","_React$useContext","_React$useContext$pre","rootClassName","classString","iconTabIndex","svgStyle","AntdIcon","CloudSyncOutlined","CloudSyncOutlinedSvg","RefIcon","CloudSyncOutlined$1","DeleteOutlined","DeleteOutlinedSvg","DeleteOutlined$1","InfoCircleOutlined","InfoCircleOutlinedSvg","InfoCircleOutlined$1","MinusCircleOutlined","MinusCircleOutlinedSvg","MinusCircleOutlined$1","PlusOutlined","PlusOutlinedSvg","PlusOutlined$1","taskNode","action","SvgIconEnd","EndNodeHeader","endNodeEnd","getToolMenus","EndIcon","created","JadeReferenceTreeSelect","reference","onReferencedValueChange","onReferencedKeyChange","rules","rest","stopObserve","treeData","setTreeData","combinedClassName","onChange","selected","treeMap","treeNode","buildValue","_onReferenceValueChange","ans","onDropdownVisibleChange","simpleTree","TreeSelect","OutputVariableRow","handleItemChange","inputName","_onReferencedValueChange","_onReferencedKeyChange","editOutputVariable","renderByType","Row","Col","Select","changes","Panel","Collapse","OutputVariable","initData","tips","Popover","EndNodeWrapper","endComponent","jadeConfig","_editOutputVariable","inputParams","newConfig","change","SvgIconRetrieval","JadeStopPropagationSelect","onMouseDown","_onMouseDown","InputForm","currentData","editInput","renderComponent","KnowledgeConfig","maxRecallsTip","defaultRecalls","Slider","createInstance","headers","instance","axios","response","httpRequest","url","callback","errorCallback","get","post","put","del","httpUtil","JadeScrollSelect","setOptions","loading","setLoading","setPage","buildUrl","getOptions","disabled","dealResponse","handleDropdown","open","handlePopupScroll","curPage","handleOnChange","KnowledgeForm","getKnowledge","baseUrl","getButtonDisable","addItem","handleKnowledgeChange","handleKnowledgeClear","handleDelete","itemId","event","JadeObservableTree","buildNode","traverseTree","nodes","nodeData","displayTitle","Tree","OutputForm","outputData","retrievalNodeState","RetrievalIcon","retrievalComponent","_editInput","newQuery","_addKnowledge","getKnowledgeValue","_deleteKnowledge","knowledgeValue","indexToDelete","_editKnowledge","knowledgeId","knowledgeName","_changeMaximum","newTask","_clearKnowledge","listener1Node","JadeObservableInput","onBlur","_onChange","_onBlur","listener1Component","onNameChange","listener2Node","listener2Component","listener3Node","listener3Component","jadeInputTreeNode","w","z","A","reactIs_production_min","hasSymbol","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","typeOf","$$typeof","$$typeofType","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","reactIs_development","reactIsModule","getOwnPropertySymbols","propIsEnumerable","toObject","shouldUseNative","test1","test2","order2","test3","letter","objectAssign","to","symbols","ReactPropTypesSecret","ReactPropTypesSecret_1","getStack","checkPropTypes_1","ReactIs","require$$2","require$$3","require$$4","emptyFunctionThatReturnsNull","factoryWithTypeCheckers","throwOnDirectAccess","ITERATOR_SYMBOL","ANONYMOUS","ReactPropTypes","createPrimitiveTypeChecker","createAnyTypeChecker","createArrayOfTypeChecker","createElementTypeChecker","createElementTypeTypeChecker","createInstanceTypeChecker","createNodeChecker","createObjectOfTypeChecker","createEnumTypeChecker","createUnionTypeChecker","createShapeTypeChecker","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","expectedTypes","checkerResult","expectedTypesMessage","isNode","invalidValidatorError","shapeTypes","allKeys","entry","isSymbol","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","getShim","propTypesModule","convert","JadeInputTree","PropTypes","INPUT_WIDTH","LEVEL_DISTANCE","updateItem","onInputChange","onReferenceValueChange","onReferenceKeyChange","getValueInput","inputWidth","JadeInputTreeSelect","ConfigProvider","JadeCollapseInputTree","jadeInputTreeComponent","update","newD","testNode","testComponent","TestComponent","TestChildComponent","replaceComponent","ReplaceComponent","SvgIconStart","startNodeStart","StartIcon","Name","disableModifiable","Type","handleSelectClick","handleChange","TextArea","Description","StartInputForm","formId","handleFormValueChange","ByConversationTurn","onValueChange","intValue","ByNumber","floatValue","ByTokenSize","integerValue","InputNumber","ByTime","filterOption","Customizing","fitableOptions","setFitableOptions","jsonData","Memory","memoryTypeValue","memoryValueValue","handleComponentValueChange","valueType","newValue","memoryValueType","memoryValue","StartFormWrapper","items","openItems","setOpenItems","newItemId","renderAddInputIcon","configObject","_b","_a","configItem","renderDeleteIcon","updatedOpenItems","content","startComponent","StartComponent","addInputParam","changeInputParam","inputItem","changeMemory","memoryItem","deleteInputParam","SvgIconLlm","llmNodeState","LlmIcon","ModelForm","shapeId","modelOptions","model","temperature","prompt","promptContent","formatter","userTyping","onInputNumberBlur","onTextareaBlur","JadeInput","deleteItem","handleAdd","handleReferenceValueChange","handleReferenceKeyChange","LlmOutput","outputItems","SkillForm","toolOptions","workflowOptions","tool","workflow","handleClick","handleSkillChange","LlmFormWrapper","setModelOptions","setToolOptions","setWorkflowOptions","initItems","llmComponent","LlmComponent","newData","promptItem","addOutputParam","changeInputParams","updatedInputItem","changePrompt","changeOutputParam","outputItem","changeConfig","changeSkillConfig","SvgIconManualCheck","manualCheckNodeState","ManualCheckIcon","OriginForm","Empty","ManualCheckFormWrapper","formName","output","formOptions","setFormOptions","formOutput","changeFormName","changeformId","renderOutput","manualCheckComponent","ManualCheckComponent","changeFormAndSetOutput","SvgIconFitInvoke","fitInvokeNodeState","fitEntity","serializerJadeConfig","fitableId","ApiInvokeIcon","InvokeInput","inputData","FitSelectGenericable","handleServiceChange","FitSelectTool","selectGenericable","selectDisabled","handleToolChange","FitInvokeService","InvokeOutput","convertReturnFormat","processObjectProperty","result","prop","convertParameter","param","isMap","toolInvokeComponent","_updateInput","fitInvokeComponent","reducers","_selectGenericable","_selectFitable","_generateOutput","inputJson","newOutputParams","_generateInput","convertedParameters","SvgIconApiInvoke","toolInvokeNodeState","toolEntity","template","SvgIconCondition","conditionNodeCondition","ConditionIcon","IfForm","branch","totalItemNum","deleteBranch","changeConditionRelation","addCondition","deleteCondition","changeConditionConfig","unaryOperators","handleDeleteBranch","handleDeleteCondition","conditionId","handleConditionRelationChange","updatedConditionRelation","handleConditionChange","changeParams","getConditionOptionsByReferenceType","referenceType","renderPriority","renderLeftDiagram","renderDeleteConditionIcon","selectedRightSideValueRules","condition","rule","renderRightSideValueComponent","Switch","onLeftReferenceTreeSelectReferencedValueChange","left","rightValue","onRightFromSelectChange","renderCondition","renderForm","ElseForm","ConnectorProvider","divRef","dom","shapeDiv","rect","shapeRect","deleteLine","ConditionFormWrapper","branches","addBranch","branchId","conditionRelation","updateParams","conditionComponent","ConditionComponent","Data","branchUpdater","newCondition","Condition","conditionValue","itemValue","Branch","updateBranchFn","newBranch","jadeFlowGraph","title","defaultGraph","serialized","pluginName","plugin","namespace","dirtied","dirtyAction","jadeFlowAgent","importStatement","validationPromises","errors","JadeFlow","configs","start","end","flowConfigData","importStatements","pageData"],"mappings":"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","x_google_ignoreList":[2,3,4,5,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,84,85,86,87,88,89,90,91,92,93]}