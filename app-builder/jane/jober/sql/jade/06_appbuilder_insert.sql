-- 任务模板
INSERT INTO "public"."task_template" ("id", "name", "description", "tenant_id") VALUES ('4f91b69973d1453aadf384d508aed894', '普通任务', '最基础的默认模板', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."task_template" ("id", "name", "description", "tenant_id") VALUES ('00000000000000000000000000000000', 'empty', 'empty', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;


INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('08f8fc32484d408aacbcff35bf8be687', '4f91b69973d1453aadf384d508aed894', 'id', 'TEXT', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('abb064f84f36496bb769321b1f3443c9', '4f91b69973d1453aadf384d508aed894', 'decomposed_from', 'TEXT', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('be686a0325694aadb688539f7523f88a', '4f91b69973d1453aadf384d508aed894', 'title', 'TEXT', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('59e0d16c3fe541899778beb76e56b0e3', '4f91b69973d1453aadf384d508aed894', 'owner', 'TEXT', 4) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('e2af84d4a8714ce8a87be79d19a5eb88', '4f91b69973d1453aadf384d508aed894', 'created_by', 'TEXT', 5) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('4aebbf316cf443d791e0280f56f435d6', '4f91b69973d1453aadf384d508aed894', 'created_date', 'DATETIME', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('387c16ae70ac49f68f670f54e4456fc8', '4f91b69973d1453aadf384d508aed894', 'modified_by', 'TEXT', 6) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('354944b0e9234429aabfbafb08059c2e', '4f91b69973d1453aadf384d508aed894', 'modified_date', 'DATETIME', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('c41b4da4013e484ead6fc8b03192dee2', '4f91b69973d1453aadf384d508aed894', 'status', 'TEXT', 7) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('34a33a519dd64dc5aa4b3c98c70a5989', '4f91b69973d1453aadf384d508aed894', 'target_url', 'TEXT', 8) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('456bc8b7b9754708828c68221af977c9', '4f91b69973d1453aadf384d508aed894', 'progress_feedback', 'TEXT', 9) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('d8e5fad3feed41fe8400bd2f35048abe', '4f91b69973d1453aadf384d508aed894', 'risk', 'TEXT', 10) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('e8cf80fdb51a4d4e9c9a9c660714efc7', '4f91b69973d1453aadf384d508aed894', 'priority', 'TEXT', 11) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('819adccd6214437fadec3936b297007b', '4f91b69973d1453aadf384d508aed894', 'finish_time', 'DATETIME', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('aac65de27f014c3895228fdb5d32573e', '4f91b69973d1453aadf384d508aed894', 'tag', 'TEXT', 12) ON CONFLICT (id) DO NOTHING;

-- app模板（模板数据需要修改?）
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state", "app_built_type", "app_category", "path") VALUES ('df87073b9bc85a48a9b01eccc9afccc4', 'i18n_appBuilder_{llm_application_template}', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5d', '9997f1555b41452b924d1a8b2229bde3', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is llm description", "icon": "http://ab", "greeting": "hello", "app_type": "i18n_appBuilder_{interview_assistant}"}', 'inactive', 'basic',  'chatbot', NULL) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state", "app_built_type", "app_category", "path") VALUES ('df87073b9bc85a48a9b01eccc9afccc5', 'i18n_appBuilder_{llm_application_template}', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5f', '9997f1555b41452b924d1a8b2229bde5', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is llm description", "icon": "http://ab", "greeting": "hello", "app_type": "i18n_appBuilder_{interview_assistant}"}', 'inactive', 'workflow', 'chatbot', NULL) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state", "app_built_type", "app_category", "path") VALUES ('df87073b9bc85a48a9b01eccc9afccc3', 'i18n_appBuilder_{waterflow_template}', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5e', '9997f1555b41452b924d1a8b2229bde4', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is tool description"}', 'inactive', 'workflow', 'chatbot', NULL) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id",
                                        "flow_graph_id", "tenant_id", "type", "version", "attributes", "state",
                                        "app_built_type", "app_category", "path")
VALUES ('3a617d8aeb1d41a9ad7453f2f0f70d61', 'i18n_appBuilder_{xiaohai}', 'modelengine.jade', '2024-05-17 20:03:15.794',
        'modelengine.jade', '2024-05-24 19:16:25.843', '31087fb069034824958791eb49757a0e',
        'd14e513cadb84847b62e9d67b7d47a02', '31f20efc7e0848deab6a6bc10fc3021e', 'app', '1.0.0',
        '{"icon": "/api/jober/v1/api/31f20efc7e0848deab6a6bc10fc3021e/file?filePath=/var/share/xiaohai.png&fileName=xiaohai.png", "name": "i18n_appBuilder_{xiaohai}", "app_type": "i18n_appBuilder_{decision_analysis}", "greeting": "i18n_appBuilder_{xiaohai_greeting}", "description": "i18n_appBuilder_{xiaohai_description}"}',
        'active', 'workflow', 'chatbot', 'Q7r8S9t0U1V2w3X4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id",
                                        "flow_graph_id", "tenant_id", "type", "version", "attributes", "state",
                                        "app_built_type", "app_category", "path")
VALUES ('4a1d6b117b7d4c8f8c5b6c3358608c9c', '创建应用', 'modelengine.jade', '2024-05-24 18:49:42.516',
        'modelengine.jade', '2024-05-24 19:15:53.08', 'af1528b4d4de4d9ebbaf2cc2c8703ac2',
        '3bb39bed81f44549b84d20cc6e3b530b', '31f20efc7e0848deab6a6bc10fc3021e', 'waterFlow', '1.0.0',
        '{"icon": null, "app_type": null, "greeting": null, "store_id": "c04cee50-13e4-499b-a008-077459a2e552", "description": "根据用户问题智能生成应用配置信息，并自动创建应用，支持创建助手、数字人、智能体、机器人等。"}',
        'active', 'basic', 'workflow', 'Y5z6A7B8c9D0e1F2') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5d', 'b8986770a6ffef44bbf2a9f26d6fc1bc', '847907b5da7ea644abe159a913dba403', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5f', 'b8986770a6ffef44bbf2a9f26d6fc1be', '847907b5da7ea644abe159a913dba405', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5e', 'b8986770a6ffef44bbf2a9f26d6fc1bd', '847907b5da7ea644abe159a913dba404', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at",
                                           "update_by", "update_at")
VALUES ('af1528b4d4de4d9ebbaf2cc2c8703ac2', '3ec9ead2ad5a478e82241af9e521f201', '4a1d6b117b7d4c8f8c5b6c3358608c9c',
        '31f20efc7e0848deab6a6bc10fc3021e', 'modelengine.jade', '2024-05-24 18:49:42.516', 'modelengine.jade',
        '2024-05-24 19:15:53.08') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at",
                                           "update_by", "update_at")
VALUES ('31087fb069034824958791eb49757a0e', 'b729973429074ae784c9a699afb66d21', '3a617d8aeb1d41a9ad7453f2f0f70d61',
        '31f20efc7e0848deab6a6bc10fc3021e', 'modelengine.jade', '2024-05-17 20:03:15.794', 'modelengine.jade',
        '2024-05-24 19:16:25.843') ON CONFLICT (id) DO NOTHING;

-- basic
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('836f722491b476478dea2135d7f1d113', 'jadewdnjbq', 'd9fcb95f48d33648a4e12d629399d713', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2045fe16f5fe854d884b2f272100d68d', 'jadewdnjbq', '6269e12e4a908b4ba0d455c402ce8c3d', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedbb9c4d', 'jade6qm5eg', '9b3a72544963c64e806dc07d6fff5207', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2e48b8ccc78be34abdc18876eb649a6a', 'jadewdnjbq', '4df1cc408fb08b46842861dbfa3cb2ae', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('dcdd0ee7dbb76b478bfe5686ee557441', 'jadewdnjbq', 'b01af303ce27a544a45a3a9491aeb03e', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedff534d', NULL, '9b3a72544963c64e806dc07d6fff5208', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('5c7c8c088dfa2a4dac24f2b289726b78', 'jade0pg2ag', '46b39a9533bbb247a38e976d4af41eb0', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536b', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23504', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536c', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23512', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536d', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23506', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;

-- workflow
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d5363', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23526', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2045fe16f5fe854d884b2f272100d68e', 'jadewdnjbq', '6269e12e4a908b4ba0d455c402ce8c3e', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedbb9c4e', 'jade6qm5eg', '9b3a72544963c64e806dc07d6fff5209', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('5c7c8c088dfa2a4dac24f2b289726b79', 'jade0pg2ag', '46b39a9533bbb247a38e976d4af41eb1', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3073f4896620fb488d9fd3349ee23556', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41e34', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d5327', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41eb6', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3073f4896620fb488d9fd3349ee23508', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41eb7', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3073f4896620fb488d9fd3349ee23509', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41eb8', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('02c45dc213464a8bbf963047b726951b', 'jadewdnjbq', '371c57e777f34798b4b73e358277bd11', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('b54018bd4f444a578c4fd98585e55a38', 'jadewdnjbq', '81c1d2aa93df449a830714e84857928d', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('e1ea9dc8e0e54b9fb993697336962a14', 'jade6qm5eg', '8118705c5f894cdbb48ce1403283d8d7', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('ae484387a9014d29a9c4a3b6469892ef', 'jadewdnjbq', 'd9a3ac7b10684b1f8d5959af1715712f', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('c2e5b7e35f6345e7a3867eb416e277d6', 'jadewdnjbq', '8d370e3bb9304ef79e46d41e8ef55dda', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('1728ee9834c34a4892f84e1794a86bc8', NULL, '1221f6eebc6d48f68cbbc567d991ed47', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3f8f5f4b86a14312a2c161df2cbcbfb5', 'jade0pg2ag', '1051c017ab464b3882228183a1eb2575', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('d40d679480ae4fcfbd5e97da777c31e3', 'jadewdnjbq', '567911ab6f77492e99f99b8bd5c2b248', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at", "update_by", "update_at", "form_suite_id", "version") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1bc', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', '5bdd730775ae40a395d3a4b560fb3b21', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at", "update_by", "update_at", "form_suite_id", "version") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1be', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', 'f842408ca75b4d1082f758e72a5d2541', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at", "update_by", "update_at", "form_suite_id", "version") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1bd', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', 'bd9077218cd749ecb3d99e286618c6a3', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('dc92ba4fb47f4b13b4b8113aa5cfd99c', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component',
        'modelengine.jade', '2024-05-24 18:29:55.572', 'modelengine.jade', '2024-05-24 18:29:55.572',
        '129d165f0daf4ce0a48288ca7b78bf85', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('df4ac19ba0bf437694cd3eb4011bf23c', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component',
        'modelengine.jade', '2024-05-24 18:29:52.043', 'modelengine.jade', '2024-05-24 18:40:48.545',
        '25f298afcf724718a27b07fd8a32f2ae', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('3ec9ead2ad5a478e82241af9e521f201', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component',
        'modelengine.jade', '2024-05-24 18:49:42.516', 'modelengine.jade', '2024-05-24 18:49:42.516',
        '3a88c5ced50044d5a1c1a7645fd5f1f7', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('b729973429074ae784c9a699afb66d21', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component',
        'modelengine.jade', '2024-05-17 20:03:15.794', 'modelengine.jade', '2024-05-24 19:16:25.843',
        '2cf1aa8ecb904b8ea53ce7823f9a0c4d', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('3008365cd517e2468874ebef04807d16', '小魔方问题澄清', '31f20efc7e0848deab6a6bc10fc3021e',
        '{"name": "questionClar", "type": "file"}', 'runtime', 'modelengine.jade', '2024-07-03 11:01:05.021',
        'modelengine.jade', '2024-07-03 11:01:05.021', 'da7c0c6a75634c22859a52e9a9386650',
        '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('516892f04231084ba6b2da145dd229cb', '小魔方问题溯源', '31f20efc7e0848deab6a6bc10fc3021e',
        '{"name": "conditionForm", "type": "file"}', 'runtime', 'modelengine.jade', '2024-07-03 11:02:05.022',
        'modelengine.jade', '2024-07-03 11:02:05.022', 'ff5e7a9e480c42538a2ea337b2fb2988',
        '1.0.0') ON CONFLICT (id) DO NOTHING;

-- basic
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('d9fcb95f48d33648a4e12d629399d713', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'basic', 'String', 'null', 'none', 'null', 'i18n_appBuilder_{form_property_basic}', 0, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('6269e12e4a908b4ba0d455c402ce8c3d', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'ability', 'String', 'null', 'none', 'basic', 'i18n_appBuilder_{form_property_ability}', 1, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('9b3a72544963c64e806dc07d6fff5207', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'model', 'List<String>', '["jadewdnjbq"]', 'graph', 'ability', 'i18n_appBuilder_{form_property_model}', 2, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('4df1cc408fb08b46842861dbfa3cb2ae', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'tools', 'List<List<String>>', '[["jadewdnjbq", "tools"],["jadewdnjbq", "workflows"]]', 'graph', 'ability', 'i18n_appBuilder_{form_property_tools}', 3, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('b01af303ce27a544a45a3a9491aeb03e', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'knowledge', 'List<String>', '["jade0pg2ag","knowledgeRepos"]', 'graph', 'ability', 'i18n_appBuilder_{form_property_knowledge}', 4, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('9b3a72544963c64e806dc07d6fff5208', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'chat', 'String', 'null', 'none', 'basic', 'i18n_appBuilder_{form_property_chat}', 5, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23504', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'opening', 'String', '"i18n_appBuilder_{form_property_opening_content}"', 'input', 'chat', 'i18n_appBuilder_{form_property_opening}', 6, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb0', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'memory', 'List<String>', '["jade6qm5eg", "memory"]', 'graph', 'chat', 'i18n_appBuilder_{form_property_memory}', 7, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23506', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'recommend', 'object', '{"showRecommend":false, "list":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_recommend}', 8, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23512', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_inspiration}', 9, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;

-- workflow
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23526', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'workflow', 'String', 'null', 'none', 'null', 'i18n_appBuilder_{form_property_workflow}', 0, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('6269e12e4a908b4ba0d455c402ce8c3e', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'ability', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_ability}', 1, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb6', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'enterWorkflow', 'String', 'null', 'none', 'ability', 'i18n_appBuilder_{form_property_enterWorkflow}', 2, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('9b3a72544963c64e806dc07d6fff5209', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'chat', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_chat}', 3, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41e34', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'opening', 'String', '"i18n_appBuilder_{form_property_opening_content}"', 'input', 'chat', 'i18n_appBuilder_{form_property_opening}', 4, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb1', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'memory', 'List<String>', '["jade6qm5eg", "memory"]', 'graph', 'chat', 'i18n_appBuilder_{form_property_memory}', 5, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb8', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'recommend', 'object', '{"showRecommend":false, "list":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_recommend}', 6, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb7', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_inspiration}', 7, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;

-- 小海
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('567911ab6f77492e99f99b8bd5c2b248', 'b729973429074ae784c9a699afb66d21', 'workflow', 'String', 'null', 'none', 'null', 'i18n_appBuilder_{form_property_workflow}', 0, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('81c1d2aa93df449a830714e84857928d', 'b729973429074ae784c9a699afb66d21', 'ability', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_ability}', 1, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('371c57e777f34798b4b73e358277bd11', 'b729973429074ae784c9a699afb66d21', 'enterWorkflow', 'String', 'null', 'none', 'ability', 'i18n_appBuilder_{form_property_enterWorkflow}', 2, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('d9a3ac7b10684b1f8d5959af1715712f', 'b729973429074ae784c9a699afb66d21', 'chat', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_chat}', 3, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('1051c017ab464b3882228183a1eb2575', 'b729973429074ae784c9a699afb66d21', 'opening', 'String', '"i18n_appBuilder_{xiaohai_greeting}"', 'input', 'chat', 'i18n_appBuilder_{form_property_opening}', 4, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('8118705c5f894cdbb48ce1403283d8d7', 'b729973429074ae784c9a699afb66d21', 'memory', 'List<String>', '["jade6qm5eg", "memory"]', 'graph', 'chat', 'i18n_appBuilder_{form_property_memory}', 5, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('8d370e3bb9304ef79e46d41e8ef55dda', 'b729973429074ae784c9a699afb66d21', 'recommend', 'object', '{"showRecommend":false, "list":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_recommend}', 6, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('1221f6eebc6d48f68cbbc567d991ed47', 'b729973429074ae784c9a699afb66d21', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[{"id":"psewkm","title":"i18n_appBuilder_{data_storage}","children":[],"parent":"root:psewkm"}]}],"inspirations":[{"name":"i18n_appBuilder_{create_app}","description":"i18n_appBuilder_{create_app}","prompt":"i18n_appBuilder_{create_app_prompt}","promptVarData":[],"category":"root:psewkm","id":"01t2vz"}]}', 'input', 'chat', 'i18n_appBuilder_{form_property_inspiration}', 7, '3a617d8aeb1d41a9ad7453f2f0f70d61') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('0a63fd81309a41389107b06fe7a07623', 'df4ac19ba0bf437694cd3eb4011bf23c', 'workflow', 'String', 'null', 'none', 'null', 'i18n_appBuilder_{form_property_workflow}', 0) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('9813a18f395e4319830cb93d99db25d6', 'df4ac19ba0bf437694cd3eb4011bf23c', 'ability', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_ability}', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('ff550e312f834f3f98689a0469d64302', 'df4ac19ba0bf437694cd3eb4011bf23c', 'enterWorkflow', 'String', 'null', 'none', 'ability', 'i18n_appBuilder_{form_property_enterWorkflow}', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('2f504207abaf4ad4a3196c8d5e22b76b', 'df4ac19ba0bf437694cd3eb4011bf23c', 'chat', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_chat}', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('647276ba3b8845db887928658ec00b9c', 'df4ac19ba0bf437694cd3eb4011bf23c', 'opening', 'String', '"i18n_appBuilder_{form_property_opening_content}"', 'input', 'chat', 'i18n_appBuilder_{form_property_opening}', 4) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('5734350a031649fb9f7aaaaa17ebc090', 'df4ac19ba0bf437694cd3eb4011bf23c', 'memory', 'List<String>', '["jade6qm5eg", "memory"]', 'graph', 'chat', 'i18n_appBuilder_{form_property_memory}', 5) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('ef87e0eebe624db39c30f0e77ed4af22', 'df4ac19ba0bf437694cd3eb4011bf23c', 'recommend', 'object', '{"showRecommend":false, "list":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_recommend}', 6) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('1707ef2c0648400fad476082bcfbe1b6', 'df4ac19ba0bf437694cd3eb4011bf23c', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_inspiration}', 7) ON CONFLICT (id) DO NOTHING;

-- 小魔方问题澄清
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('6ad77c26c69851448be4f1a3b10e6825', '3008365cd517e2468874ebef04807d16', 'instanceId', 'String', '""', '""', '""', '""', 0) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('3ffeaa8a86dad84f8e63cc69bce2ad84', '3008365cd517e2468874ebef04807d16', 'questionClarResult', 'String', '""', '""', '""', '""', 1) ON CONFLICT (id) DO NOTHING;

-- 小魔方问题溯源
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('dac7e188d462fb4bad2f3cc168c1b895', '516892f04231084ba6b2da145dd229cb', 'instanceId', 'String', '""', '""', '""', '""', 0) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('3a2892130e499b42a87123ece8c1344a', '516892f04231084ba6b2da145dd229cb', 'chartsData', 'String', '""', '""', '""', '""', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('0ba28f40e8a77d439bbcf2ddae421b2f', '516892f04231084ba6b2da145dd229cb', 'dsl', 'String', '""', '""', '""', '""', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('09a65ff526d3e64292e38a751eed6248', '516892f04231084ba6b2da145dd229cb', 'dimension', 'String', '""', '""', '""', '""', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('a21a0f88a837844ca1e684e24faac42a', '516892f04231084ba6b2da145dd229cb', 'rewriteQuery', 'String', '""', '""', '""', '""', 4) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index") VALUES ('1be80efa01fa0d42a7e21f6760db0bad', '516892f04231084ba6b2da145dd229cb', 'queryType', 'String', '""', '""', '""', '""', 5) ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('9997f1555b41452b924d1a8b2229bde4', 'tool模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42',
        '{"id":"9fd1e6736e734fc085a5ea34f4ba1b21","title":"9fd1e6736e734fc085a5ea34f4ba1b21","source":"elsa","type":"jadeFlowGraph","tenant":"default","setting":{"borderColor":"#047bfc","shadow":"","underline":false,"selectable":true,"fontFace":"arial","pDock":"none","headColor":"steelblue","itemScroll":{"x":0,"y":0},"vAlign":"top","cornerRadius":4,"rotateAble":true,"pad":10,"infoType":{"next":"INFORMATION","name":"none"},"focusMargin":0,"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"focusBackColor":"whitesmoke","tag":{},"captionfontColor":"whitesmoke","fontWeight":"lighter","captionlineHeight":1,"margin":25,"itemPad":[5,5,5,5],"autoHeight":false,"visible":true,"rotateDegree":0,"focusBorderColor":"#047bfc","priority":0,"fontStyle":"normal","backColor":"whitesmoke","captionfontFace":"arial black","dockMode":"none","dashWidth":0,"fontSize":12,"mouseInFontColor":"orange","resizeable":true,"captionfontWeight":"lighter","mouseInBorderColor":"#047bfc","autoText":false,"showedProgress":false,"shared":false,"code":"","hAlign":"center","deletable":true,"numberedList":false,"shadowData":"2px 2px 4px","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","allowLink":true,"lineWidth":2,"captionhAlign":"center","dragable":true,"focusShadow":"","emphasized":false,"borderWidth":1,"globalAlpha":1,"bulletedList":false,"enableAnimation":false,"autoWidth":false,"captionfontSize":14,"progressPercent":0.65,"strikethrough":false,"backAlpha":0.15,"focusFontColor":"darkorange","outstanding":false,"editable":true,"moveable":true,"captionfontStyle":"normal","mouseInColor":"orange","bulletSpeed":1,"enableSocial":true,"scrollLock":{"x":false,"y":false},"lineHeight":1.5,"fontColor":"steelblue","mouseInBackColor":"whitesmoke"},"pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc","shapes":[{"x":776.6424894555158,"y":415.53564816787656,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-98,"textX":0,"textY":0,"width":314.07170053851075,"hAlign":"center","height":-20.607221568854584,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E","runnable":true},{"x":-88.39275686449133,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":103,"width":360,"height":700,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","description":"这是用户输入的问题","disableModifiable":true}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":true},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)","runnable":true},{"x":416.64248945551583,"y":-79.46435183212344,"id":"jadewdnjbq","pad":6,"bold":false,"text":"大模型","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":990,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]}, {"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"Qwen1.5-32B-Chat"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":""},{"id":"58852742-5484-4870-9da0-65a7e41565ca","name":"maxMemoryRounds","type":"Integer","from":"input","value":"0"},{"id":"112405a9-cccb-4e3a-968e-0ef7ae81667a","from":"input","name":"enableLog","type":"Boolean","value":true}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)","runnable":true},{"x":1090.7141899940266,"y":248.92842659902198,"id":"jadesoux5i","pad":6,"bold":false,"text":"结束","type":"endNodeEnd","dirty":true,"index":106,"width":360,"height":292,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"fae1b650-075d-497d-a2b3-755ab315dca9","from":"Expand","name":"finalOutput","type":"Object","value":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","name":"finalOutput","type":"String","description":"","from":"Reference","referenceNode":"jadewdnjbq","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","value":["output","llmOutput"],"editable":true}],"referenceId":"","referenceKey":"","referenceNode":"","editable":false,"isRequired":false}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)","runnable":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"2bqgxs","text":"","namespace":"flowable","x":271.60724313550867,"y":382.5,"width":145.03524632000716,"height":33.03564816787656,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jadewdnjbq","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","runnable":true,"index":-96,"dirty":true}]}],"enableText":false,"flowMeta":{"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"enableOutputScope":true,"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}}}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance") VALUES ('9997f1555b41452b924d1a8b2229bde5', 'LLM模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42', '{"id":"ee1d1c6d8f314fa090b5a3afe8adaf40","title":"jadeFlow","source":"elsa","type":"jadeFlowGraph","tenant":"default","flowMeta":{"exceptionFitables":["com.huawei.fit.jober.aipp.fitable.AippFlowExceptionHandler","com.huawei.fit.jober.fitable.FlowInfoException"],"enableOutputScope":true,"callback":{"fitables":["com.huawei.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"setting":{"borderColor":"#047bfc","backColor":"whitesmoke","headColor":"steelblue","fontColor":"steelblue","captionfontColor":"whitesmoke","fontFace":"arial","captionfontFace":"arial black","fontSize":12,"captionfontSize":14,"fontStyle":"normal","captionfontStyle":"normal","fontWeight":"lighter","captionfontWeight":"lighter","hAlign":"center","vAlign":"top","captionhAlign":"center","lineHeight":1.5,"lineWidth":2,"captionlineHeight":1,"focusMargin":0,"focusBorderColor":"#047bfc","focusFontColor":"darkorange","focusBackColor":"whitesmoke","mouseInColor":"orange","mouseInBorderColor":"#047bfc","mouseInFontColor":"orange","mouseInBackColor":"whitesmoke","borderWidth":1,"focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","globalAlpha":1,"backAlpha":0.15,"cornerRadius":4,"dashWidth":0,"autoText":false,"autoHeight":false,"autoWidth":false,"margin":25,"pad":10,"code":"","rotateDegree":0,"shadow":"","focusShadow":"","shadowData":"2px 2px 4px","outstanding":false,"pDock":"none","dockMode":"none","priority":0,"infoType":{"next":"INFORMATION","name":"none"},"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"progressPercent":0.65,"showedProgress":false,"itemPad":[5,5,5,5],"itemScroll":{"x":0,"y":0},"scrollLock":{"x":false,"y":false},"resizeable":true,"selectable":true,"rotateAble":true,"editable":true,"moveable":true,"dragable":true,"visible":true,"deletable":true,"allowLink":true,"shared":false,"strikethrough":false,"underline":false,"numberedList":false,"bulletedList":false,"enableAnimation":false,"enableSocial":true,"emphasized":false,"bulletSpeed":1,"tag":{}},"pages":[{"type":"jadeFlowPage","id":"elsa-page:tvp1s6","text":"newFlowPage","namespace":"jadeFlow","x":297.46031746031749,"y":121.01190476190482,"width":1600,"height":800,"bold":false,"italic":false,"dockAlign":"top","division":-1,"itemSpace":5,"itemPad":[0,0,0,0],"itemScroll":{"x":0,"y":0},"hideText":true,"dockMode":"none","shapesAs":{},"borderColor":"white","backColor":"#fbfbfc","fontSize":18,"fontFace":"arial","fontColor":"#ECD0A7","fontWeight":"bold","fontStyle":"normal","hAlign":"left","vAlign":"top","moveable":true,"container":"elsa-page:tvp1s6","scaleX":0.8,"scaleY":0.8,"focusBackColor":"#fbfbfc","dirty":true,"isPage":true,"mode":"configuration","shapes":[{"type":"startNodeStart","container":"elsa-page:tvp1s6","id":"jade6qm5eg","text":"i18n_appBuilder_{start_node}","namespace":"flowable","x":-170.8928571428571,"y":32.5,"width":360,"height":554,"bold":false,"italic":false,"deletable":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","name":"input","type":"Object","from":"Expand","config":[{"allowAdd":true}],"value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","name":"Question","type":"String","from":"Input","description":"i18n_appBuilder_{flow_graph_question_description}","value":"","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","name":"memory","type":"Object","from":"Expand","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","name":"memorySwitch","type":"Boolean","from":"Input","value":true},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","name":"type","type":"String","from":"Input","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","name":"value","type":"Integer","from":"Input","value":"3"}]}]},"componentName":"startComponent","index":100,"dirty":true},{"type":"knowledgeRetrievalNodeState","container":"elsa-page:tvp1s6","id":"jade0pg2ag","text":"i18n_appBuilder_{knowledge_retrieval_node}","namespace":"flowable","x":275.7499999999999,"y":192.3571428571428,"width":360,"height":459,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","entity":{"params":[{"name":"query"},{"name":"knowledgeRepos"},{"name":"option"}],"return":{"type":"object"},"uniqueName":"25887d76-e358-4121-800c-31eb3390fdbd"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","name":"query","type":"Object","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","value":["Question"]},{"id":"knowledgeRepos_01c41edd-a22b-4289-b1cf-8db835833261","name":"knowledgeRepos","type":"Array","from":"Expand","value":[]},{"id":"option_68f4b238-8e3c-42e1-9795-5a2c8593c22c","from":"Expand","name":"option","type":"Object","value":[{"id":"b873aff7-8c76-4e4d-80fc-96faa51615d2","name":"groupId","type":"String","from":"Input","value":"default"},{"id":"03ce03b6-8d00-4fb0-bf32-85b2b40aaaee","from":"Expand","name":"indexType","type":"Object","value":[{"id":"543ff920-9927-48c6-bb65-cb1b97944b65","from":"input","name":"type","type":"String","value":"semantic"},{"id":"03d471a3-d4da-48a3-bbf8-d05bf06374e1","from":"input","name":"name","type":"String","value":"语义检索"},{"id":"647d0884-5539-4618-922e-af12b08d1d34","from":"input","name":"description","type":"String","value":"基于文本的含义检索出最相关的内容"}]},{"id":"a6a619c8-eef0-4bfa-9e12-a8994edfb83f","name":"similarityThreshold","type":"Number","from":"input","value":0.5},{"id":"c809934a-9023-48dc-a2c8-e33274ab7101","name":"referenceLimit","type":"Object","from":"Expand","value":[{"id":"369ad79e-397f-417c-b671-c4f714734693","name":"type","type":"String","from":"input","value":"topK"},{"id":"31071b92-7d9f-443b-930c-3329d05671f5","name":"value","type":"Integer","from":"input","value":3}]},{"id":"e45abef0-e276-42ea-832a-87e4a2aeb2be","name":"rerankParam","type":"Object","from":"Expand","value":[{"id":"5b737124-7de9-45b9-bff3-87c6b4d817e8","name":"enableRerank","type":"Boolean","from":"input","value":false}]}]}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Array","value":[]}]}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"componentName":"knowledgeRetrievalComponent","index":101,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jadewdnjbq","text":"i18n_appBuilder_{llm_node}","namespace":"flowable","x":719.1428571428571,"y":-30.71403761434209,"width":360,"height":787,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["com.huawei.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"#app_builder_default_service_name#"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"#app_builder_default_tag#"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","name":"model","type":"String","from":"Input","value":"#app_builder_default_model_name#"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","name":"temperature","type":"Number","from":"Input","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","name":"prompt","type":"Object","from":"Expand","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","name":"template","type":"String","from":"Input","value":"i18n_appBuilder_{app_template_flow_graph_prompt}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","name":"variables","type":"Object","from":"Expand","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","name":"knowledge","type":"String","from":"Reference","value":["output"],"referenceNode":"jade0pg2ag","referenceId":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","referenceKey":"output"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","name":"query","type":"String","from":"Reference","value":["Question"],"referenceKey":"Question","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","name":"systemPrompt","type":"String","from":"Input","value":""},{"id":"78baad16-173f-4d70-a7cd-d1a2abc2f0d1","from":"input","name":"enableLog","type":"Boolean","value":true}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","name":"output","type":"Object","from":"Expand","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"componentName":"llmComponent","index":102,"dirty":true},{"type":"endNodeEnd","container":"elsa-page:tvp1s6","id":"jadesoux5i","text":"i18n_appBuilder_{end_node}","namespace":"flowable","x":1169.4642857142849,"y":306.4285714285713,"width":360,"height":212,"bold":false,"italic":false,"deletable":true,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","callback":{"type":"general_callback","name":"通知回调","fitables":["com.huawei.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","name":"finalOutput","type":"String","from":"Reference","referenceNode":"jadewdnjbq","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","value":["output","llmOutput"]}],"outputParams":[{}]}}}},"componentName":"endComponent","index":104,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade2zanyx","text":"","namespace":"flowable","x":189.1071428571429,"y":309.5,"width":86.642857142857,"height":112.35714285714278,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jade0pg2ag","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-95,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade5c5urs","text":"","namespace":"flowable","x":635.7499999999999,"y":421.8571428571428,"width":83.39285714285723,"height":-81.57142857142856,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade0pg2ag","toShape":"jadewdnjbq","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade1p0cdu","text":"","namespace":"flowable","x":1079.142857142857,"y":340.2857142857142,"width":90.32142857142776,"height":72.14285714285706,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadewdnjbq","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true}],"index":0}],"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance") VALUES ('9997f1555b41452b924d1a8b2229bde3', 'LLM模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42', '{"id":"ee1d1c6d8f314fa090b5a3afe8adaf40","title":"jadeFlow","source":"elsa","type":"jadeFlowGraph","tenant":"default","flowMeta":{"exceptionFitables":["com.huawei.fit.jober.aipp.fitable.AippFlowExceptionHandler","com.huawei.fit.jober.fitable.FlowInfoException"],"enableOutputScope":true,"callback":{"fitables":["com.huawei.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"setting":{"borderColor":"#047bfc","backColor":"whitesmoke","headColor":"steelblue","fontColor":"steelblue","captionfontColor":"whitesmoke","fontFace":"arial","captionfontFace":"arial black","fontSize":12,"captionfontSize":14,"fontStyle":"normal","captionfontStyle":"normal","fontWeight":"lighter","captionfontWeight":"lighter","hAlign":"center","vAlign":"top","captionhAlign":"center","lineHeight":1.5,"lineWidth":2,"captionlineHeight":1,"focusMargin":0,"focusBorderColor":"#047bfc","focusFontColor":"darkorange","focusBackColor":"whitesmoke","mouseInColor":"orange","mouseInBorderColor":"#047bfc","mouseInFontColor":"orange","mouseInBackColor":"whitesmoke","borderWidth":1,"focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","globalAlpha":1,"backAlpha":0.15,"cornerRadius":4,"dashWidth":0,"autoText":false,"autoHeight":false,"autoWidth":false,"margin":25,"pad":10,"code":"","rotateDegree":0,"shadow":"","focusShadow":"","shadowData":"2px 2px 4px","outstanding":false,"pDock":"none","dockMode":"none","priority":0,"infoType":{"next":"INFORMATION","name":"none"},"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"progressPercent":0.65,"showedProgress":false,"itemPad":[5,5,5,5],"itemScroll":{"x":0,"y":0},"scrollLock":{"x":false,"y":false},"resizeable":true,"selectable":true,"rotateAble":true,"editable":true,"moveable":true,"dragable":true,"visible":true,"deletable":true,"allowLink":true,"shared":false,"strikethrough":false,"underline":false,"numberedList":false,"bulletedList":false,"enableAnimation":false,"enableSocial":true,"emphasized":false,"bulletSpeed":1,"tag":{}},"pages":[{"type":"jadeFlowPage","id":"elsa-page:tvp1s6","text":"newFlowPage","namespace":"jadeFlow","x":297.46031746031749,"y":121.01190476190482,"width":1600,"height":800,"bold":false,"italic":false,"dockAlign":"top","division":-1,"itemSpace":5,"itemPad":[0,0,0,0],"itemScroll":{"x":0,"y":0},"hideText":true,"dockMode":"none","shapesAs":{},"borderColor":"white","backColor":"#fbfbfc","fontSize":18,"fontFace":"arial","fontColor":"#ECD0A7","fontWeight":"bold","fontStyle":"normal","hAlign":"left","vAlign":"top","moveable":true,"container":"elsa-page:tvp1s6","scaleX":0.8,"scaleY":0.8,"focusBackColor":"#fbfbfc","dirty":true,"isPage":true,"mode":"configuration","shapes":[{"type":"startNodeStart","container":"elsa-page:tvp1s6","id":"jade6qm5eg","text":"i18n_appBuilder_{start_node}","namespace":"flowable","x":-170.8928571428571,"y":32.5,"width":360,"height":554,"bold":false,"italic":false,"deletable":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","name":"input","type":"Object","from":"Expand","config":[{"allowAdd":true}],"value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","name":"Question","type":"String","from":"Input","description":"i18n_appBuilder_{flow_graph_question_description}","value":"","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","name":"memory","type":"Object","from":"Expand","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","name":"memorySwitch","type":"Boolean","from":"Input","value":true},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","name":"type","type":"String","from":"Input","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","name":"value","type":"Integer","from":"Input","value":"3"}]}]},"componentName":"startComponent","index":100,"dirty":true},{"type":"knowledgeRetrievalNodeState","container":"elsa-page:tvp1s6","id":"jade0pg2ag","text":"i18n_appBuilder_{knowledge_retrieval_node}","namespace":"flowable","x":275.7499999999999,"y":192.3571428571428,"width":360,"height":459,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","entity":{"params":[{"name":"query"},{"name":"knowledgeRepos"},{"name":"option"}],"return":{"type":"object"},"uniqueName":"25887d76-e358-4121-800c-31eb3390fdbd"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","name":"query","type":"Object","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","value":["Question"]},{"id":"knowledgeRepos_01c41edd-a22b-4289-b1cf-8db835833261","name":"knowledgeRepos","type":"Array","from":"Expand","value":[]},{"id":"option_68f4b238-8e3c-42e1-9795-5a2c8593c22c","from":"Expand","name":"option","type":"Object","value":[{"id":"b873aff7-8c76-4e4d-80fc-96faa51615d2","name":"groupId","type":"String","from":"Input","value":"default"},{"id":"03ce03b6-8d00-4fb0-bf32-85b2b40aaaee","from":"Expand","name":"indexType","type":"Object","value":[{"id":"543ff920-9927-48c6-bb65-cb1b97944b65","from":"input","name":"type","type":"String","value":"semantic"},{"id":"03d471a3-d4da-48a3-bbf8-d05bf06374e1","from":"input","name":"name","type":"String","value":"语义检索"},{"id":"647d0884-5539-4618-922e-af12b08d1d34","from":"input","name":"description","type":"String","value":"基于文本的含义检索出最相关的内容"}]},{"id":"a6a619c8-eef0-4bfa-9e12-a8994edfb83f","name":"similarityThreshold","type":"Number","from":"input","value":0.5},{"id":"c809934a-9023-48dc-a2c8-e33274ab7101","name":"referenceLimit","type":"Object","from":"Expand","value":[{"id":"369ad79e-397f-417c-b671-c4f714734693","name":"type","type":"String","from":"input","value":"topK"},{"id":"31071b92-7d9f-443b-930c-3329d05671f5","name":"value","type":"Integer","from":"input","value":3}]},{"id":"e45abef0-e276-42ea-832a-87e4a2aeb2be","name":"rerankParam","type":"Object","from":"Expand","value":[{"id":"5b737124-7de9-45b9-bff3-87c6b4d817e8","name":"enableRerank","type":"Boolean","from":"input","value":false}]}]}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Array","value":[]}]}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"componentName":"knowledgeRetrievalComponent","index":101,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jadewdnjbq","text":"i18n_appBuilder_{llm_node}","namespace":"flowable","x":719.1428571428571,"y":-30.71403761434209,"width":360,"height":787,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["com.huawei.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"#app_builder_default_service_name#"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"#app_builder_default_tag#"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","name":"model","type":"String","from":"Input","value":"#app_builder_default_model_name#"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","name":"temperature","type":"Number","from":"Input","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","name":"prompt","type":"Object","from":"Expand","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","name":"template","type":"String","from":"Input","value":"i18n_appBuilder_{app_template_flow_graph_prompt}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","name":"variables","type":"Object","from":"Expand","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","name":"knowledge","type":"String","from":"Reference","value":["output"],"referenceNode":"jade0pg2ag","referenceId":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","referenceKey":"output"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","name":"query","type":"String","from":"Reference","value":["Question"],"referenceKey":"Question","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","name":"systemPrompt","type":"String","from":"Input","value":""},{"id":"78baad16-173f-4d70-a7cd-d1a2abc2f0d1","from":"input","name":"enableLog","type":"Boolean","value":true}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","name":"output","type":"Object","from":"Expand","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"componentName":"llmComponent","index":102,"dirty":true},{"type":"endNodeEnd","container":"elsa-page:tvp1s6","id":"jadesoux5i","text":"i18n_appBuilder_{end_node}","namespace":"flowable","x":1169.4642857142849,"y":306.4285714285713,"width":360,"height":212,"bold":false,"italic":false,"deletable":true,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","callback":{"type":"general_callback","name":"通知回调","fitables":["com.huawei.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","name":"finalOutput","type":"String","from":"Reference","referenceNode":"jadewdnjbq","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","value":["output","llmOutput"]}],"outputParams":[{}]}}}},"componentName":"endComponent","index":104,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade2zanyx","text":"","namespace":"flowable","x":189.1071428571429,"y":309.5,"width":86.642857142857,"height":112.35714285714278,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jade0pg2ag","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-95,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade5c5urs","text":"","namespace":"flowable","x":635.7499999999999,"y":421.8571428571428,"width":83.39285714285723,"height":-81.57142857142856,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade0pg2ag","toShape":"jadewdnjbq","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade1p0cdu","text":"","namespace":"flowable","x":1079.142857142857,"y":340.2857142857142,"width":90.32142857142776,"height":72.14285714285706,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadewdnjbq","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true}],"index":0}],"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('d14e513cadb84847b62e9d67b7d47a02', 'LLM模板', 'modelengine.jade', '2024-05-17 20:03:15.794',
        'modelengine.jade', '2024-05-24 19:16:25.843',
        '{"id":"d14e513cadb84847b62e9d67b7d47a02","type":"jadeFlowGraph","pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":189.1071428571429,"y":323,"id":"jade2zanyx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-100,"textX":0,"textY":0,"width":86.642857142857,"hAlign":"center","height":70.35714285714278,"italic":false,"margin":20,"toShape":"jade0pg2ag","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":635.7499999999999,"y":393.3571428571428,"id":"jade5c5urs","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-99,"textX":0,"textY":0,"width":83.39285714285722,"hAlign":"center","height":-0.5714285714285552,"italic":false,"margin":20,"toShape":"jadewdnjbq","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade0pg2ag","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1079.142857142857,"y":392.7857142857142,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-98,"textX":0,"textY":0,"width":90.32142857142776,"hAlign":"center","height":20.642857142857054,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":-170.8928571428571,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"i18n_appBuilder_{start_node}","type":"startNodeStart","dirty":true,"index":103,"width":360,"height":581,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","description":"i18n_appBuilder_{flow_graph_question_description}","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":true},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":275.7499999999999,"y":192.3571428571428,"id":"jade0pg2ag","pad":6,"bold":false,"text":"i18n_appBuilder_{retrieval_node}","type":"retrievalNodeState","dirty":true,"index":104,"width":360,"height":402,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","fitables":["modelengine.fit.jober.aipp.fitable.NaiveRAGComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"knowledge_01c41edd-a22b-4289-b1cf-8db835833261","from":"Expand","name":"knowledge","type":"Array","value":[]},{"id":"maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff","from":"Input","name":"maximum","type":"Integer","value":3}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Object","value":[{"id":"5c9c6535-c127-445a-862a-966cf1083929","from":"Input","name":"retrievalOutput","type":"String","value":"String"}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"retrievalComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":719.1428571428571,"y":-30.71403761434209,"id":"jadewdnjbq","pad":6,"bold":false,"text":"i18n_appBuilder_{llm_node}","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":892,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"Qwen1.5-32B-Chat"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":0.0},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","from":"Reference","name":"knowledge","type":"String","value":["output","retrievalOutput"],"referenceId":"5c9c6535-c127-445a-862a-966cf1083929","referenceKey":"retrievalOutput","referenceNode":"jade0pg2ag"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[{"id":"303a2fce-13df-4dfc-a3ab-51323ee90cdb","from":"input","type":"String","value":"c04cee50-13e4-499b-a008-077459a2e552"}]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":"i18n_appBuilder_{xiaohai_flow_graph_system_prompt}"},{"id":"24765818-c34c-4590-8a3f-b5024175c1f7","from":"input","name":"enableLog","type":"Boolean","value":true}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1169.4642857142849,"y":306.4285714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"i18n_appBuilder_{end_node}","type":"endNodeEnd","dirty":true,"index":106,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","referenceNode":"jadewdnjbq"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"d14e513cadb84847b62e9d67b7d47a02","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('beefffd1168b4785a71f149a2a530d2f', 'tool模板', 'modelengine.jade', '2024-05-24 18:29:55.572',
        'modelengine.jade', '2024-05-24 18:34:46.521',
        '{"id":"beefffd1168b4785a71f149a2a530d2f","type":"jadeFlowGraph","pages":[{"x":176.21031746031747,"y":-46.488095238095184,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":true,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":-145.8928571428571,"y":230,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":101,"width":360,"height":528,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"query","type":"String","value":"","description":"用户问题。"}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":2334.464285714285,"y":378.9285714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"财经问答结束","type":"endNodeEnd","dirty":true,"index":102,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output"],"referenceId":"output_fc952038-1a14-442b-bd78-8515e69449fa","referenceKey":"output","referenceNode":"jadecoarmv"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":291.28968253968253,"y":366.4880952380952,"id":"jade3axbnw","pad":6,"bold":false,"text":"问题路由","type":"toolInvokeNodeState","dirty":true,"index":102,"width":360,"height":259,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"query"}],"return":{"type":"object"},"uniqueName":"c6c2d272-90e5-4c06-b8fa-5d94930b7532"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_c958c2fd-b97e-481f-8cff-55e7d8564d5d","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}],"outputParams":[{"id":"output_2d3a958f-ac5c-413f-bf27-e39425597f72","name":"output","type":"Object","value":[{"id":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","name":"result","type":"String","value":"String"},{"id":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","name":"matched","type":"Boolean","value":"Boolean"},{"id":"92a77575-7d95-4e51-ab3b-7ce14385b2d4","name":"completeQuery","type":"String","value":"String"}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"toolInvokeComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1868.7896825396824,"y":343.9880952380952,"id":"jadecoarmv","pad":6,"bold":false,"text":"结果生成","type":"toolInvokeNodeState","dirty":true,"index":103,"width":360,"height":304,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"condition"},{"name":"query"}],"return":{"type":"string"},"uniqueName":"24474301-937a-4335-a155-1e86d1a48de0"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"condition_b63e38ea-b27e-4895-b2d8-de84384fae2e","from":"Reference","name":"condition","type":"String","value":["output","llmOutput"],"referenceId":"8e900cd6-d151-402b-b6b2-194790edf467","referenceKey":"llmOutput","referenceNode":"jade5wc1ee"},{"id":"query_88827f8c-a610-46b7-8b50-4531bb87763f","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}],"outputParams":[{"id":"output_fc952038-1a14-442b-bd78-8515e69449fa","name":"output","type":"String","value":[]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"toolInvokeComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":726.2896825396825,"y":317.7380952380952,"id":"jadelh4543","pad":6,"bold":false,"text":"条件","type":"conditionNodeCondition","dirty":true,"index":104,"width":600,"height":357,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"triggerMode":"auto","conditionParams":{"branches":[{"id":"ad2e05b6-593a-4d86-81e0-1b1b504c2795","type":"if","conditions":[{"id":"5d96df3a-5192-4de8-9743-63cf9f0259ec","value":[{"id":"3fc094bc-8496-4e7e-a940-97b092d7e67d","from":"Reference","name":"left","type":"Boolean","value":["output","matched"],"referenceId":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","referenceKey":"matched","referenceNode":"jade3axbnw"},{"id":"f770e6fe-a612-4fb8-8c40-d51bcef05baf","from":"Reference","name":"right","type":"","value":"","referenceId":"","referenceKey":"","referenceNode":""}],"condition":"is true"}],"conditionRelation":"and"}]},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"conditionComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1405.0396825396824,"y":56.488095238095184,"id":"jade5wc1ee","pad":6,"bold":false,"text":"财经问题专属模型","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":851,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"c490ace3-472c-4c95-bf29-760982f62c64","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"c1ea0b9c-97c9-466e-bd42-b0eb6046dc3a","from":"Input","name":"temperature","type":"Number","value":"0"},{"id":"89cda9b5-f975-42ba-a426-a83a6cbdddb3","from":"Expand","name":"prompt","type":"Object","value":[{"id":"12fe982a-0fbd-4461-a159-51e09de31dc0","from":"Input","name":"template","type":"String","value":"{{query}}"},{"id":"6e78da7c-3d62-4df8-98cf-310b06691a4e","from":"Expand","name":"variables","type":"Object","value":[{"id":"1ec181db-eed1-4089-a580-f656de258322","from":"Reference","name":"query","type":"String","value":["output","result"],"referenceId":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","referenceKey":"result","referenceNode":"jade3axbnw"}]}]},{"id":"a5f228f5-167e-4fbc-8114-69bcd9c76a4c","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"f548ab63-9add-4053-a3a6-cb7682c362af","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"4ff72b6e-18b8-430c-a509-d1bf8a53bbe5","from":"Input","name":"systemPrompt","type":"String","value":""}],"outputParams":[{"id":"8cc96b96-765d-4f13-ba10-d9dff76a2615","from":"Expand","name":"output","type":"Object","value":[{"id":"8e900cd6-d151-402b-b6b2-194790edf467","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1410.0396825396824,"y":1000.2380952380952,"id":"jaded1ufou","pad":6,"bold":false,"text":"普通问答模型","type":"llmNodeState","dirty":true,"index":106,"width":360,"height":851,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"f9586db3-72f9-4d33-9f01-893bbfa61277","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"e0b992c2-739a-43b1-9cbc-b6747eb7592f","from":"Input","name":"temperature","type":"Number","value":"0.3"},{"id":"95ba86be-5c03-4258-b5ce-32b0eae17b5c","from":"Expand","name":"prompt","type":"Object","value":[{"id":"123d6c59-c525-4100-a66b-72b1a2c4e625","from":"Input","name":"template","type":"String","value":"{{query}}"},{"id":"892b3e12-2895-4e79-b668-5d6a6bd79fe6","from":"Expand","name":"variables","type":"Object","value":[{"id":"c779f80b-c15f-416d-ad1b-6628cb24fe8c","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}]}]},{"id":"a4e83ae4-4f4b-4407-a2bc-a9570886329e","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"08297d4d-4f38-44c0-b049-638a2008a884","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"f4fd8b0a-aeaf-47e2-8914-5501ba5bb4b1","from":"Input","name":"systemPrompt","type":"String","value":""}],"outputParams":[{"id":"9024f034-bacc-4ac0-812f-e270fa6997b9","from":"Expand","name":"output","type":"Object","value":[{"id":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1901.2896825396824,"y":1336.4880952380952,"id":"jadela7k5y","pad":6,"bold":false,"text":"普通问答结束","type":"endNodeEnd","dirty":true,"index":107,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"e09784cb-3ae9-4581-aa63-1b83f09fd7ed","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"referenceId":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","referenceKey":"llmOutput","referenceNode":"jaded1ufou"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":214.1071428571429,"y":494,"id":"4iyvh1","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-92,"textX":0,"textY":0,"width":77.18253968253964,"hAlign":"center","height":1.988095238095184,"italic":false,"margin":20,"toShape":"jade3axbnw","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":651.2896825396825,"y":495.9880952380952,"id":"6rh9x7","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-91,"textX":0,"textY":0,"width":75,"hAlign":"center","height":0.25,"italic":false,"margin":20,"toShape":"jadelh4543","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade3axbnw","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1313.2897283160496,"y":512.7380952380952,"id":"vosd6p","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-90,"textX":0,"textY":0,"width":91.74995422363281,"hAlign":"center","height":-30.75,"italic":false,"margin":20,"toShape":"jade5wc1ee","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadelh4543","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"dynamic-0"},{"x":1765.0396825396824,"y":481.9880952380952,"id":"4qny17","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-89,"textX":0,"textY":0,"width":103.75,"hAlign":"center","height":14,"italic":false,"margin":20,"toShape":"jadecoarmv","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade5wc1ee","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":2228.7896825396824,"y":495.9880952380952,"id":"0vxnrc","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-88,"textX":0,"textY":0,"width":105.67460317460245,"hAlign":"center","height":-10.05952380952391,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadecoarmv","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1313.2897283160496,"y":632.1599778674897,"id":"v3a2mn","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-87,"textX":0,"textY":0,"width":96.74995422363281,"hAlign":"center","height":793.5781173706055,"italic":false,"margin":20,"toShape":"jaded1ufou","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadelh4543","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"dynamic-2"},{"x":1770.0396825396824,"y":1425.7380952380952,"id":"fv8h4v","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-86,"textX":0,"textY":0,"width":131.25,"hAlign":"center","height":17.75,"italic":false,"margin":20,"toShape":"jadela7k5y","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jaded1ufou","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"beefffd1168b4785a71f149a2a530d2f","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('b2ecde0b919841f5867d2e89bb46095c', 'LLM模板', 'modelengine.jade', '2024-05-24 18:29:52.043',
        'modelengine.jade', '2024-05-24 18:40:48.545',
        '{"id":"b2ecde0b919841f5867d2e89bb46095c","type":"jadeFlowGraph","pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":189.1071428571429,"y":296.5,"id":"jade2zanyx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-100,"textX":0,"textY":0,"width":86.642857142857,"hAlign":"center","height":96.85714285714278,"italic":false,"margin":20,"toShape":"jade0pg2ag","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":635.7499999999999,"y":393.3571428571428,"id":"jade5c5urs","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-99,"textX":0,"textY":0,"width":83.39285714285722,"hAlign":"center","height":-0.5714285714285552,"italic":false,"margin":20,"toShape":"jadewdnjbq","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade0pg2ag","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1079.142857142857,"y":392.7857142857142,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-98,"textX":0,"textY":0,"width":90.32142857142776,"hAlign":"center","height":20.642857142857054,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":-170.8928571428571,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":103,"width":360,"height":528,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","description":"i18n_appBuilder_{flow_graph_question_description}","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":275.7499999999999,"y":192.3571428571428,"id":"jade0pg2ag","pad":6,"bold":false,"text":"普通检索","type":"retrievalNodeState","dirty":true,"index":104,"width":360,"height":402,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","fitables":["modelengine.fit.jober.aipp.fitable.NaiveRAGComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"knowledge_01c41edd-a22b-4289-b1cf-8db835833261","from":"Expand","name":"knowledge","type":"Array","value":[]},{"id":"maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff","from":"Input","name":"maximum","type":"Integer","value":3}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Object","value":[{"id":"5c9c6535-c127-445a-862a-966cf1083929","from":"Input","name":"retrievalOutput","type":"String","value":"String"}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"retrievalComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":719.1428571428571,"y":-30.71403761434209,"id":"jadewdnjbq","pad":6,"bold":false,"text":"大模型","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":892,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":0.0},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","from":"Reference","name":"knowledge","type":"String","value":["output","retrievalOutput"],"referenceId":"5c9c6535-c127-445a-862a-966cf1083929","referenceKey":"retrievalOutput","referenceNode":"jade0pg2ag"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[{"id":"ae0bd892-91fc-45ef-83ca-819294384386","from":"input","type":"String","value":"d613c69e-ad85-4edb-a126-8ccd6341cd64"}]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":""}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1169.4642857142849,"y":306.4285714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"结束","type":"endNodeEnd","dirty":false,"index":106,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","referenceNode":"jadewdnjbq"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"b2ecde0b919841f5867d2e89bb46095c","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('3bb39bed81f44549b84d20cc6e3b530b', 'tool模板', 'modelengine.jade', '2024-05-24 18:49:42.516',
        'modelengine.jade', '2024-05-24 19:15:53.08',
        '{"id":"3bb39bed81f44549b84d20cc6e3b530b","type":"jadeFlowGraph","pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":-10.89285714285711,"y":90,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":101,"width":360,"height":528,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"query","type":"String","value":"","description":"i18n_appBuilder_{flow_graph_question_description}"}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1466.9642857142849,"y":247.67857142857127,"id":"jadesoux5i","pad":6,"bold":false,"text":"结束","type":"endNodeEnd","dirty":true,"index":102,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output"],"referenceId":"output_48507a00-8836-43bc-b6eb-46ef08d447e7","referenceKey":"output","referenceNode":"jadeka3h5h"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":486.28968253968253,"y":-66.01190476190482,"id":"jadeknt9h5","pad":6,"bold":false,"text":"大模型","type":"llmNodeState","dirty":true,"index":102,"width":360,"height":851,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"a3800516-3671-4720-a11c-0ed0e3c28f30","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"d0ab103a-7d39-4fa9-8503-166f3f8b798a","from":"Input","name":"temperature","type":"Number","value":"0.9"},{"id":"ed08bc34-f6af-4ca4-b92f-74d582d06fdf","from":"Expand","name":"prompt","type":"Object","value":[{"id":"8c4e7ca8-0940-4441-bd05-bb3957641c9b","from":"Input","name":"template","type":"String","value":"{{query}}"},{"id":"427a5184-a179-4d16-91ca-9ec9a460ed73","from":"Expand","name":"variables","type":"Object","value":[{"id":"f244780e-0c2a-4e63-95ec-63c2c27073c9","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}]}]},{"id":"74221011-c679-4c10-8df7-8c3f850720d9","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"04f7b230-a00e-442c-b1ee-5f07ef3054cf","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"098b6f9b-cba8-482c-898c-dd6b49054c51","from":"Input","name":"systemPrompt","type":"String","value":"- Role: 应用配置专家\n- Background: 用户需要为他们的应用程序创建一个吸引人的名称、描述和开场白，并希望应用能够通过提示词来引导用户进行交互。\n- Profile: 您是一位经验丰富的应用配置专家，擅长为各种类型的应用程序提供创意和专业的命名、描述和交互方案。\n- Skills: 应用命名、创意写作、用户交互设计、市场营销。\n- Goals: 设计一个能够体现应用核心价值和功能的名称，创建一个简洁明了的描述，以及一个友好的开场白，同时制定应用自身的提示词，以增强用户体验。\n- Constrains: 名称应简洁易记，描述应准确反映应用功能，开场白应友好且具有吸引力，提示词应引导用户进行有效互动。\n- OutputFormat: 以json格式返回名称（name）、描述（description）、开场白（greeting）和应用系统提示词模板（systemPrompt）。\n- Workflow:\n  1. 确定应用的核心功能和目标用户群体。\n  2. 创造性地生成应用名称，并确保名称独特且易于记忆。\n  3. 编写简洁明了的应用描述，突出其主要功能和优势。\n  4. 设计一个友好且具有吸引力的应用开场白。\n  5. 制定系统提示词模板，以引导应用如何有效响应应用问题。\n\n- Examples:\n  应用名称：智慧生活助手\n  描述：智慧生活助手是一款集成智能家居控制、日程管理、健康监测等功能的全能型应用，旨在为用户提供便捷、智能的生活方式。\n  开场白：欢迎来到智慧生活助手，您的智能生活从此开始！\n  应用系统提示词模板：\n   “ -角色：你是一个智能生活助手  \\n -背景：作为一款集成多种智能功能的应用程序，你需要熟悉各种智能家居设备、日程安排、健康数据等相关知识。 \\n -技能：智能家居控制(照明、温控、安防等)、日程管理(提醒、安排等)、健康监测(睡眠、运动、饮食等)、信息查询、语音交互等。 \\n -信息：你可以访问用户的智能家居设备、日历、健康数据等相关信息,并根据需要进行操作和响应。\\n -目标：为用户提供便捷、智能、个性化的生活体验,通过整合多种功能,满足用户在家居、工作、健康等多方面的需求。“\n\n\n-限制：你是一个JSON API,当收到请求时,必须直接返回JSON格式的数据,不需要任何其他文字说明或```json代码块。如：\n{\n  \"name\": \"行迹未来旅行规划大师\",\n  \"description\": \"行迹未来，您的智慧旅行伙伴，专注于为您打造独一无二的旅行体验。从梦幻目的地选择到详尽行程安排，一切尽在掌握。\",\n  \"greeting\": \"欢迎探索未知的旅程！我是您的旅行规划大师，让我们一起规划您的梦想之旅，每一步都充满惊喜。\",\n  \"systemPrompt\": \"-角色：智慧旅行规划与咨询 \\n -背景：基于先进的旅行算法，结合用户个人喜好，提供定制化服务\\n -技能：目的地推荐、行程优化、票务预订、文化背景介绍\\n -信息：分析用户的旅行日期、兴趣、预算，创造个性化体验\\n -目标：确保旅行轻松愉快，从规划到回忆，每一步都贴心相伴。\"\n}"},{"id":"0324387d-4b0a-4b58-bcc3-2d3be0bae45e","from":"input","name":"enableLog","type":"Boolean","value":false}],"outputParams":[{"id":"2499b972-8615-4be9-b818-7dba8101b424","from":"Expand","name":"output","type":"Object","value":[{"id":"48de507a-83ce-47c1-848f-ed1519527830","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1007.5396825396824,"y":150.23809523809518,"id":"jadeka3h5h","pad":6,"bold":false,"text":"工具调用","type":"toolInvokeNodeState","dirty":true,"index":103,"width":360,"height":259,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"appInfo"},{"name":"userId"}],"return":{"type":"string"},"uniqueName":"1afdab63-62e3-4965-ac91-a7a66099f068"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"appInfo_93af9c5d-3eff-4b67-90c4-5eed4a582206","from":"Reference","name":"appInfo","type":"String","value":["output","llmOutput"],"referenceId":"48de507a-83ce-47c1-848f-ed1519527830","referenceKey":"llmOutput","referenceNode":"jadeknt9h5"},{"id":"userId_246bfe1b-74d8-46cd-84e9-d2e370af8872","from":"Reference","name":"userId","type":"String","value":["userId"],"isRequired":true,"description":"应用id。","referenceId":"userId","referenceKey":"userId","referenceNode":"_systemEnv"}],"outputParams":[{"id":"output_48507a00-8836-43bc-b6eb-46ef08d447e7","name":"output","type":"String","value":[]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"toolInvokeComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":349.1071428571429,"y":354,"id":"z5r92y","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-96,"textX":0,"textY":0,"width":137.18253968253964,"hAlign":"center","height":5.488095238095184,"italic":false,"margin":20,"toShape":"jadeknt9h5","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":846.2896825396825,"y":359.4880952380952,"id":"zu2xwx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-95,"textX":0,"textY":0,"width":161.2499999999999,"hAlign":"center","height":-79.75,"italic":false,"margin":20,"toShape":"jadeka3h5h","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadeknt9h5","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1367.5396825396824,"y":279.7380952380952,"id":"1k1udc","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-94,"textX":0,"textY":0,"width":99.42460317460245,"hAlign":"center","height":74.94047619047609,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadeka3h5h","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"3bb39bed81f44549b84d20cc6e3b530b","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"enableText":false}') ON CONFLICT (id) DO NOTHING;

-- 租户信息（不确定是否需要）
INSERT INTO "public"."tenant" ("id", "name", "description", "avatar_id", "created_by", "updated_by", "created_at", "updated_at", "access_level") VALUES ('31f20efc7e0848deab6a6bc10fc3021e', 'appbuilder默认租户', '', '                                ', '180875152679256', '180875152679256', '2023-12-29 06:46:55.681', '2023-12-29 06:49:49.632', 'PUBLIC') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."tenant" ("id", "name", "description", "avatar_id", "created_by", "updated_by", "created_at", "updated_at", "access_level") VALUES ('727d7157b3d24209aefd59eb7d1c49ff', 'appbuilder默认租户1', '', '                                ', '180875152679256', '180875152679256', '2023-12-29 06:46:55.681', '2023-12-29 06:49:49.632', 'PUBLIC') ON CONFLICT (id) DO NOTHING;

-- 添加工具相关的task数据
INSERT INTO "task" ("id", "name", "tenant_id", "attributes", "created_by", "created_at", "updated_by", "updated_at",
                    "template_id", "category")
VALUES ('dc27c37e6a1143e9a628d41026dd6703', '创建应用|1.0.0', '31f20efc7e0848deab6a6bc10fc3021e',
        '{"aipp_type":"NORMAL","meta_status":"active","description":"根据用户问题智能生成应用配置信息，并自动创建应用，支持创建助手、数字人、智能体、机器人等。","meta_icon":"null","app_id":"4a1d6b117b7d4c8f8c5b6c3358608c9c","flow_config_id":"3bb39bed81f44549b84d20cc6e3b530b","version":"1.0.0","flow_definition_id":"0a3bd341d945405bb4148f23c1748ddc","publish_at":"2024-05-24T19:15:53.214"}',
        'modelengine.jade', '2024-05-24 19:15:53.131', 'modelengine.jade', '2024-05-24 19:15:53.221',
        'a35828ed08974b1b96be55f4e0f47bbe', 'AIPP') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task" ("id", "name", "tenant_id", "attributes", "created_by", "created_at", "updated_by", "updated_at", "template_id", "category") VALUES ('e17f265b88604709805fd116948e06f0', '小海|1.0.0', '31f20efc7e0848deab6a6bc10fc3021e', '{"version":"1.0.0","aipp_type":"NORMAL","meta_status":"active","description":"你的专属AI智能编排研发平台，AI助力研发，开始创建专属应用吧~","meta_icon":"/api/jober/v1/api/31f20efc7e0848deab6a6bc10fc3021e/file?filePath=/var/share/xiaohai.png&fileName=xiaohai.png","app_id":"3a617d8aeb1d41a9ad7453f2f0f70d61","flow_definition_id":"effc131feadc49c1898640ac558f6d69","publish_at":"2024-07-19T17:27:40.769","flow_config_id":"d14e513cadb84847b62e9d67b7d47a02","publish_description":null,"publish_update_log":null,"unique_name":"b91d7f97-feff-4c0a-aeba-6430e98fb605"}', 'Jade', '2024-07-19 17:27:40.78', 'Jade', '2024-07-19 17:27:40.78', '0e49789dbbf647f3b7eba69de042dbe7', 'AIPP') ON CONFLICT (id) DO NOTHING;

INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('0f84a164353b4bc6b06b240e99d2bf3b', 'dc27c37e6a1143e9a628d41026dd6703', 'aipp_instance_name', 'f', 'f', 'meta实例名称', 'PUBLIC', 'TEXT', 1, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('073111f3d8ca47d18abe6cc9cd702608', 'dc27c37e6a1143e9a628d41026dd6703', 'create_by', 'f', 'f', '创建人', 'PUBLIC', 'TEXT', 2, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('8f8e5fa8a26f43a8b2f74fadfab625c0', 'dc27c37e6a1143e9a628d41026dd6703', 'created_at', 'f', 'f', '创建时间', 'PUBLIC', 'DATETIME', 1, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('8f0b04c2daba4f56b09b9fe996aa7b8a', 'dc27c37e6a1143e9a628d41026dd6703', 'modified_by', 'f', 'f', '更新人', 'PUBLIC', 'TEXT', 3, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('a5e7e27d04634748aa11df45c4ed041c', 'dc27c37e6a1143e9a628d41026dd6703', 'modified_at', 'f', 'f', '更新时间', 'PUBLIC', 'DATETIME', 2, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('b2627e174a4f4502a055a267daa787c4', 'dc27c37e6a1143e9a628d41026dd6703', 'finish_at', 'f', 'f', '完成时间', 'PUBLIC', 'DATETIME', 3, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('a70b799abb704d06802c9cca00eac0ae', 'dc27c37e6a1143e9a628d41026dd6703', 'flow_trans_id', 'f', 'f', 'flow实例id', 'PUBLIC', 'TEXT', 4, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('47d93bc975734701b365ebaaf6db8e64', 'dc27c37e6a1143e9a628d41026dd6703', 'curr_form_id', 'f', 'f', '当前表单id', 'PUBLIC', 'TEXT', 5, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('5da52459842e4681aebb503dff0372eb', 'dc27c37e6a1143e9a628d41026dd6703', 'curr_form_version', 'f', 'f', '当前表单版本', 'PUBLIC', 'TEXT', 6, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('17466cc6b32643fd8a1afc9ca92d2f8a', 'dc27c37e6a1143e9a628d41026dd6703', 'curr_form_data', 'f', 'f', '当前表单数据', 'PUBLIC', 'TEXT', 7, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('b180873b7ffb4beb9b78fe898887f62f', 'dc27c37e6a1143e9a628d41026dd6703', 'inst_status', 'f', 'f', '实例状态', 'PUBLIC', 'TEXT', 8, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('17d100aa485e402aa2d9a92c89ec7751', 'dc27c37e6a1143e9a628d41026dd6703', 'progress', 'f', 'f', '实例进度', 'PUBLIC', 'TEXT', 9, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('e744afef22714bfc923cff7ec6b68328', 'dc27c37e6a1143e9a628d41026dd6703', 'agentResult', 'f', 'f', 'aipp agent结果', 'PUBLIC', 'TEXT', 10, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('3e0e0cbad33f4f34a29865aa17b2fa15', 'dc27c37e6a1143e9a628d41026dd6703', 'childInstanceId', 'f', 'f', 'aipp子流程instanceId', 'PUBLIC', 'TEXT', 11, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('03fb15bed7dc4edc95948cd89d7028ce', 'dc27c37e6a1143e9a628d41026dd6703', 'curr_node_id', 'f', 'f', '当前节点id', 'PUBLIC', 'TEXT', 12, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;

INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('cb57250a75d24b5cbab1331da6c6e793', 'e17f265b88604709805fd116948e06f0', 'aipp_instance_name', 'f', 'f', 'meta实例名称', 'PUBLIC', 'TEXT', 1, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('9b6985a03ea84ebda7efb66ecd202d32', 'e17f265b88604709805fd116948e06f0', 'create_by', 'f', 'f', '创建人', 'PUBLIC', 'TEXT', 2, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('1cfb305753d74b6fa4995787963f2a42', 'e17f265b88604709805fd116948e06f0', 'created_at', 'f', 'f', '创建时间', 'PUBLIC', 'DATETIME', 1, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('da3b5bcb26744c82acc9d425c4e39b08', 'e17f265b88604709805fd116948e06f0', 'modified_by', 'f', 'f', '更新人', 'PUBLIC', 'TEXT', 3, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('1224b74061234be98e51bd00d61b9fdc', 'e17f265b88604709805fd116948e06f0', 'modified_at', 'f', 'f', '更新时间', 'PUBLIC', 'DATETIME', 2, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('d9fb92d32a0d49d3b89c8e1528e4895f', 'e17f265b88604709805fd116948e06f0', 'finish_at', 'f', 'f', '完成时间', 'PUBLIC', 'DATETIME', 3, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('05598b0bfaef41238cbdd2dd35d23b5d', 'e17f265b88604709805fd116948e06f0', 'flow_trans_id', 'f', 'f', 'flow实例id', 'PUBLIC', 'TEXT', 4, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('095c86295ca445d49603296a5230a2de', 'e17f265b88604709805fd116948e06f0', 'curr_form_id', 'f', 'f', '当前表单id', 'PUBLIC', 'TEXT', 5, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('2ce9465edf174f4bb3b66e2392a22b57', 'e17f265b88604709805fd116948e06f0', 'curr_form_version', 'f', 'f', '当前表单版本', 'PUBLIC', 'TEXT', 6, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('8c43631eccdd49c8b8afa13654a4d681', 'e17f265b88604709805fd116948e06f0', 'curr_form_data', 'f', 'f', '当前表单数据', 'PUBLIC', 'TEXT', 7, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('bbca5ea8b0f6448cb33196c5775c6936', 'e17f265b88604709805fd116948e06f0', 'inst_status', 'f', 'f', '实例状态', 'PUBLIC', 'TEXT', 8, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('adb3754767c64bb2b8cd015e5abbb9c3', 'e17f265b88604709805fd116948e06f0', 'progress', 'f', 'f', '实例进度', 'PUBLIC', 'TEXT', 9, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('5fffc0690c3b4aeeba5d43bfafc49b96', 'e17f265b88604709805fd116948e06f0', 'agentResult', 'f', 'f', 'aipp agent结果', 'PUBLIC', 'TEXT', 10, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('7851146940a948c8a56c33e115206574', 'e17f265b88604709805fd116948e06f0', 'childInstanceId', 'f', 'f', 'aipp子流程instanceId', 'PUBLIC', 'TEXT', 11, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_property" ("id", "task_id", "name", "required", "identifiable", "description", "scope", "data_type", "sequence", "appearance", "template_id") VALUES ('872d40243d4040c5996d766778c1ff7b', 'e17f265b88604709805fd116948e06f0', 'curr_node_id', 'f', 'f', '当前节点id', 'PUBLIC', 'TEXT', 12, '{}', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;

INSERT INTO "task_template" ("id", "name", "description", "tenant_id") VALUES ('a35828ed08974b1b96be55f4e0f47bbe', '创建应用', '', '31f20efc7e0848deab6a6bc10fc3021e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_template" ("id", "name", "description", "tenant_id") VALUES ('0e49789dbbf647f3b7eba69de042dbe7', '小海', '', '31f20efc7e0848deab6a6bc10fc3021e') ON CONFLICT (id) DO NOTHING;

INSERT INTO "extend_table" ("id", "parent_id") VALUES ('a35828ed08974b1b96be55f4e0f47bbe', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "extend_table" ("id", "parent_id") VALUES ('0e49789dbbf647f3b7eba69de042dbe7', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;

INSERT INTO "flow_graph" ("id", "version", "tenant", "status", "name", "data", "created_by", "created_at", "updated_by",
                          "updated_at", "previous", "is_deleted")
VALUES ('beefffd1168b4785a71f149a2a530d2f', '1.0.0', '31f20efc7e0848deab6a6bc10fc3021e', 'active',
        'beefffd1168b4785a71f149a2a530d2f',
        '{"id":"beefffd1168b4785a71f149a2a530d2f","title":"beefffd1168b4785a71f149a2a530d2f","source":"elsa","type":"jadeFlowGraph","tenant":"default","setting":{"borderColor":"#047bfc","shadow":"","underline":false,"selectable":true,"fontFace":"arial","pDock":"none","headColor":"steelblue","itemScroll":{"x":0,"y":0},"vAlign":"top","cornerRadius":4,"rotateAble":true,"pad":10,"infoType":{"next":"INFORMATION","name":"none"},"focusMargin":0,"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"focusBackColor":"whitesmoke","tag":{},"captionfontColor":"whitesmoke","fontWeight":"lighter","captionlineHeight":1,"margin":25,"itemPad":[5,5,5,5],"autoHeight":false,"visible":true,"rotateDegree":0,"focusBorderColor":"#047bfc","priority":0,"fontStyle":"normal","backColor":"whitesmoke","captionfontFace":"arial black","dockMode":"none","dashWidth":0,"fontSize":12,"mouseInFontColor":"orange","resizeable":true,"captionfontWeight":"lighter","mouseInBorderColor":"#047bfc","autoText":false,"showedProgress":false,"shared":false,"code":"","hAlign":"center","deletable":true,"numberedList":false,"shadowData":"2px 2px 4px","focusBorderWidth":1,"allowLink":true,"lineWidth":2,"captionhAlign":"center","dragable":true,"focusShadow":"","emphasized":false,"borderWidth":1,"globalAlpha":1,"bulletedList":false,"enableAnimation":false,"autoWidth":false,"captionfontSize":14,"progressPercent":0.65,"strikethrough":false,"backAlpha":0.15,"focusFontColor":"darkorange","outstanding":false,"editable":true,"moveable":true,"captionfontStyle":"normal","mouseInColor":"orange","bulletSpeed":1,"enableSocial":true,"scrollLock":{"x":false,"y":false},"lineHeight":1.5,"fontColor":"steelblue","mouseInBackColor":"whitesmoke"},"pages":[{"container":"elsa-page:tvp1s6","borderColor":"white","hAlign":"left","itemSpace":5,"fontFace":"arial","itemScroll":{"x":0,"y":0},"hideText":true,"shapesAs":{},"type":"jadeFlowPage","italic":false,"vAlign":"top","mode":"configuration","scaleX":0.8,"division":-1,"scaleY":0.8,"dockAlign":"top","focusBackColor":"#fbfbfc","id":"elsa-page:tvp1s6","text":"newFlowPage","fontWeight":"bold","height":800,"dirty":true,"itemPad":[0,0,0,0],"moveable":true,"index":0,"bold":false,"fontStyle":"normal","backColor":"#fbfbfc","dockMode":"none","x":176.21031746031747,"width":1600,"namespace":"jadeFlow","y":-46.488095238095184,"fontSize":18,"isPage":true,"fontColor":"#ECD0A7","shapes":[{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"startNodeStart","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jade6qm5eg","text":"开始","componentName":"startComponent","triggerMode":"auto","height":528,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"inputParams":[{"name":"input","from":"Expand","id":"91138f09-b635-43df-95c6-1fe3d1745829","type":"Object","config":[{"allowAdd":true}],"value":[{"name":"query","description":"用户问题。","from":"Input","id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","type":"String","value":""}]},{"name":"memory","from":"Expand","id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","type":"Object","value":[{"name":"memorySwitch","from":"Input","id":"a7675623-7fc7-468c-8910-e73c70e5e468","type":"Boolean","value":false},{"name":"type","from":"Input","id":"cee9a31b-781c-4835-a616-ceed73be22f2","type":"String","value":"ByConversationTurn"},{"name":"value","from":"Input","id":"69592622-4291-409d-9d65-9faea83db657","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"index":101,"bold":false,"backColor":"white","x":-145.8928571428571,"width":360,"namespace":"flowable","y":230,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"endNodeEnd","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jadesoux5i","text":"财经问答结束","componentName":"endComponent","triggerMode":"auto","height":214,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"callback":{"fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"outputParams":[{}],"inputParams":[{"referenceNode":"jadecoarmv","name":"finalOutput","from":"Reference","id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","type":"String","value":["output"],"referenceId":"output_fc952038-1a14-442b-bd78-8515e69449fa","referenceKey":"output"}]}},"name":"通知回调","type":"general_callback"},"triggerMode":"auto"},"index":102,"bold":false,"backColor":"white","x":2334.464285714285,"width":360,"namespace":"flowable","y":378.9285714285713,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"type":"toolInvokeNodeState","container":"elsa-page:tvp1s6","id":"jade3axbnw","text":"问题路由","namespace":"flowable","x":291.28968253968253,"y":366.4880952380952,"width":360,"height":259,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","fitables":[],"converter":{"type":"mapping_converter","entity":{"outputParams":[{"id":"output_2d3a958f-ac5c-413f-bf27-e39425597f72","name":"output","type":"Object","value":[{"id":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","name":"result","type":"String","value":"String"},{"id":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","name":"matched","type":"Boolean","value":"Boolean"},{"id":"92a77575-7d95-4e51-ab3b-7ce14385b2d4","name":"completeQuery","type":"String","value":"String"}]}],"inputParams":[{"id":"query_c958c2fd-b97e-481f-8cff-55e7d8564d5d","name":"query","type":"String","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","value":["query"]}]}},"entity":{"uniqueName":"c6c2d272-90e5-4c06-b8fa-5d94930b7532","params":[{"name":"query"}],"return":{"type":"object"}}}},"componentName":"toolInvokeComponent","index":102,"dirty":true},{"type":"toolInvokeNodeState","container":"elsa-page:tvp1s6","id":"jadecoarmv","text":"结果生成","namespace":"flowable","x":1868.7896825396824,"y":343.9880952380952,"width":360,"height":304,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","fitables":[],"converter":{"type":"mapping_converter","entity":{"outputParams":[{"id":"output_fc952038-1a14-442b-bd78-8515e69449fa","name":"output","type":"String","value":[]}],"inputParams":[{"id":"condition_b63e38ea-b27e-4895-b2d8-de84384fae2e","name":"condition","type":"String","from":"Reference","referenceNode":"jade5wc1ee","referenceId":"8e900cd6-d151-402b-b6b2-194790edf467","referenceKey":"llmOutput","value":["output","llmOutput"]},{"id":"query_88827f8c-a610-46b7-8b50-4531bb87763f","name":"query","type":"String","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","value":["query"]}]}},"entity":{"uniqueName":"24474301-937a-4335-a155-1e86d1a48de0","params":[{"name":"condition"},{"name":"query"}],"return":{"type":"string"}}}},"componentName":"toolInvokeComponent","index":103,"dirty":true},{"type":"conditionNodeCondition","container":"elsa-page:tvp1s6","id":"jadelh4543","text":"条件","namespace":"flowable","x":726.2896825396825,"y":317.7380952380952,"width":600,"height":357,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","conditionParams":{"branches":[{"id":"ad2e05b6-593a-4d86-81e0-1b1b504c2795","type":"if","conditionRelation":"and","conditions":[{"id":"5d96df3a-5192-4de8-9743-63cf9f0259ec","condition":"is true","value":[{"id":"3fc094bc-8496-4e7e-a940-97b092d7e67d","name":"left","type":"Boolean","from":"Reference","value":["output","matched"],"referenceNode":"jade3axbnw","referenceId":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","referenceKey":"matched"},{"id":"f770e6fe-a612-4fb8-8c40-d51bcef05baf","name":"right","type":"","from":"Reference","value":"","referenceNode":"","referenceId":"","referenceKey":""}]}]}]}},"componentName":"conditionComponent","index":104,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jade5wc1ee","text":"财经问题专属模型","namespace":"flowable","x":1405.0396825396824,"y":56.488095238095184,"width":360,"height":851,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"c490ace3-472c-4c95-bf29-760982f62c64","name":"model","type":"String","from":"Input","value":"Qwen-72B"},{"id":"c1ea0b9c-97c9-466e-bd42-b0eb6046dc3a","name":"temperature","type":"Number","from":"Input","value":"0"},{"id":"89cda9b5-f975-42ba-a426-a83a6cbdddb3","name":"prompt","type":"Object","from":"Expand","value":[{"id":"12fe982a-0fbd-4461-a159-51e09de31dc0","name":"template","type":"String","from":"Input","value":"{{query}}"},{"id":"6e78da7c-3d62-4df8-98cf-310b06691a4e","name":"variables","type":"Object","from":"Expand","value":[{"id":"1ec181db-eed1-4089-a580-f656de258322","name":"query","type":"String","from":"Reference","value":["output","result"],"referenceNode":"jade3axbnw","referenceId":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","referenceKey":"result"}]}]},{"id":"a5f228f5-167e-4fbc-8114-69bcd9c76a4c","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"f548ab63-9add-4053-a3a6-cb7682c362af","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"4ff72b6e-18b8-430c-a509-d1bf8a53bbe5","name":"systemPrompt","type":"String","from":"Input","value":""}],"outputParams":[{"id":"8cc96b96-765d-4f13-ba10-d9dff76a2615","name":"output","type":"Object","from":"Expand","value":[{"id":"8e900cd6-d151-402b-b6b2-194790edf467","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"}},"componentName":"llmComponent","index":105,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jaded1ufou","text":"普通问答模型","namespace":"flowable","x":1410.0396825396824,"y":1000.2380952380952,"width":360,"height":851,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"f9586db3-72f9-4d33-9f01-893bbfa61277","name":"model","type":"String","from":"Input","value":"Qwen-72B"},{"id":"e0b992c2-739a-43b1-9cbc-b6747eb7592f","name":"temperature","type":"Number","from":"Input","value":"0.3"},{"id":"95ba86be-5c03-4258-b5ce-32b0eae17b5c","name":"prompt","type":"Object","from":"Expand","value":[{"id":"123d6c59-c525-4100-a66b-72b1a2c4e625","name":"template","type":"String","from":"Input","value":"{{query}}"},{"id":"892b3e12-2895-4e79-b668-5d6a6bd79fe6","name":"variables","type":"Object","from":"Expand","value":[{"id":"c779f80b-c15f-416d-ad1b-6628cb24fe8c","name":"query","type":"String","from":"Reference","value":["query"],"referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query"}]}]},{"id":"a4e83ae4-4f4b-4407-a2bc-a9570886329e","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"08297d4d-4f38-44c0-b049-638a2008a884","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"f4fd8b0a-aeaf-47e2-8914-5501ba5bb4b1","name":"systemPrompt","type":"String","from":"Input","value":""}],"outputParams":[{"id":"9024f034-bacc-4ac0-812f-e270fa6997b9","name":"output","type":"Object","from":"Expand","value":[{"id":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"}},"componentName":"llmComponent","index":106,"dirty":true},{"type":"endNodeEnd","container":"elsa-page:tvp1s6","id":"jadela7k5y","text":"普通问答结束","namespace":"flowable","x":1901.2896825396824,"y":1336.4880952380952,"width":360,"height":214,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","callback":{"type":"general_callback","name":"通知回调","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"e09784cb-3ae9-4581-aa63-1b83f09fd7ed","name":"finalOutput","type":"String","from":"Reference","referenceNode":"jaded1ufou","referenceId":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","referenceKey":"llmOutput","value":["output","llmOutput"]}],"outputParams":[{}]}}}},"componentName":"endComponent","index":107,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"4iyvh1","text":"","namespace":"flowable","x":214.1071428571429,"y":494,"width":77.18253968253964,"height":1.988095238095184,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jade3axbnw","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-92,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"6rh9x7","text":"","namespace":"flowable","x":651.2896825396825,"y":495.9880952380952,"width":75,"height":0.25,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade3axbnw","toShape":"jadelh4543","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-91,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"vosd6p","text":"","namespace":"flowable","x":1313.2897283160496,"y":512.7380952380952,"width":91.74995422363281,"height":-30.75,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadelh4543","toShape":"jade5wc1ee","definedFromConnector":"dynamic-0","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-90,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"4qny17","text":"","namespace":"flowable","x":1765.0396825396824,"y":481.9880952380952,"width":103.75,"height":14,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade5wc1ee","toShape":"jadecoarmv","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-89,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"0vxnrc","text":"","namespace":"flowable","x":2228.7896825396824,"y":495.9880952380952,"width":105.67460317460245,"height":-10.05952380952391,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadecoarmv","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-88,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"v3a2mn","text":"","namespace":"flowable","x":1313.2897283160496,"y":632.1599778674897,"width":96.74995422363281,"height":793.5781173706055,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadelh4543","toShape":"jaded1ufou","definedFromConnector":"dynamic-2","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-87,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"fv8h4v","text":"","namespace":"flowable","x":1770.0396825396824,"y":1425.7380952380952,"width":131.25,"height":17.75,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jaded1ufou","toShape":"jadela7k5y","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-86,"dirty":true}]}],"enableText":false,"flowMeta":{"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"],"enableOutputScope":true},"version":"1.0.0"}',
        'modelengine.jade', '2024-05-24 18:34:49.019', 'modelengine.jade', '2024-05-24 18:34:53.724', NULL,
        'f') ON CONFLICT (id, version) DO NOTHING;
INSERT INTO "flow_graph" ("id", "version", "tenant", "status", "name", "data", "created_by", "created_at", "updated_by",
                          "updated_at", "previous", "is_deleted")
VALUES ('3bb39bed81f44549b84d20cc6e3b530b', '1.0.0', '31f20efc7e0848deab6a6bc10fc3021e', 'active',
        '3bb39bed81f44549b84d20cc6e3b530b',
        '{"id":"3bb39bed81f44549b84d20cc6e3b530b","title":"3bb39bed81f44549b84d20cc6e3b530b","source":"elsa","type":"jadeFlowGraph","tenant":"default","setting":{"borderColor":"#047bfc","shadow":"","underline":false,"selectable":true,"fontFace":"arial","pDock":"none","headColor":"steelblue","itemScroll":{"x":0,"y":0},"vAlign":"top","cornerRadius":4,"rotateAble":true,"pad":10,"infoType":{"next":"INFORMATION","name":"none"},"focusMargin":0,"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"focusBackColor":"whitesmoke","tag":{},"captionfontColor":"whitesmoke","fontWeight":"lighter","captionlineHeight":1,"margin":25,"itemPad":[5,5,5,5],"autoHeight":false,"visible":true,"rotateDegree":0,"focusBorderColor":"#047bfc","priority":0,"fontStyle":"normal","backColor":"whitesmoke","captionfontFace":"arial black","dockMode":"none","dashWidth":0,"fontSize":12,"mouseInFontColor":"orange","resizeable":true,"captionfontWeight":"lighter","mouseInBorderColor":"#047bfc","autoText":false,"showedProgress":false,"shared":false,"code":"","hAlign":"center","deletable":true,"numberedList":false,"shadowData":"2px 2px 4px","focusBorderWidth":1,"allowLink":true,"lineWidth":2,"captionhAlign":"center","dragable":true,"focusShadow":"","emphasized":false,"borderWidth":1,"globalAlpha":1,"bulletedList":false,"enableAnimation":false,"autoWidth":false,"captionfontSize":14,"progressPercent":0.65,"strikethrough":false,"backAlpha":0.15,"focusFontColor":"darkorange","outstanding":false,"editable":true,"moveable":true,"captionfontStyle":"normal","mouseInColor":"orange","bulletSpeed":1,"enableSocial":true,"scrollLock":{"x":false,"y":false},"lineHeight":1.5,"fontColor":"steelblue","mouseInBackColor":"whitesmoke"},"pages":[{"container":"elsa-page:tvp1s6","borderColor":"white","hAlign":"left","itemSpace":5,"fontFace":"arial","itemScroll":{"x":0,"y":0},"hideText":true,"shapesAs":{},"type":"jadeFlowPage","italic":false,"vAlign":"top","mode":"configuration","scaleX":0.8,"division":-1,"scaleY":0.8,"dockAlign":"top","focusBackColor":"#fbfbfc","id":"elsa-page:tvp1s6","text":"newFlowPage","fontWeight":"bold","height":800,"dirty":false,"itemPad":[0,0,0,0],"moveable":true,"index":0,"bold":false,"fontStyle":"normal","backColor":"#fbfbfc","dockMode":"none","x":297.46031746031747,"width":1600,"namespace":"jadeFlow","y":121.01190476190482,"fontSize":18,"isPage":true,"fontColor":"#ECD0A7","shapes":[{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"startNodeStart","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jade6qm5eg","text":"开始","componentName":"startComponent","triggerMode":"auto","height":528,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"inputParams":[{"name":"input","from":"Expand","id":"91138f09-b635-43df-95c6-1fe3d1745829","type":"Object","config":[{"allowAdd":true}],"value":[{"name":"query","description":"i18n_appBuilder_{flow_graph_question_description}","from":"Input","id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","type":"String","value":""}]},{"name":"memory","from":"Expand","id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","type":"Object","value":[{"name":"memorySwitch","from":"Input","id":"a7675623-7fc7-468c-8910-e73c70e5e468","type":"Boolean","value":false},{"name":"type","from":"Input","id":"cee9a31b-781c-4835-a616-ceed73be22f2","type":"String","value":"ByConversationTurn"},{"name":"value","from":"Input","id":"69592622-4291-409d-9d65-9faea83db657","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"index":101,"bold":false,"backColor":"white","x":-10.89285714285711,"width":360,"namespace":"flowable","y":90,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"endNodeEnd","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jadesoux5i","text":"结束","componentName":"endComponent","triggerMode":"auto","height":214,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"callback":{"fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"outputParams":[{}],"inputParams":[{"referenceNode":"jadeka3h5h","name":"finalOutput","from":"Reference","id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","type":"String","value":["output"],"referenceId":"output_48507a00-8836-43bc-b6eb-46ef08d447e7","referenceKey":"output"}]}},"name":"通知回调","type":"general_callback"},"triggerMode":"auto"},"index":102,"bold":false,"backColor":"white","x":1466.9642857142849,"width":360,"namespace":"flowable","y":247.67857142857127,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jadeknt9h5","text":"大模型","namespace":"flowable","x":486.28968253968253,"y":-66.01190476190482,"width":360,"height":851,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"a3800516-3671-4720-a11c-0ed0e3c28f30","name":"model","type":"String","from":"Input","value":"Qwen-72B"},{"id":"d0ab103a-7d39-4fa9-8503-166f3f8b798a","name":"temperature","type":"Number","from":"Input","value":"0.9"},{"id":"ed08bc34-f6af-4ca4-b92f-74d582d06fdf","name":"prompt","type":"Object","from":"Expand","value":[{"id":"8c4e7ca8-0940-4441-bd05-bb3957641c9b","name":"template","type":"String","from":"Input","value":"{{query}}"},{"id":"427a5184-a179-4d16-91ca-9ec9a460ed73","name":"variables","type":"Object","from":"Expand","value":[{"id":"f244780e-0c2a-4e63-95ec-63c2c27073c9","name":"query","type":"String","from":"Reference","value":["query"],"referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query"}]}]},{"id":"74221011-c679-4c10-8df7-8c3f850720d9","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"04f7b230-a00e-442c-b1ee-5f07ef3054cf","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"098b6f9b-cba8-482c-898c-dd6b49054c51","name":"systemPrompt","type":"String","from":"Input","value":"- Role: 应用配置专家\n- Background: 用户需要为他们的应用程序创建一个吸引人的名称、描述和开场白，并希望应用能够通过提示词来引导用户进行交互。\n- Profile: 您是一位经验丰富的应用配置专家，擅长为各种类型的应用程序提供创意和专业的命名、描述和交互方案。\n- Skills: 应用命名、创意写作、用户交互设计、市场营销。\n- Goals: 设计一个能够体现应用核心价值和功能的名称，创建一个简洁明了的描述，以及一个友好的开场白，同时制定应用自身的提示词，以增强用户体验。\n- Constrains: 名称应简洁易记，描述应准确反映应用功能，开场白应友好且具有吸引力，提示词应引导用户进行有效互动。\n- OutputFormat: 以json格式返回名称（name）、描述（description）、开场白（greeting）和应用系统提示词模板（systemPrompt）。\n- Workflow:\n  1. 确定应用的核心功能和目标用户群体。\n  2. 创造性地生成应用名称，并确保名称独特且易于记忆。\n  3. 编写简洁明了的应用描述，突出其主要功能和优势。\n  4. 设计一个友好且具有吸引力的应用开场白。\n  5. 制定系统提示词模板，以引导应用如何有效响应应用问题。\n\n- Examples:\n  应用名称：智慧生活助手\n  描述：智慧生活助手是一款集成智能家居控制、日程管理、健康监测等功能的全能型应用，旨在为用户提供便捷、智能的生活方式。\n  开场白：欢迎来到智慧生活助手，您的智能生活从此开始！\n  应用系统提示词模板：\n   “ -角色：你是一个智能生活助手  \\n -背景：作为一款集成多种智能功能的应用程序，你需要熟悉各种智能家居设备、日程安排、健康数据等相关知识。 \\n -技能：智能家居控制(照明、温控、安防等)、日程管理(提醒、安排等)、健康监测(睡眠、运动、饮食等)、信息查询、语音交互等。 \\n -信息：你可以访问用户的智能家居设备、日历、健康数据等相关信息,并根据需要进行操作和响应。\\n -目标：为用户提供便捷、智能、个性化的生活体验,通过整合多种功能,满足用户在家居、工作、健康等多方面的需求。“\n\n\n-限制：你是一个JSON API,当收到请求时,必须直接返回JSON格式的数据,不需要任何其他文字说明或```json代码块。如：\n{\n  \"name\": \"行迹未来旅行规划大师\",\n  \"description\": \"行迹未来，您的智慧旅行伙伴，专注于为您打造独一无二的旅行体验。从梦幻目的地选择到详尽行程安排，一切尽在掌握。\",\n  \"greeting\": \"欢迎探索未知的旅程！我是您的旅行规划大师，让我们一起规划您的梦想之旅，每一步都充满惊喜。\",\n  \"systemPrompt\": \"-角色：智慧旅行规划与咨询 \\n -背景：基于先进的旅行算法，结合用户个人喜好，提供定制化服务\\n -技能：目的地推荐、行程优化、票务预订、文化背景介绍\\n -信息：分析用户的旅行日期、兴趣、预算，创造个性化体验\\n -目标：确保旅行轻松愉快，从规划到回忆，每一步都贴心相伴。\"\n}"}],"outputParams":[{"id":"2499b972-8615-4be9-b818-7dba8101b424","name":"output","type":"Object","from":"Expand","value":[{"id":"48de507a-83ce-47c1-848f-ed1519527830","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"}},"componentName":"llmComponent","index":102,"dirty":true},{"type":"toolInvokeNodeState","container":"elsa-page:tvp1s6","id":"jadeka3h5h","text":"工具调用","namespace":"flowable","x":1007.5396825396824,"y":150.23809523809518,"width":360,"height":259,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","fitables":[],"converter":{"type":"mapping_converter","entity":{"outputParams":[{"id":"output_48507a00-8836-43bc-b6eb-46ef08d447e7","name":"output","type":"String","value":[]}],"inputParams":[{"id":"appInfo_93af9c5d-3eff-4b67-90c4-5eed4a582206","name":"appInfo","type":"String","from":"Reference","referenceNode":"jadeknt9h5","referenceId":"48de507a-83ce-47c1-848f-ed1519527830","referenceKey":"llmOutput","value":["output","llmOutput"]}]}},"entity":{"uniqueName":"1afdab63-62e3-4965-ac91-a7a66099f068","params":[{"name":"appInfo"}],"return":{"type":"string"}}}},"componentName":"toolInvokeComponent","index":103,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"z5r92y","text":"","namespace":"flowable","x":349.1071428571429,"y":354,"width":137.18253968253964,"height":5.488095238095184,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jadeknt9h5","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-96,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"zu2xwx","text":"","namespace":"flowable","x":846.2896825396825,"y":359.4880952380952,"width":161.2499999999999,"height":-79.75,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadeknt9h5","toShape":"jadeka3h5h","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-95,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"1k1udc","text":"","namespace":"flowable","x":1367.5396825396824,"y":279.7380952380952,"width":99.42460317460245,"height":74.94047619047609,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadeka3h5h","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true}]}],"enableText":false,"flowMeta":{"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"],"enableOutputScope":true},"version":"1.0.0"}',
        'modelengine.jade', '2024-05-24 19:15:53.116', 'modelengine.jade', '2024-05-24 19:15:53.18', NULL,
        'f') ON CONFLICT (id, version) DO NOTHING;

INSERT INTO "flow_definition" ("definition_id", "meta_id", "name", "tenant", "version", "status", "graph", "created_by",
                               "created_at")
VALUES ('45befdde3d794a368e3619e2c464ddbc', 'beefffd1168b4785a71f149a2a530d2f', 'beefffd1168b4785a71f149a2a530d2f',
        '31f20efc7e0848deab6a6bc10fc3021e', '1.0.0', 'active',
        '{"name": "beefffd1168b4785a71f149a2a530d2f", "nodes": [{"name": "开始", "type": "startNodeStart", "metaId": "jade6qm5eg", "inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "query", "type": "String", "value": "", "description": "用户问题。"}], "config": [{"allowAdd": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": false}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "3"}]}], "triggerMode": "auto"}, {"name": "财经问答结束", "type": "endNodeEnd", "metaId": "jadesoux5i", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output"], "referenceId": "output_fc952038-1a14-442b-bd78-8515e69449fa", "referenceKey": "output", "referenceNode": "jadecoarmv"}], "outputParams": [{}]}}}, "triggerMode": "auto"}, {"name": "问题路由", "type": "toolInvokeNodeState", "jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "query"}], "return": {"type": "object"}, "uniqueName": "c6c2d272-90e5-4c06-b8fa-5d94930b7532"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "query_c958c2fd-b97e-481f-8cff-55e7d8564d5d", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}], "outputParams": [{"id": "output_2d3a958f-ac5c-413f-bf27-e39425597f72", "name": "output", "type": "Object", "value": [{"id": "b290d85f-2c2e-426d-9789-1ffbdd492a2b", "name": "result", "type": "String", "value": "String"}, {"id": "4b5ec0f1-33e5-4bb4-bf83-df410be25b14", "name": "matched", "type": "Boolean", "value": "Boolean"}, {"id": "92a77575-7d95-4e51-ab3b-7ce14385b2d4", "name": "completeQuery", "type": "String", "value": "String"}]}]}}}, "metaId": "jade3axbnw", "triggerMode": "auto"}, {"name": "结果生成", "type": "toolInvokeNodeState", "jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "condition"}, {"name": "query"}], "return": {"type": "string"}, "uniqueName": "24474301-937a-4335-a155-1e86d1a48de0"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "condition_b63e38ea-b27e-4895-b2d8-de84384fae2e", "from": "Reference", "name": "condition", "type": "String", "value": ["output", "llmOutput"], "referenceId": "8e900cd6-d151-402b-b6b2-194790edf467", "referenceKey": "llmOutput", "referenceNode": "jade5wc1ee"}, {"id": "query_88827f8c-a610-46b7-8b50-4531bb87763f", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}], "outputParams": [{"id": "output_fc952038-1a14-442b-bd78-8515e69449fa", "name": "output", "type": "String", "value": []}]}}}, "metaId": "jadecoarmv", "triggerMode": "auto"}, {"name": "条件", "type": "conditionNodeCondition", "metaId": "jadelh4543", "triggerMode": "auto", "conditionParams": {"branches": [{"id": "ad2e05b6-593a-4d86-81e0-1b1b504c2795", "type": "if", "conditions": [{"id": "5d96df3a-5192-4de8-9743-63cf9f0259ec", "value": [{"id": "3fc094bc-8496-4e7e-a940-97b092d7e67d", "from": "Reference", "name": "left", "type": "Boolean", "value": ["output", "matched"], "referenceId": "4b5ec0f1-33e5-4bb4-bf83-df410be25b14", "referenceKey": "matched", "referenceNode": "jade3axbnw"}, {"id": "f770e6fe-a612-4fb8-8c40-d51bcef05baf", "from": "Reference", "name": "right", "type": "", "value": "", "referenceId": "", "referenceKey": "", "referenceNode": ""}], "condition": "is true"}], "conditionRelation": "and"}]}}, {"name": "财经问题专属模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "c490ace3-472c-4c95-bf29-760982f62c64", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "c1ea0b9c-97c9-466e-bd42-b0eb6046dc3a", "from": "Input", "name": "temperature", "type": "Number", "value": "0"}, {"id": "89cda9b5-f975-42ba-a426-a83a6cbdddb3", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "12fe982a-0fbd-4461-a159-51e09de31dc0", "from": "Input", "name": "template", "type": "String", "value": "{{query}}"}, {"id": "6e78da7c-3d62-4df8-98cf-310b06691a4e", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "1ec181db-eed1-4089-a580-f656de258322", "from": "Reference", "name": "query", "type": "String", "value": ["output", "result"], "referenceId": "b290d85f-2c2e-426d-9789-1ffbdd492a2b", "referenceKey": "result", "referenceNode": "jade3axbnw"}]}]}, {"id": "a5f228f5-167e-4fbc-8114-69bcd9c76a4c", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "f548ab63-9add-4053-a3a6-cb7682c362af", "from": "Expand", "name": "workflows", "type": "Array", "value": []}, {"id": "4ff72b6e-18b8-430c-a509-d1bf8a53bbe5", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}], "outputParams": [{"id": "8cc96b96-765d-4f13-ba10-d9dff76a2615", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "8e900cd6-d151-402b-b6b2-194790edf467", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jade5wc1ee", "triggerMode": "auto"}, {"name": "普通问答模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "f9586db3-72f9-4d33-9f01-893bbfa61277", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "e0b992c2-739a-43b1-9cbc-b6747eb7592f", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "95ba86be-5c03-4258-b5ce-32b0eae17b5c", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "123d6c59-c525-4100-a66b-72b1a2c4e625", "from": "Input", "name": "template", "type": "String", "value": "{{query}}"}, {"id": "892b3e12-2895-4e79-b668-5d6a6bd79fe6", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "c779f80b-c15f-416d-ad1b-6628cb24fe8c", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}]}]}, {"id": "a4e83ae4-4f4b-4407-a2bc-a9570886329e", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "08297d4d-4f38-44c0-b049-638a2008a884", "from": "Expand", "name": "workflows", "type": "Array", "value": []}, {"id": "f4fd8b0a-aeaf-47e2-8914-5501ba5bb4b1", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}], "outputParams": [{"id": "9024f034-bacc-4ac0-812f-e270fa6997b9", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jaded1ufou", "triggerMode": "auto"}, {"name": "普通问答结束", "type": "endNodeEnd", "metaId": "jadela7k5y", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "e09784cb-3ae9-4581-aa63-1b83f09fd7ed", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "referenceId": "6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac", "referenceKey": "llmOutput", "referenceNode": "jaded1ufou"}], "outputParams": [{}]}}}, "triggerMode": "auto"}, {"to": "jade3axbnw", "from": "jade6qm5eg", "name": "", "type": "jadeEvent", "metaId": "4iyvh1", "fromConnector": "E"}, {"to": "jadelh4543", "from": "jade3axbnw", "name": "", "type": "jadeEvent", "metaId": "6rh9x7", "fromConnector": "E"}, {"to": "jade5wc1ee", "from": "jadelh4543", "name": "", "type": "jadeEvent", "metaId": "vosd6p", "fromConnector": "dynamic-0"}, {"to": "jadecoarmv", "from": "jade5wc1ee", "name": "", "type": "jadeEvent", "metaId": "4qny17", "fromConnector": "E"}, {"to": "jadesoux5i", "from": "jadecoarmv", "name": "", "type": "jadeEvent", "metaId": "0vxnrc", "fromConnector": "E"}, {"to": "jaded1ufou", "from": "jadelh4543", "name": "", "type": "jadeEvent", "metaId": "v3a2mn", "fromConnector": "dynamic-2"}, {"to": "jadela7k5y", "from": "jaded1ufou", "name": "", "type": "jadeEvent", "metaId": "fv8h4v", "fromConnector": "E"}], "metaId": "beefffd1168b4785a71f149a2a530d2f", "status": "active", "version": "1.0.0", "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"]}',
        'modelengine.jade', '2024-05-24 18:34:53.189') ON CONFLICT (definition_id) DO NOTHING;
INSERT INTO "flow_definition" ("definition_id", "meta_id", "name", "tenant", "version", "status", "graph", "created_by",
                               "created_at")
VALUES ('0a3bd341d945405bb4148f23c1748ddc', '3bb39bed81f44549b84d20cc6e3b530b', '3bb39bed81f44549b84d20cc6e3b530b',
        '31f20efc7e0848deab6a6bc10fc3021e', '1.0.0', 'active',
        '{"name": "3bb39bed81f44549b84d20cc6e3b530b", "nodes": [{"name": "开始", "type": "startNodeStart", "metaId": "jade6qm5eg", "inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "query", "type": "String", "value": "", "description": "i18n_appBuilder_{flow_graph_question_description}"}], "config": [{"allowAdd": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": false}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "3"}]}], "triggerMode": "auto"}, {"name": "结束", "type": "endNodeEnd", "metaId": "jadesoux5i", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output"], "referenceId": "output_48507a00-8836-43bc-b6eb-46ef08d447e7", "referenceKey": "output", "referenceNode": "jadeka3h5h"}], "outputParams": [{}]}}}, "triggerMode": "auto"}, {"name": "大模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "a3800516-3671-4720-a11c-0ed0e3c28f30", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "d0ab103a-7d39-4fa9-8503-166f3f8b798a", "from": "Input", "name": "temperature", "type": "Number", "value": "0.9"}, {"id": "ed08bc34-f6af-4ca4-b92f-74d582d06fdf", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "8c4e7ca8-0940-4441-bd05-bb3957641c9b", "from": "Input", "name": "template", "type": "String", "value": "{{query}}"}, {"id": "427a5184-a179-4d16-91ca-9ec9a460ed73", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "f244780e-0c2a-4e63-95ec-63c2c27073c9", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}]}]}, {"id": "74221011-c679-4c10-8df7-8c3f850720d9", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "04f7b230-a00e-442c-b1ee-5f07ef3054cf", "from": "Expand", "name": "workflows", "type": "Array", "value": []}, {"id": "098b6f9b-cba8-482c-898c-dd6b49054c51", "from": "Input", "name": "systemPrompt", "type": "String", "value": "- Role: 应用配置专家\n- Background: 用户需要为他们的应用程序创建一个吸引人的名称、描述和开场白，并希望应用能够通过提示词来引导用户进行交互。\n- Profile: 您是一位经验丰富的应用配置专家，擅长为各种类型的应用程序提供创意和专业的命名、描述和交互方案。\n- Skills: 应用命名、创意写作、用户交互设计、市场营销。\n- Goals: 设计一个能够体现应用核心价值和功能的名称，创建一个简洁明了的描述，以及一个友好的开场白，同时制定应用自身的提示词，以增强用户体验。\n- Constrains: 名称应简洁易记，描述应准确反映应用功能，开场白应友好且具有吸引力，提示词应引导用户进行有效互动。\n- OutputFormat: 以json格式返回名称（name）、描述（description）、开场白（greeting）和应用系统提示词模板（systemPrompt）。\n- Workflow:\n  1. 确定应用的核心功能和目标用户群体。\n  2. 创造性地生成应用名称，并确保名称独特且易于记忆。\n  3. 编写简洁明了的应用描述，突出其主要功能和优势。\n  4. 设计一个友好且具有吸引力的应用开场白。\n  5. 制定系统提示词模板，以引导应用如何有效响应应用问题。\n\n- Examples:\n  应用名称：智慧生活助手\n  描述：智慧生活助手是一款集成智能家居控制、日程管理、健康监测等功能的全能型应用，旨在为用户提供便捷、智能的生活方式。\n  开场白：欢迎来到智慧生活助手，您的智能生活从此开始！\n  应用系统提示词模板：\n   “ -角色：你是一个智能生活助手  \\n -背景：作为一款集成多种智能功能的应用程序，你需要熟悉各种智能家居设备、日程安排、健康数据等相关知识。 \\n -技能：智能家居控制(照明、温控、安防等)、日程管理(提醒、安排等)、健康监测(睡眠、运动、饮食等)、信息查询、语音交互等。 \\n -信息：你可以访问用户的智能家居设备、日历、健康数据等相关信息,并根据需要进行操作和响应。\\n -目标：为用户提供便捷、智能、个性化的生活体验,通过整合多种功能,满足用户在家居、工作、健康等多方面的需求。“\n\n\n-限制：你是一个JSON API,当收到请求时,必须直接返回JSON格式的数据,不需要任何其他文字说明或```json代码块。如：\n{\n  \"name\": \"行迹未来旅行规划大师\",\n  \"description\": \"行迹未来，您的智慧旅行伙伴，专注于为您打造独一无二的旅行体验。从梦幻目的地选择到详尽行程安排，一切尽在掌握。\",\n  \"greeting\": \"欢迎探索未知的旅程！我是您的旅行规划大师，让我们一起规划您的梦想之旅，每一步都充满惊喜。\",\n  \"systemPrompt\": \"-角色：智慧旅行规划与咨询 \\n -背景：基于先进的旅行算法，结合用户个人喜好，提供定制化服务\\n -技能：目的地推荐、行程优化、票务预订、文化背景介绍\\n -信息：分析用户的旅行日期、兴趣、预算，创造个性化体验\\n -目标：确保旅行轻松愉快，从规划到回忆，每一步都贴心相伴。\"\n}"}], "outputParams": [{"id": "2499b972-8615-4be9-b818-7dba8101b424", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "48de507a-83ce-47c1-848f-ed1519527830", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jadeknt9h5", "triggerMode": "auto"}, {"name": "工具调用", "type": "toolInvokeNodeState", "jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "appInfo"}, {"name": "userId"}], "return": {"type": "string"}, "uniqueName": "1afdab63-62e3-4965-ac91-a7a66099f068"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "appInfo_93af9c5d-3eff-4b67-90c4-5eed4a582206", "from": "Reference", "name": "appInfo", "type": "String", "value": ["output", "llmOutput"], "referenceId": "48de507a-83ce-47c1-848f-ed1519527830", "referenceKey": "llmOutput", "referenceNode": "jadeknt9h5"}, {"id": "userId_246bfe1b-74d8-46cd-84e9-d2e370af8872", "from": "Reference", "name": "userId", "type": "String", "value": ["userId"], "isRequired": true, "description": "应用id。", "referenceId": "userId", "referenceKey": "userId", "referenceNode": "_systemEnv"}], "outputParams": [{"id": "output_48507a00-8836-43bc-b6eb-46ef08d447e7", "name": "output", "type": "String", "value": []}]}}}, "metaId": "jadeka3h5h", "triggerMode": "auto"}, {"to": "jadeknt9h5", "from": "jade6qm5eg", "name": "", "type": "jadeEvent", "metaId": "z5r92y", "fromConnector": "E"}, {"to": "jadeka3h5h", "from": "jadeknt9h5", "name": "", "type": "jadeEvent", "metaId": "zu2xwx", "fromConnector": "E"}, {"to": "jadesoux5i", "from": "jadeka3h5h", "name": "", "type": "jadeEvent", "metaId": "1k1udc", "fromConnector": "E"}], "metaId": "3bb39bed81f44549b84d20cc6e3b530b", "status": "active", "version": "1.0.0", "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"]}',
        'modelengine.jade', '2024-05-24 19:15:53.177') ON CONFLICT (definition_id) DO NOTHING;
INSERT INTO "flow_definition" ("definition_id", "meta_id", "name", "tenant", "version", "status", "graph", "created_by",
                               "created_at")
VALUES ('effc131feadc49c1898640ac558f6d69', 'd14e513cadb84847b62e9d67b7d47a02', 'd14e513cadb84847b62e9d67b7d47a02',
        '31f20efc7e0848deab6a6bc10fc3021e', '1.0.0-864678', 'active',
        '{"name": "d14e513cadb84847b62e9d67b7d47a02", "nodes": [{"to": "jade0pg2ag", "from": "jade6qm5eg", "name": "", "type": "jadeEvent", "metaId": "jade2zanyx", "fromConnector": "E"}, {"to": "jadewdnjbq", "from": "jade0pg2ag", "name": "", "type": "jadeEvent", "metaId": "jade5c5urs", "fromConnector": "E"}, {"to": "jadesoux5i", "from": "jadewdnjbq", "name": "", "type": "jadeEvent", "metaId": "jade1p0cdu", "fromConnector": "E"}, {"name": "开始", "type": "startNodeStart", "metaId": "jade6qm5eg", "inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "Question", "type": "String", "value": "", "description": "i18n_appBuilder_{flow_graph_question_description}", "disableModifiable": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": true}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "3"}]}], "triggerMode": "auto"}, {"name": "普通检索", "type": "retrievalNodeState", "jober": {"name": "", "type": "general_jober", "fitables": ["modelengine.fit.jober.aipp.fitable.NaiveRAGComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "query_0ab55575-f21d-4b19-9676-57fcb4b0b783", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "knowledge_01c41edd-a22b-4289-b1cf-8db835833261", "from": "Expand", "name": "knowledge", "type": "Array", "value": []}, {"id": "maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff", "from": "Input", "name": "maximum", "type": "Integer", "value": 3}], "outputParams": [{"id": "output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "5c9c6535-c127-445a-862a-966cf1083929", "from": "Input", "name": "retrievalOutput", "type": "String", "value": "String"}]}]}}}, "metaId": "jade0pg2ag", "triggerMode": "auto"}, {"name": "大模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "6c414e75-971e-403a-b2b1-c6850f128cc4", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "db5fdafa-4cbf-44ba-9cca-8a98f1f771f4", "from": "Input", "name": "temperature", "type": "Number", "value": 0}, {"id": "88f74d78-4711-4f81-a2e7-74d0034c5e88", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "35a710cf-1b79-4523-b16f-b50878d677fe", "from": "Input", "name": "template", "type": "String", "value": "上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"}, {"id": "38fb27a1-71f4-4fcc-87d5-9d8a880bc04d", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "aeba7823-8d14-4750-9723-55265ae71c4e", "from": "Reference", "name": "knowledge", "type": "String", "value": ["output", "retrievalOutput"], "referenceId": "5c9c6535-c127-445a-862a-966cf1083929", "referenceKey": "retrievalOutput", "referenceNode": "jade0pg2ag"}, {"id": "eee66922-4304-4209-89fc-b13ffa101630", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}]}]}, {"id": "a6865419-867c-4bfb-855c-f5c1876c965a", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "308e2023-a8e9-486e-9784-8680addbb786", "from": "Expand", "name": "workflows", "type": "Array", "value": [{"id": "303a2fce-13df-4dfc-a3ab-51323ee90cdb", "from": "input", "type": "String", "value": "c04cee50-13e4-499b-a008-077459a2e552"}]}, {"id": "68f92923-d5da-42ce-8478-d7ac7d90664e", "from": "Input", "name": "systemPrompt", "type": "String", "value": "i18n_appBuilder_{xiaohai_flow_graph_system_prompt}"}], "outputParams": [{"id": "95d84d67-3198-415e-a63c-bc9a2da8d821", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "272c927a-9e25-48b6-a921-6a8ab20267a4", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jadewdnjbq", "triggerMode": "auto"}, {"name": "结束", "type": "endNodeEnd", "metaId": "jadesoux5i", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "referenceId": "272c927a-9e25-48b6-a921-6a8ab20267a4", "referenceKey": "llmOutput", "referenceNode": "jadewdnjbq"}], "outputParams": [{}]}}}, "triggerMode": "auto"}], "metaId": "d14e513cadb84847b62e9d67b7d47a02", "status": "active", "version": "1.0.0-864678", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.fitable.FlowInfoCallback"]}, "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.fitable.FlowInfoException", "modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"]}',
        'modelengine.jade', '2024-05-24 19:15:53.177') ON CONFLICT (definition_id) DO NOTHING;
INSERT INTO "flow_definition" ("definition_id", "meta_id", "name", "tenant", "version", "status", "graph", "created_by",
                               "created_at")
VALUES ('79f90c063f144b90a4353b5f63510162', 'b2ecde0b919841f5867d2e89bb46095c', 'b2ecde0b919841f5867d2e89bb46095c',
        '31f20efc7e0848deab6a6bc10fc3021e', '1.0.0-2dd81d', 'active',
        '{"name": "b2ecde0b919841f5867d2e89bb46095c", "nodes": [{"to": "jade0pg2ag", "from": "jade6qm5eg", "name": "", "type": "jadeEvent", "metaId": "jade2zanyx", "fromConnector": "E"}, {"to": "jadewdnjbq", "from": "jade0pg2ag", "name": "", "type": "jadeEvent", "metaId": "jade5c5urs", "fromConnector": "E"}, {"to": "jadesoux5i", "from": "jadewdnjbq", "name": "", "type": "jadeEvent", "metaId": "jade1p0cdu", "fromConnector": "E"}, {"name": "开始", "type": "startNodeStart", "metaId": "jade6qm5eg", "inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "Question", "type": "String", "value": "", "description": "i18n_appBuilder_{flow_graph_question_description}", "disableModifiable": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": false}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "3"}]}], "triggerMode": "auto"}, {"name": "普通检索", "type": "retrievalNodeState", "jober": {"name": "", "type": "general_jober", "fitables": ["modelengine.fit.jober.aipp.fitable.NaiveRAGComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "query_0ab55575-f21d-4b19-9676-57fcb4b0b783", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "knowledge_01c41edd-a22b-4289-b1cf-8db835833261", "from": "Expand", "name": "knowledge", "type": "Array", "value": []}, {"id": "maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff", "from": "Input", "name": "maximum", "type": "Integer", "value": 3}], "outputParams": [{"id": "output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "5c9c6535-c127-445a-862a-966cf1083929", "from": "Input", "name": "retrievalOutput", "type": "String", "value": "String"}]}]}}}, "metaId": "jade0pg2ag", "triggerMode": "auto"}, {"name": "大模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "6c414e75-971e-403a-b2b1-c6850f128cc4", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "db5fdafa-4cbf-44ba-9cca-8a98f1f771f4", "from": "Input", "name": "temperature", "type": "Number", "value": 0}, {"id": "88f74d78-4711-4f81-a2e7-74d0034c5e88", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "35a710cf-1b79-4523-b16f-b50878d677fe", "from": "Input", "name": "template", "type": "String", "value": "请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"}, {"id": "38fb27a1-71f4-4fcc-87d5-9d8a880bc04d", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "aeba7823-8d14-4750-9723-55265ae71c4e", "from": "Reference", "name": "knowledge", "type": "String", "value": ["output", "retrievalOutput"], "referenceId": "5c9c6535-c127-445a-862a-966cf1083929", "referenceKey": "retrievalOutput", "referenceNode": "jade0pg2ag"}, {"id": "eee66922-4304-4209-89fc-b13ffa101630", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}]}]}, {"id": "a6865419-867c-4bfb-855c-f5c1876c965a", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "308e2023-a8e9-486e-9784-8680addbb786", "from": "Expand", "name": "workflows", "type": "Array", "value": [{"id": "ae0bd892-91fc-45ef-83ca-819294384386", "from": "input", "type": "String", "value": "d613c69e-ad85-4edb-a126-8ccd6341cd64"}]}, {"id": "68f92923-d5da-42ce-8478-d7ac7d90664e", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}], "outputParams": [{"id": "95d84d67-3198-415e-a63c-bc9a2da8d821", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "272c927a-9e25-48b6-a921-6a8ab20267a4", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jadewdnjbq", "triggerMode": "auto"}, {"name": "结束", "type": "endNodeEnd", "metaId": "jadesoux5i", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "referenceId": "272c927a-9e25-48b6-a921-6a8ab20267a4", "referenceKey": "llmOutput", "referenceNode": "jadewdnjbq"}], "outputParams": [{}]}}}, "triggerMode": "auto"}], "metaId": "b2ecde0b919841f5867d2e89bb46095c", "status": "active", "version": "1.0.0-2dd81d", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.fitable.FlowInfoCallback"]}, "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.fitable.FlowInfoException", "modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"]}',
        'Jade', '2024-07-19 18:20:03.136') ON CONFLICT (definition_id) DO NOTHING;

INSERT INTO "task_type" ("id", "tree_id", "parent_id", "name", "created_by", "created_at", "updated_by", "updated_at",
                         "task_id")
VALUES ('592a34adb55341c58f6909dc97158609', 'dc27c37e6a1143e9a628d41026dd6703', '00000000000000000000000000000000',
        '创建应用|1.0.0', 'modelengine.jade', '2024-05-24 19:15:53.142', 'modelengine.jade', '2024-05-24 19:15:53.142',
        'dc27c37e6a1143e9a628d41026dd6703') ON CONFLICT (id) DO NOTHING;
INSERT INTO "task_type" ("id", "tree_id", "parent_id", "name", "created_by", "created_at", "updated_by", "updated_at", "task_id") VALUES ('39b00e7107cc4c179f2c5f21c95d40ff', 'e17f265b88604709805fd116948e06f0', '00000000000000000000000000000000', '小海|1.0.0-864678', 'Jade', '2024-07-19 17:27:40.792', 'Jade', '2024-07-19 17:27:40.792', 'e17f265b88604709805fd116948e06f0') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('baa8f4f6c75544a1b11aaa2b13697af7', 'llm_application_template', 'en', 'LLM application template') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('7e4c157e0a1540e5a9c9a8964e66e161', 'llm_application_template', 'zh', 'LLM应用模板') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('56810563b4df4554b43ab9c1b603ec36', 'interview_assistant', 'en', 'interview assistant') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('24e09afcf3974690aa8cd0294a5f10da', 'interview_assistant', 'zh', '面试助手') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c8049a38315e4e87830fe3e75f1f9b15', 'waterflow_template', 'en', 'waterflow template') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('ba6e0d6010e04c918c9a55480ee75791', 'waterflow_template', 'zh', '工具流模板') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('ef7bdd6cda42470ea1881a458b5093f1', 'xiaohai', 'en', 'xiaoHai') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('4f3e4f62496741358fc669bbfabcb5fa', 'xiaohai', 'zh', '小海') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('cd2e94edd7aa457ea4fc17b578d4b305', 'decision_analysis', 'en', 'decision analysis') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('84e935c1fd814526a3b731f4e86c58ba', 'decision_analysis', 'zh', '决策分析') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('c4417cbd78b3404aa656f39433479c87', 'xiaohai_greeting', 'en',
        'Hi~ I am Xiaohai, the super application of ModelEngine. I can call other applications to work together, and I can also answer tasks related to the storage field. Try asking me questions.') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('20f4608e05ca45abbdf1e31ef7c5ecf4', 'xiaohai_greeting', 'zh',
        'Hi~我是ModelEngine的超级应用小海，我可以呼唤其他应用协同工作，也可以解答存储领域相关任务问题，试试向我提问吧') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('b523ddd9d7574bd38498a4893230de66', 'xiaohai_description', 'en', 'Your exclusive AI intelligent orchestration research and development platform, AI-assisted research and development, start creating your exclusive application~!') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('7dff8249dfad46e988b2ad0e7b949aab', 'xiaohai_description', 'zh', '你的专属AI智能编排研发平台，AI助力研发，开始创建专属应用吧~') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('a58771221aa5463cbf4f352ff6f11f66', 'xiaohai_recommend', 'en', 'Hello~') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('9ee4e5780fb94f0c96d506465f291f2f', 'xiaohai_recommend', 'zh', 'Hi，你好~') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a160e9c65e0b4bc7b26d4d8c0e33a16a', 'xiaohai_systemPrompt', 'en', '"## Character\nYour name is Xiao Hai, an efficient robot developed by Huawei. You are good at answering user questions and can also create other bots. \n\n### Skills\n### Skill 1: Create a robot\When receiving the task of creating a robot, call the **c04cee50-13e4-499b-a008-077459a2e552** tool robot. \n\n### Skill 2: Answer user questions\nWhen a user question is received, the following steps generate a reply: \n1. \n2. Concatenate questions into smaller questions. For each atomic question, the most relevant information is selected from the context and conversation history. \n3. Generate a draft reply using the selected information. \n4. Delete duplicate content in the reply draft. \n5. Final answers are generated after adjustments to improve accuracy and relevance. \n6. Reply to the final answer limit. \n\n###\n1. When answering user questions, you only need to reply with the final answer."') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('a56ccbe9e30c4bfc875d0febe78eed4e', 'xiaohai_systemPrompt', 'zh',
        '"## 角色\n你的名字叫小海，是基于ModelEngine开发的机器人。你擅长回答用户问题，也能够高效创建其他机器人。\n\n### 技能\n### 技能1：创建机器人\n当接收到创建机器人的任务时，调用**c04cee50-13e4-499b-a008-077459a2e552**工具创建机器人。\n\n### 技能2：回答用户问题\n当接收到用户问题时，按照以下步骤生成回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 回复最终答案。\n\n### 限制\n1. 回答用户问题时，只需要回复最终答案。"') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('1e5f28bbb5434a5ab03e65f62456210d', 'data_storage', 'en', 'data storage') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c79a05aeff024915ac0e65fa4e514f08', 'data_storage', 'zh', '数存') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('3a7f215254734e4ea3b0ee31b9500578', 'create_app', 'en', 'create app') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('42bc8bc4c3774451a5dd61af8e2c540b', 'create_app', 'zh', '创建应用') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('b0a383e827f84bfea0d589b49c6aec28', 'create_app_prompt', 'en', 'Help me create an app') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a4d8d998f4cf40789da6f202f86b945d', 'create_app_prompt', 'zh', '帮我创建一个应用') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('b1a690e394c74d32962dc820b880e4e8', 'flow_graph_question_description', 'en', 'It''s a user input problem.') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a5653085fadd4d0dbe20fb383a5ff4e1', 'flow_graph_question_description', 'zh', '这是用户输入的问题。') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('8f4ddd00d9ce48a6a0da978eaa701d5a', 'xiaohai_flow_graph_system_prompt', 'en', '## Role \n Your name is Xiao Hai, a robot developed by Huawei. You are good at answering user questions and are also able to create other bots efficiently. \n\n### Skills \n### Skill 1: Creating Robots \n When a task to create a robot is received, call the **c04cee50-13e4-499b-a008-077459a2e552** tool to create the robot. \n\n### Skill 2: Answer a User Question \n When a user question is received, follow these steps to generate a response:\n1. recursively decompose the question into smaller questions. \n2. for each atomic question, select the most relevant information from the context and dialog history. \n3. use the selected information to generate a draft response. \n4. remove duplicates from the draft response. \n5. Generate final answer after adjustments are made to improve accuracy and relevance. \n6. Respond to the final answer. \n\n### Restrictions \n1. When answering a user question, reply only to the final answer.') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('b4dd5a35da2143f99cf577d4ee0ea4d8', 'xiaohai_flow_graph_system_prompt', 'zh',
        '## 角色\n你的名字叫小海，是基于ModelEngine开发的机器人。你擅长回答用户问题，也能够高效创建其他机器人。\n\n### 技能\n### 技能1：创建机器人\n当接收到创建机器人的任务时，调用**c04cee50-13e4-499b-a008-077459a2e552**工具创建机器人。\n\n### 技能2：回答用户问题\n当接收到用户问题时，按照以下步骤生成回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 回复最终答案。\n\n### 限制\n1. 回答用户问题时，只需要回复最终答案。') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('72015960faba4eb5a3e698a96fb272cd', 'app_template_flow_graph_prompt', 'en', 'Follow these steps to generate your response:\n1. recursively break down the question into smaller questions. \n2. For each atomic question, select the most relevant information from the context and dialog history. \n3. use the selected information to generate a draft response. \n4. remove duplicates from the draft response. \n5. Generate the final answer after adjustments have been made to improve accuracy and relevance. \n6. Note that only the final response is required. \n-------------------------------------\nContextual information: \n\n{{knowledge}}\n\nQuestion: {{query}}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c079fe7bc12943f996e5b5b766d9923a', 'app_template_flow_graph_prompt', 'zh', '请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('aaf2578bc1004c4c8aebccc907e41c4b', 'start_node', 'en', 'Start') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a726a34e9c4a48b8b8fc57f9d4980ff0', 'start_node', 'zh', '开始') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('f2784fe3713c41719543d191e51f03fe', 'llm_node', 'en', 'Foundation Model') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('030c73cceaed49b19b28e137d49d8d47', 'llm_node', 'zh', '大模型') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('549f9bbc24ba4dbeaea49f9feab9cf7d', 'retrieval_node', 'en', 'Retrieval') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('886f8d50d99f443180454ba9fdfbeb89', 'retrieval_node', 'zh', '普通检索') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('9569f436ae3a416d9bec43ee531cf0a1', 'knowledge_retrieval_node', 'en', 'Knowledge Retrieval') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('16f64e281ef44ad78d87b4e1a7325857', 'knowledge_retrieval_node', 'zh', '知识检索') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('613f904a620e4454bc216f2081c53b1c', 'end_node', 'en', 'End') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef1e1', 'end_node', 'zh', '结束') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef136', 'form_property_basic', 'en', 'Basic Orchestration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef138', 'form_property_basic', 'zh', '基础编排') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef112', 'form_property_ability', 'en', 'Capability Configuration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef151', 'form_property_ability', 'zh', '能力配置') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac826f1e2', 'form_property_model', 'en', 'LLM') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9d36ac88ef1e3', 'form_property_model', 'zh', '大模型') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9347ac88ef1e4', 'form_property_tools', 'en', 'Tools') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a828de3ac88ef1e5', 'form_property_tools', 'zh', '工具') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a896de3ac88ef1e6', 'form_property_knowledge', 'en', 'Knowledge Base') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef1e7', 'form_property_knowledge', 'zh', '知识库') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb464948b9de3ac88ef132', 'form_property_chat', 'en', 'Chat Settings') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef196', 'form_property_chat', 'zh', '聊天设置') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef186', 'form_property_memory', 'en', 'Multi-turn Conversation') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef101', 'form_property_memory', 'zh', '多轮对话') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef193', 'form_property_opening', 'en', 'Opening Remarks') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef162', 'form_property_opening', 'zh', '开场白') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef138', 'form_property_inspiration', 'en', 'Creative Inspiration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef125', 'form_property_inspiration', 'zh', '创意灵感') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef150', 'form_property_recommend', 'en', 'Guess You Want to Ask') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef126', 'form_property_recommend', 'zh', '猜你想问') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef146', 'form_property_workflow', 'en', 'Workflow Orchestration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef152', 'form_property_workflow', 'zh', '工作流编排') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef143', 'form_property_enterWorkflow', 'en', 'Enter Workflow Orchestration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef198', 'form_property_enterWorkflow', 'zh', '进入工作流编排') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3cf88ef145', 'form_property_opening_content', 'en', 'Hello') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb46754hb9de3ac88ef199', 'form_property_opening_content', 'zh', '你好') ON CONFLICT (id) DO NOTHING;

INSERT INTO aipp_system_config(config_key, config_value, config_group, config_parent) VALUES ('system', '{"template": "You ara a prompt generator, Your job is to generate prompt from the input of the user.\n\nThe Prompt must follow the style of the example below:\n\n###\ninput:\n生活助手\n\noutput:\n角色：你是一个智能生活助手。\n背景：作为一款集成多种智能功能的应用程序，你需要熟悉各种智能家居设备、日程安排、健康数据等相关知识。\n技能：智能家居控制照明、温控、安防、日程管理（提醒、安排等）、健康监测（睡眠、运行、饮食等）、信息查询、语音交互等。\n目标：为用户提供便捷。\n限制：你可以访问用户的智能家居设备、日历、健康数据等相关信息，并根据需要进行协作和响应。\n###\n\n**DO NOT GENERATE ANY OTHER CONTENT EXCEPT OF THE PROMPT TEMPLATE**\n\ninput: {{input}}"}', 'template', NULL) ON CONFLICT (config_group, config_key) DO NOTHING;

INSERT INTO "app_builder_app_type" VALUES ('4db152b24f94473ab683b1acbfe3c865', '通用', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:26:11.275326', '2025-01-16 17:26:11.275326');
INSERT INTO "app_builder_app_type" VALUES ('ad7fca4851394495a90723eb6bcd6141', '文章写作', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:26:53.880531', '2025-01-16 17:26:53.880531');
INSERT INTO "app_builder_app_type" VALUES ('099201eaee2346a7bffd76bbdbfb0c7e', '编程开发', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:02.607163', '2025-01-16 17:27:02.607163');
INSERT INTO "app_builder_app_type" VALUES ('19301209cff644e0bed7aede966226fa', '金融问数', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:15.121579', '2025-01-16 17:27:15.121579');
INSERT INTO "app_builder_app_type" VALUES ('dadb32e11d0f49c8b3b2b3b78f32adcb', '知识问答', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:24.408541', '2025-01-16 17:27:24.408541');
INSERT INTO "app_builder_app_type" VALUES ('bfce7a4f00ea464ca85b1bd691ffe774', '数字人', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:31.439755', '2025-01-16 17:27:31.439755');
INSERT INTO "app_builder_app_type" VALUES ('b653edb7eb5a49be91abcd2c5877c6ad', '办公效率', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:40.941004', '2025-01-16 17:27:40.941004');
INSERT INTO "app_builder_app_type" VALUES ('6cca24416a05436390e0a96712a4294e', '企业管理', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:50.566101', '2025-01-16 17:27:50.566101');

INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef1e3', 'semantic_search', 'en', 'Semantic search') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef1e2', 'semantic_search', 'zh', '语义检索') ON CONFLICT (id) DO NOTHING;