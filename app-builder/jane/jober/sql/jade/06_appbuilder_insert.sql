-- 任务模板
INSERT INTO "public"."task_template" ("id", "name", "description", "tenant_id") VALUES ('4f91b69973d1453aadf384d508aed894', '普通任务', '最基础的默认模板', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."task_template" ("id", "name", "description", "tenant_id") VALUES ('00000000000000000000000000000000', 'empty', 'empty', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;


INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('08f8fc32484d408aacbcff35bf8be687', '4f91b69973d1453aadf384d508aed894', 'id', 'TEXT', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('abb064f84f36496bb769321b1f3443c9', '4f91b69973d1453aadf384d508aed894', 'decomposed_from', 'TEXT', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('be686a0325694aadb688539f7523f88a', '4f91b69973d1453aadf384d508aed894', 'title', 'TEXT', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('59e0d16c3fe541899778beb76e56b0e3', '4f91b69973d1453aadf384d508aed894', 'owner', 'TEXT', 4) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('e2af84d4a8714ce8a87be79d19a5eb88', '4f91b69973d1453aadf384d508aed894', 'created_by', 'TEXT', 5) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('4aebbf316cf443d791e0280f56f435d6', '4f91b69973d1453aadf384d508aed894', 'created_date', 'DATETIME', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('387c16ae70ac49f68f670f54e4456fc8', '4f91b69973d1453aadf384d508aed894', 'modified_by', 'TEXT', 6) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('354944b0e9234429aabfbafb08059c2e', '4f91b69973d1453aadf384d508aed894', 'modified_date', 'DATETIME', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('c41b4da4013e484ead6fc8b03192dee2', '4f91b69973d1453aadf384d508aed894', 'status', 'TEXT', 7) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('34a33a519dd64dc5aa4b3c98c70a5989', '4f91b69973d1453aadf384d508aed894', 'target_url', 'TEXT', 8) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('456bc8b7b9754708828c68221af977c9', '4f91b69973d1453aadf384d508aed894', 'progress_feedback', 'TEXT', 9) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('d8e5fad3feed41fe8400bd2f35048abe', '4f91b69973d1453aadf384d508aed894', 'risk', 'TEXT', 10) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('e8cf80fdb51a4d4e9c9a9c660714efc7', '4f91b69973d1453aadf384d508aed894', 'priority', 'TEXT', 11) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('819adccd6214437fadec3936b297007b', '4f91b69973d1453aadf384d508aed894', 'finish_time', 'DATETIME', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('aac65de27f014c3895228fdb5d32573e', '4f91b69973d1453aadf384d508aed894', 'tag', 'TEXT', 12) ON CONFLICT (id) DO NOTHING;

-- app模板（模板数据需要修改?）
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state") VALUES ('df87073b9bc85a48a9b01eccc9afccc4', 'LLM应用模板', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5d', '9997f1555b41452b924d1a8b2229bde3', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is llm description", "icon": "http://ab", "greeting": "hello", "app_type": "面试助手"}', 'inactive') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state") VALUES ('df87073b9bc85a48a9b01eccc9afccc3', '工具流模板', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5e', '9997f1555b41452b924d1a8b2229bde4', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is tool description"}', 'inactive') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state") VALUES ('3a617d8aeb1d41a9ad7453f2f0f70d61', '小海', '马莉亚 00558975', '2024-05-17 20:03:15.794', '马莉亚 00558975', '2024-05-20 11:54:52.602', '31087fb069034824958791eb49757a0e', 'd14e513cadb84847b62e9d67b7d47a02', '31f20efc7e0848deab6a6bc10fc3021e', 'app', '1.0.0', '{"icon": "https://jane-beta.huawei.com/api/jober/v1/files/17e9ee28e8914b48aa54e084b67bf878", "name": "小海", "app_type": "决策分析", "greeting": "Hi~我是APP Engine的超级应用小海，我可以呼唤其他应用协同工作，也可以解答存储领域相关任务问题，试试向我提问吧", "description": "你的专属AI智能编排研发平台，AI助力研发，开始创建专属应用吧~"}', 'inactive') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5d', 'b8986770a6ffef44bbf2a9f26d6fc1bc', '847907b5da7ea644abe159a913dba403', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5e', 'b8986770a6ffef44bbf2a9f26d6fc1bd', '847907b5da7ea644abe159a913dba404', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('31087fb069034824958791eb49757a0e', 'b729973429074ae784c9a699afb66d21', '3a617d8aeb1d41a9ad7453f2f0f70d61', '31f20efc7e0848deab6a6bc10fc3021e', '马莉亚 00558975', '2024-05-17 20:03:15.794', '马莉亚 00558975', '2024-05-20 11:54:52.602') ON CONFLICT (id) DO NOTHING;


INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('836f722491b476478dea2135d7f1d113', 'jadewdnjbq', 'd9fcb95f48d33648a4e12d629399d713', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2045fe16f5fe854d884b2f272100d68d', 'jadewdnjbq', '6269e12e4a908b4ba0d455c402ce8c3d', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedbb9c4d', NULL, '9b3a72544963c64e806dc07d6fff5207', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2e48b8ccc78be34abdc18876eb649a6a', 'jadewdnjbq', '4df1cc408fb08b46842861dbfa3cb2ae', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('dcdd0ee7dbb76b478bfe5686ee557441', 'jadewdnjbq', 'b01af303ce27a544a45a3a9491aeb03e', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedff534d', NULL, '9b3a72544963c64e806dc07d6fff5208', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('5c7c8c088dfa2a4dac24f2b289726b78', 'jade0pg2ag', '46b39a9533bbb247a38e976d4af41eb0', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536b', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23504', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('02c45dc213464a8bbf963047b726951b', 'jadewdnjbq', '371c57e777f34798b4b73e358277bd11', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('b54018bd4f444a578c4fd98585e55a38', 'jadewdnjbq', '81c1d2aa93df449a830714e84857928d', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('e1ea9dc8e0e54b9fb993697336962a14', NULL, '8118705c5f894cdbb48ce1403283d8d7', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('ae484387a9014d29a9c4a3b6469892ef', 'jadewdnjbq', 'd9a3ac7b10684b1f8d5959af1715712f', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('c2e5b7e35f6345e7a3867eb416e277d6', 'jadewdnjbq', '8d370e3bb9304ef79e46d41e8ef55dda', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('1728ee9834c34a4892f84e1794a86bc8', NULL, '1221f6eebc6d48f68cbbc567d991ed47', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3f8f5f4b86a14312a2c161df2cbcbfb5', 'jade0pg2ag', '1051c017ab464b3882228183a1eb2575', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('d40d679480ae4fcfbd5e97da777c31e3', 'jadewdnjbq', '567911ab6f77492e99f99b8bd5c2b248', '31087fb069034824958791eb49757a0e') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "create_by", "create_at", "update_by", "update_at", "type") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1bc', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '[{"key":"ke1","name":"name1","type":"TEXT"}]', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', 'component') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "create_by", "create_at", "update_by", "update_at", "type") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1bd', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '[{"key":"ke1","name":"name1","type":"TEXT"}]', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', 'component') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "create_by", "create_at", "update_by", "update_at", "type") VALUES ('b729973429074ae784c9a699afb66d21', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '[{"key":"ke1","name":"name1","type":"TEXT"}]', '马莉亚 00558975', '2024-05-17 20:03:15.794', '马莉亚 00558975', '2024-05-20 11:54:52.602', 'component') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('3073f4896620fb488d9fd3349ee23504', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'model', 'String', '"Qwen1.5-32B-Chat"') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('d9fcb95f48d33648a4e12d629399d713', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'systemPrompt', 'String', '""') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('4df1cc408fb08b46842861dbfa3cb2ae', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'workflows', 'List<String>', '[]') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('6269e12e4a908b4ba0d455c402ce8c3d', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'tool', 'List<String>', '[]') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('b01af303ce27a544a45a3a9491aeb03e', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'temperature', 'Number', '0.3') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('46b39a9533bbb247a38e976d4af41eb0', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'knowledge', 'List<String>', '[]') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('9b3a72544963c64e806dc07d6fff5207', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'memory', 'object', '{"type":"Customizing","fitableId":"MemoryAfterResume"}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('9b3a72544963c64e806dc07d6fff5208', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('567911ab6f77492e99f99b8bd5c2b248', 'b729973429074ae784c9a699afb66d21', 'model', 'String', '"Qwen1.5-32B-Chat"') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('81c1d2aa93df449a830714e84857928d', 'b729973429074ae784c9a699afb66d21', 'workflows', 'List<String>', '[]') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('371c57e777f34798b4b73e358277bd11', 'b729973429074ae784c9a699afb66d21', 'tool', 'List<String>', '[]') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('d9a3ac7b10684b1f8d5959af1715712f', 'b729973429074ae784c9a699afb66d21', 'temperature', 'Number', 0) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('1051c017ab464b3882228183a1eb2575', 'b729973429074ae784c9a699afb66d21', 'knowledge', 'List<String>', '[]') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('8118705c5f894cdbb48ce1403283d8d7', 'b729973429074ae784c9a699afb66d21', 'memory', 'object', '{"type":"Customizing","fitableId":"MemoryAfterResume"}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('1221f6eebc6d48f68cbbc567d991ed47', 'b729973429074ae784c9a699afb66d21', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[{"id":"psewkm","title":"数存","children":[],"parent":"root:psewkm"}]}],"inspirations":[{"name":"创建应用","description":"创建应用","prompt":"帮我创建一个应用","promptVarData":[],"category":"root:psewkm","id":"01t2vz"}]}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value") VALUES ('8d370e3bb9304ef79e46d41e8ef55dda', 'b729973429074ae784c9a699afb66d21', 'systemPrompt', 'String', '"你的名字叫小海，是华为公司开发的存储知识问答机器人。\n你需要根据已知信息和自身知识回答问题，不要在回答中对问题进行重复，回答的内容也不要出现重复；\n回答过程请注意：\n1. 回答时保持专业，不要进行反问，也不要在回答中添加与提问无关的内容；\n2. 如果已知信息中包含和问题相关的内容，则问题的回答需要参考已知信息；\n3. 回答要简洁完整；\n\n请分行展示"') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance") VALUES ('9997f1555b41452b924d1a8b2229bde4', 'tool模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42', '{"id":"9fd1e6736e734fc085a5ea34f4ba1b21","title":"9fd1e6736e734fc085a5ea34f4ba1b21","source":"elsa","type":"jadeFlowGraph","tenant":"default","setting":{"borderColor":"#047bfc","shadow":"","underline":false,"selectable":true,"fontFace":"arial","pDock":"none","headColor":"steelblue","itemScroll":{"x":0,"y":0},"vAlign":"top","cornerRadius":4,"rotateAble":true,"pad":10,"infoType":{"next":"INFORMATION","name":"none"},"focusMargin":0,"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"focusBackColor":"whitesmoke","tag":{},"captionfontColor":"whitesmoke","fontWeight":"lighter","captionlineHeight":1,"margin":25,"itemPad":[5,5,5,5],"autoHeight":false,"visible":true,"rotateDegree":0,"focusBorderColor":"#047bfc","priority":0,"fontStyle":"normal","backColor":"whitesmoke","captionfontFace":"arial black","dockMode":"none","dashWidth":0,"fontSize":12,"mouseInFontColor":"orange","resizeable":true,"captionfontWeight":"lighter","mouseInBorderColor":"#047bfc","autoText":false,"showedProgress":false,"shared":false,"code":"","hAlign":"center","deletable":true,"numberedList":false,"shadowData":"2px 2px 4px","focusBorderWidth":1,"allowLink":true,"lineWidth":2,"captionhAlign":"center","dragable":true,"focusShadow":"","emphasized":false,"borderWidth":1,"globalAlpha":1,"bulletedList":false,"enableAnimation":false,"autoWidth":false,"captionfontSize":14,"progressPercent":0.65,"strikethrough":false,"backAlpha":0.15,"focusFontColor":"darkorange","outstanding":false,"editable":true,"moveable":true,"captionfontStyle":"normal","mouseInColor":"orange","bulletSpeed":1,"enableSocial":true,"scrollLock":{"x":false,"y":false},"lineHeight":1.5,"fontColor":"steelblue","mouseInBackColor":"whitesmoke"},"pages":[{"container":"elsa-page:tvp1s6","borderColor":"white","hAlign":"left","itemSpace":5,"fontFace":"arial","itemScroll":{"x":0,"y":0},"hideText":true,"shapesAs":{},"type":"jadeFlowPage","italic":false,"vAlign":"top","mode":"configuration","scaleX":0.8,"division":-1,"scaleY":0.8,"dockAlign":"top","focusBackColor":"#fbfbfc","id":"elsa-page:tvp1s6","text":"newFlowPage","fontWeight":"bold","height":800,"dirty":false,"itemPad":[0,0,0,0],"moveable":true,"index":0,"bold":false,"fontStyle":"normal","backColor":"#fbfbfc","dockMode":"none","x":297.46031746031747,"width":1600,"namespace":"jadeFlow","y":121.01190476190482,"fontSize":18,"isPage":true,"fontColor":"#ECD0A7","shapes":[{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"startNodeStart","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jade6qm5eg","text":"开始","componentName":"startComponent","triggerMode":"auto","height":559,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"inputParams":[{"name":"input","from":"Expand","id":"91138f09-b635-43df-95c6-1fe3d1745829","type":"Object","config":[{"allowAdd":true}],"value":[{"name":"","description":"","from":"Input","id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","type":"String","value":""}]},{"name":"memory","from":"Expand","id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","type":"Object","value":[{"name":"type","from":"Input","id":"cee9a31b-781c-4835-a616-ceed73be22f2","type":"String","value":"ByConversationTurn"},{"name":"value","from":"Input","id":"69592622-4291-409d-9d65-9faea83db657","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"index":103,"bold":false,"backColor":"white","x":280.3571428571429,"width":360,"namespace":"flowable","y":113.75,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"endNodeEnd","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jadesoux5i","text":"结束","componentName":"endComponent","triggerMode":"auto","height":214,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"callback":{"fitables":["com.huawei.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"outputParams":[{}],"inputParams":[{"referenceNode":"wdnjbq","name":"finalOutput","from":"Reference","id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","type":"String","value":["output","llmOutput"],"referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":null}]}},"name":"通知回调","type":"general_callback"},"triggerMode":"auto"},"index":106,"bold":false,"backColor":"white","x":1169.4642857142849,"width":360,"namespace":"flowable","y":306.4285714285713,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade08a56l","text":"","namespace":"flowable","x":640.3571428571429,"y":393.25,"width":529.107142857142,"height":20.178571428571274,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-98,"dirty":true}]}],"enableText":false,"flowMeta":{"exceptionFitables":["com.huawei.fit.jober.aipp.fitable.AippFlowExceptionHandler"],"enableOutputScope":true}}') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance") VALUES ('9997f1555b41452b924d1a8b2229bde3', 'LLM模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42', '{"id":"ee1d1c6d8f314fa090b5a3afe8adaf40","title":"jadeFlow","source":"elsa","type":"jadeFlowGraph","tenant":"default","flowMeta":{"exceptionFitables":["com.huawei.fit.jober.aipp.fitable.AippFlowExceptionHandler"],"enableOutputScope":true},"setting":{"borderColor":"#047bfc","backColor":"whitesmoke","headColor":"steelblue","fontColor":"steelblue","captionfontColor":"whitesmoke","fontFace":"arial","captionfontFace":"arial black","fontSize":12,"captionfontSize":14,"fontStyle":"normal","captionfontStyle":"normal","fontWeight":"lighter","captionfontWeight":"lighter","hAlign":"center","vAlign":"top","captionhAlign":"center","lineHeight":1.5,"lineWidth":2,"captionlineHeight":1,"focusMargin":0,"focusBorderColor":"#047bfc","focusFontColor":"darkorange","focusBackColor":"whitesmoke","mouseInColor":"orange","mouseInBorderColor":"#047bfc","mouseInFontColor":"orange","mouseInBackColor":"whitesmoke","borderWidth":1,"focusBorderWidth":1,"globalAlpha":1,"backAlpha":0.15,"cornerRadius":4,"dashWidth":0,"autoText":false,"autoHeight":false,"autoWidth":false,"margin":25,"pad":10,"code":"","rotateDegree":0,"shadow":"","focusShadow":"","shadowData":"2px 2px 4px","outstanding":false,"pDock":"none","dockMode":"none","priority":0,"infoType":{"next":"INFORMATION","name":"none"},"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"progressPercent":0.65,"showedProgress":false,"itemPad":[5,5,5,5],"itemScroll":{"x":0,"y":0},"scrollLock":{"x":false,"y":false},"resizeable":true,"selectable":true,"rotateAble":true,"editable":true,"moveable":true,"dragable":true,"visible":true,"deletable":true,"allowLink":true,"shared":false,"strikethrough":false,"underline":false,"numberedList":false,"bulletedList":false,"enableAnimation":false,"enableSocial":true,"emphasized":false,"bulletSpeed":1,"tag":{}},"pages":[{"type":"jadeFlowPage","id":"elsa-page:tvp1s6","text":"newFlowPage","namespace":"jadeFlow","x":297.46031746031747,"y":121.01190476190482,"width":1600,"height":800,"bold":false,"italic":false,"dockAlign":"top","division":-1,"itemSpace":5,"itemPad":[0,0,0,0],"itemScroll":{"x":0,"y":0},"hideText":true,"dockMode":"none","shapesAs":{},"borderColor":"white","backColor":"#fbfbfc","fontSize":18,"fontFace":"arial","fontColor":"#ECD0A7","fontWeight":"bold","fontStyle":"normal","hAlign":"left","vAlign":"top","moveable":true,"container":"elsa-page:tvp1s6","scaleX":0.8,"scaleY":0.8,"focusBackColor":"#fbfbfc","dirty":true,"isPage":true,"mode":"configuration","shapes":[{"type":"startNodeStart","container":"elsa-page:tvp1s6","id":"jade6qm5eg","text":"开始","namespace":"flowable","x":-170.8928571428571,"y":32.5,"width":360,"height":554,"bold":false,"italic":false,"deletable":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","name":"input","type":"Object","from":"Expand","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","name":"Question","type":"String","from":"Input","description":"这是用户输入的问题","value":"","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","name":"memory","type":"Object","from":"Expand","value":[{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","name":"type","type":"String","from":"Input","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","name":"value","type":"Integer","from":"Input","value":"3"}]}]},"componentName":"startComponent","index":100,"dirty":true},{"type":"retrievalNodeState","container":"elsa-page:tvp1s6","id":"jade0pg2ag","text":"普通检索","namespace":"flowable","x":275.7499999999999,"y":192.3571428571428,"width":360,"height":459,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["com.huawei.fit.jober.aipp.fitable.NaiveRAGComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","name":"query","type":"String","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","value":["Question"]},{"id":"knowledge_01c41edd-a22b-4289-b1cf-8db835833261","name":"knowledge","type":"Array","from":"Expand","value":[{"id":"55f8e6eb-dab5-435f-94ea-18108eaba982","type":"Object","from":"Expand","value":[]}]},{"id":"maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff","name":"maximum","type":"Integer","from":"Input","value":3}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","name":"output","type":"Object","from":"Expand","value":[{"id":"5c9c6535-c127-445a-862a-966cf1083929","name":"retrievalOutput","type":"String","from":"Input","value":"String"}]}]}}}},"componentName":"retrievalComponent","index":101,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jadewdnjbq","text":"大模型","namespace":"flowable","x":719.1428571428571,"y":-53.21428571428578,"width":360,"height":787,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["com.huawei.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","name":"model","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","name":"temperature","type":"Number","from":"Input","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","name":"prompt","type":"Object","from":"Expand","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","name":"template","type":"String","from":"Input","value":"请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","name":"variables","type":"Object","from":"Expand","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","name":"knowledge","type":"String","from":"Reference","value":["output","retrievalOutput"],"referenceNode":"jade0pg2ag","referenceId":"5c9c6535-c127-445a-862a-966cf1083929","referenceKey":"retrievalOutput"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","name":"query","type":"String","from":"Reference","value":["Question"],"referenceKey":"Question","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","name":"systemPrompt","type":"String","from":"Input","value":""}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","name":"output","type":"Object","from":"Expand","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","name":"llmOutput","type":"string","from":"Input","description":"","value":""}]}]}},"isAsync":"true"}},"componentName":"llmComponent","index":102,"dirty":true},{"type":"endNodeEnd","container":"elsa-page:tvp1s6","id":"jadesoux5i","text":"结束","namespace":"flowable","x":1169.4642857142849,"y":306.4285714285713,"width":360,"height":212,"bold":false,"italic":false,"deletable":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","callback":{"type":"general_callback","name":"通知回调","fitables":["com.huawei.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","name":"finalOutput","type":"String","from":"Reference","referenceNode":"jadewdnjbq","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","value":["output","llmOutput"]}],"outputParams":[{}]}}}},"componentName":"endComponent","index":104,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade2zanyx","text":"","namespace":"flowable","x":189.1071428571429,"y":309.5,"width":86.642857142857,"height":112.35714285714278,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jade0pg2ag","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-95,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade5c5urs","text":"","namespace":"flowable","x":635.7499999999999,"y":421.8571428571428,"width":83.39285714285722,"height":-81.57142857142856,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade0pg2ag","toShape":"jadewdnjbq","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"jade1p0cdu","text":"","namespace":"flowable","x":1079.142857142857,"y":340.2857142857142,"width":90.32142857142776,"height":72.14285714285705,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadewdnjbq","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0,"direction":{"cursor":"ew-resize","key":"E","color":"whitesmoke","ax":"x","vector":1,"value":"E"}},"arrowEndPoint":{"x":96,"y":80,"direction":{"cursor":"ew-resize","key":"W","color":"whitesmoke","ax":"x","vector":-1,"value":"W"}},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-94,"dirty":true}],"index":0}],"enableText":false}') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at", "appearance") VALUES ('d14e513cadb84847b62e9d67b7d47a02', 'LLM模板', '马莉亚 00558975', '2024-05-17 20:03:15.794', '马莉亚 00558975', '2024-05-21 10:00:11.254', '{"id":"d14e513cadb84847b62e9d67b7d47a02","type":"jadeFlowGraph","pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":true,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":-170.8928571428571,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":100,"width":360,"height":554,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","description":"这是用户输入的问题","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"focusBorderWidth":2,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":275.7499999999999,"y":192.3571428571428,"id":"jade0pg2ag","pad":6,"bold":false,"text":"普通检索","type":"retrievalNodeState","dirty":true,"index":101,"width":360,"height":459,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"general_jober","fitables":["com.huawei.fit.jober.aipp.fitable.NaiveRAGComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"knowledge_01c41edd-a22b-4289-b1cf-8db835833261","from":"Expand","name":"knowledge","type":"Array","value":[]},{"id":"maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff","from":"Input","name":"maximum","type":"Integer","value":3}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Object","value":[{"id":"5c9c6535-c127-445a-862a-966cf1083929","from":"Input","name":"retrievalOutput","type":"String","value":"String"}]}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"retrievalComponent","focusBackColor":"white","enableAnimation":false,"focusBorderWidth":2,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":719.1428571428571,"y":-53.21428571428578,"id":"jadewdnjbq","pad":6,"bold":false,"text":"大模型","type":"llmNodeState","dirty":true,"index":102,"width":360,"height":787,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["com.huawei.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"Qwen1.5-32B-Chat"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":0.0},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","from":"Reference","name":"knowledge","type":"String","value":["output","retrievalOutput"],"referenceId":"5c9c6535-c127-445a-862a-966cf1083929","referenceKey":"retrievalOutput","referenceNode":"jade0pg2ag"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":"你的名字叫小海，是华为公司开发的存储知识问答机器人。\n你需要根据已知信息和自身知识回答问题，不要在回答中对问题进行重复，回答的内容也不要出现重复；\n回答过程请注意：\n1. 回答时保持专业，不要进行反问，也不要在回答中添加与提问无关的内容；\n2. 如果已知信息中包含和问题相关的内容，则问题的回答需要参考已知信息；\n3. 回答要简洁完整；\n\n请分行展示"}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"string","value":"","description":""}]}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"focusBorderWidth":2,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1169.4642857142849,"y":306.4285714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"结束","type":"endNodeEnd","dirty":true,"index":104,"width":360,"height":212,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["com.huawei.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","referenceNode":"jadewdnjbq"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"focusBorderWidth":2,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":189.1071428571429,"y":309.5,"id":"jade2zanyx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-95,"textX":0,"textY":0,"width":86.642857142857,"hAlign":"center","height":112.35714285714278,"italic":false,"margin":20,"toShape":"jade0pg2ag","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":635.7499999999999,"y":421.8571428571428,"id":"jade5c5urs","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-94,"textX":0,"textY":0,"width":83.39285714285722,"hAlign":"center","height":-81.57142857142856,"italic":false,"margin":20,"toShape":"jadewdnjbq","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade0pg2ag","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1079.142857142857,"y":340.2857142857142,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-94,"textX":0,"textY":0,"width":90.32142857142776,"hAlign":"center","height":72.14285714285705,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"d14e513cadb84847b62e9d67b7d47a02","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["com.huawei.fit.jober.aipp.fitable.AippFlowExceptionHandler"]},"enableText":false}') ON CONFLICT (id) DO NOTHING;

-- 租户信息（不确定是否需要）
INSERT INTO "public"."tenant" ("id", "name", "description", "avatar_id", "created_by", "updated_by", "created_at", "updated_at", "access_level") VALUES ('31f20efc7e0848deab6a6bc10fc3021e', 'appbuilder默认租户', '', '                                ', '180875152679256', '180875152679256', '2023-12-29 06:46:55.681', '2023-12-29 06:49:49.632', 'PUBLIC') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."tenant" ("id", "name", "description", "avatar_id", "created_by", "updated_by", "created_at", "updated_at", "access_level") VALUES ('727d7157b3d24209aefd59eb7d1c49ff', 'appbuilder默认租户1', '', '                                ', '180875152679256', '180875152679256', '2023-12-29 06:46:55.681', '2023-12-29 06:49:49.632', 'PUBLIC') ON CONFLICT (id) DO NOTHING;
