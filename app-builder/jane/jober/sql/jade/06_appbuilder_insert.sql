-- 任务模板
INSERT INTO "public"."task_template" ("id", "name", "description", "tenant_id") VALUES ('4f91b69973d1453aadf384d508aed894', '普通任务', '最基础的默认模板', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."task_template" ("id", "name", "description", "tenant_id") VALUES ('00000000000000000000000000000000', 'empty', 'empty', '00000000000000000000000000000000') ON CONFLICT (id) DO NOTHING;


INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('08f8fc32484d408aacbcff35bf8be687', '4f91b69973d1453aadf384d508aed894', 'id', 'TEXT', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('abb064f84f36496bb769321b1f3443c9', '4f91b69973d1453aadf384d508aed894', 'decomposed_from', 'TEXT', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('be686a0325694aadb688539f7523f88a', '4f91b69973d1453aadf384d508aed894', 'title', 'TEXT', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('59e0d16c3fe541899778beb76e56b0e3', '4f91b69973d1453aadf384d508aed894', 'owner', 'TEXT', 4) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('e2af84d4a8714ce8a87be79d19a5eb88', '4f91b69973d1453aadf384d508aed894', 'created_by', 'TEXT', 5) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('4aebbf316cf443d791e0280f56f435d6', '4f91b69973d1453aadf384d508aed894', 'created_date', 'DATETIME', 1) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('387c16ae70ac49f68f670f54e4456fc8', '4f91b69973d1453aadf384d508aed894', 'modified_by', 'TEXT', 6) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('354944b0e9234429aabfbafb08059c2e', '4f91b69973d1453aadf384d508aed894', 'modified_date', 'DATETIME', 2) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('c41b4da4013e484ead6fc8b03192dee2', '4f91b69973d1453aadf384d508aed894', 'status', 'TEXT', 7) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('34a33a519dd64dc5aa4b3c98c70a5989', '4f91b69973d1453aadf384d508aed894', 'target_url', 'TEXT', 8) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('456bc8b7b9754708828c68221af977c9', '4f91b69973d1453aadf384d508aed894', 'progress_feedback', 'TEXT', 9) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('d8e5fad3feed41fe8400bd2f35048abe', '4f91b69973d1453aadf384d508aed894', 'risk', 'TEXT', 10) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('e8cf80fdb51a4d4e9c9a9c660714efc7', '4f91b69973d1453aadf384d508aed894', 'priority', 'TEXT', 11) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('819adccd6214437fadec3936b297007b', '4f91b69973d1453aadf384d508aed894', 'finish_time', 'DATETIME', 3) ON CONFLICT (id) DO NOTHING;
INSERT INTO task_template_property ("id", "task_template_id", "name", "data_type", "sequence") VALUES ('aac65de27f014c3895228fdb5d32573e', '4f91b69973d1453aadf384d508aed894', 'tag', 'TEXT', 12) ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state", "app_built_type", "app_category", "path") VALUES ('df87073b9bc85a48a9b01eccc9afccc4', 'i18n_appBuilder_{llm_application_template}', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5d', '9997f1555b41452b924d1a8b2229bde3', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is llm description", "icon": "http://ab", "greeting": "hello", "app_type": "i18n_appBuilder_{interview_assistant}"}', 'inactive', 'basic',  'chatbot', NULL) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state", "app_built_type", "app_category", "path") VALUES ('df87073b9bc85a48a9b01eccc9afccc5', 'i18n_appBuilder_{llm_application_template}', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5f', '9997f1555b41452b924d1a8b2229bde5', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is llm description", "icon": "http://ab", "greeting": "hello", "app_type": "i18n_appBuilder_{interview_assistant}"}', 'inactive', 'workflow', 'chatbot', NULL) ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_app" ("id", "name", "create_by", "create_at", "update_by", "update_at", "config_id", "flow_graph_id", "tenant_id", "type", "version", "attributes", "state", "app_built_type", "app_category", "path") VALUES ('df87073b9bc85a48a9b01eccc9afccc3', 'i18n_appBuilder_{waterflow_template}', 'wzc', '2024-04-17 19:42:35', 'wzc', '2024-04-17 19:42:38', '45515ca5da9d04428f41086e291b4d5e', '9997f1555b41452b924d1a8b2229bde4', '31f20efc7e0848deab6a6bc10fc3021e', 'template', '1.0.0', '{"description:":"this is tool description"}', 'inactive', 'workflow', 'chatbot', NULL) ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5d', 'b8986770a6ffef44bbf2a9f26d6fc1bc', '847907b5da7ea644abe159a913dba403', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5f', 'b8986770a6ffef44bbf2a9f26d6fc1be', '847907b5da7ea644abe159a913dba405', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config" ("id", "form_id", "app_id", "tenant_id", "create_by", "create_at", "update_by", "update_at") VALUES ('45515ca5da9d04428f41086e291b4d5e', 'b8986770a6ffef44bbf2a9f26d6fc1bd', '847907b5da7ea644abe159a913dba404', '31f20efc7e0848deab6a6bc10fc3021e', 'wzc', '2024-04-17 19:57:34', 'wzc', '2024-04-17 19:57:41') ON CONFLICT (id) DO NOTHING;

-- basic
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('836f722491b476478dea2135d7f1d113', 'jadewdnjbq', 'd9fcb95f48d33648a4e12d629399d713', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2045fe16f5fe854d884b2f272100d68d', 'jadewdnjbq', '6269e12e4a908b4ba0d455c402ce8c3d', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedbb9c4d', 'jade6qm5eg', '9b3a72544963c64e806dc07d6fff5207', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2e48b8ccc78be34abdc18876eb649a6a', 'jadewdnjbq', '4df1cc408fb08b46842861dbfa3cb2ae', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('dcdd0ee7dbb76b478bfe5686ee557441', 'jadewdnjbq', 'b01af303ce27a544a45a3a9491aeb03e', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedff534d', NULL, '9b3a72544963c64e806dc07d6fff5208', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('5c7c8c088dfa2a4dac24f2b289726b78', 'jade0pg2ag', '46b39a9533bbb247a38e976d4af41eb0', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536b', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23504', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536c', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23512', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d536d', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23506', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('9c49ff92405a4bad8359e24102e84da5', NULL, '2d587082600f466c8c3ab2839b6e08ae', '45515ca5da9d04428f41086e291b4d5d') ON CONFLICT (id) DO NOTHING;
-- workflow
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d5363', 'jadewdnjbq', '3073f4896620fb488d9fd3349ee23526', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('2045fe16f5fe854d884b2f272100d68e', 'jadewdnjbq', '6269e12e4a908b4ba0d455c402ce8c3e', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('56fe4b031156b049b14f26feedbb9c4e', 'jade6qm5eg', '9b3a72544963c64e806dc07d6fff5209', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('5c7c8c088dfa2a4dac24f2b289726b79', 'jade0pg2ag', '46b39a9533bbb247a38e976d4af41eb1', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3073f4896620fb488d9fd3349ee23556', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41e34', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0b3677d53d8da544a82bbe900e9d5327', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41eb6', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3073f4896620fb488d9fd3349ee23508', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41eb7', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('3073f4896620fb488d9fd3349ee23509', 'jadewdnjbq', '46b39a9533bbb247a38e976d4af41eb8', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_config_property" ("id", "node_id", "form_property_id", "config_id") VALUES ('0d33b5d8b1a048c890c305e066f27437', NULL, '50ad63f4a48048f18ad97d0d83ae6039', '45515ca5da9d04428f41086e291b4d5f') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at", "update_by", "update_at", "form_suite_id", "version") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1bc', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', '5bdd730775ae40a395d3a4b560fb3b21', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at", "update_by", "update_at", "form_suite_id", "version") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1be', 'llm_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', 'f842408ca75b4d1082f758e72a5d2541', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at", "update_by", "update_at", "form_suite_id", "version") VALUES ('b8986770a6ffef44bbf2a9f26d6fc1bd', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component', 'wzc', '2024-04-17 20:16:29', 'wzc', '2024-04-17 20:16:33', 'bd9077218cd749ecb3d99e286618c6a3', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('dc92ba4fb47f4b13b4b8113aa5cfd99c', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component',
        'modelengine.jade', '2024-05-24 18:29:55.572', 'modelengine.jade', '2024-05-24 18:29:55.572',
        '129d165f0daf4ce0a48288ca7b78bf85', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('3ec9ead2ad5a478e82241af9e521f201', 'tool_config', '31f20efc7e0848deab6a6bc10fc3021e', '{}', 'component',
        'modelengine.jade', '2024-05-24 18:49:42.516', 'modelengine.jade', '2024-05-24 18:49:42.516',
        '3a88c5ced50044d5a1c1a7645fd5f1f7', '1.0.0') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form" ("id", "name", "tenant_id", "appearance", "type", "create_by", "create_at",
                                         "update_by", "update_at", "form_suite_id", "version")
VALUES ('a910a3d38a4549eda1112beee008419d', '表单', '31f20efc7e0848deab6a6bc10fc3021e',
        '{"imgUrl": "smart_form/b6255699-2e4f-409f-a578-b87b7435e389/form.png", "schema": {"return": {"type": "object", "properties": {"key": {"type": "object"}}}, "parameters": {"type": "object", "required": ["data", "schema"], "properties": {"data": {"type": "object", "default": {}}, "schema": {"type": "object", "default": {}}}}}, "fileName": "realSmartForm8.zip", "fileSize": 230991, "fileUuid": "4a9e63c2cefa4d9a98d111a2b7de5fcc", "iframeUrl": "smart_form/b6255699-2e4f-409f-a578-b87b7435e389/build/index.html", "description": ""}', 'runtime', 'Jade', '2025-03-18 18:08:01.815186', 'Jade', '2025-03-18 18:08:01.815231',
        '9871f27cfeae473e9e978555c4af9a1e', '1.0.0') ON CONFLICT (id) DO NOTHING;

-- basic
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('d9fcb95f48d33648a4e12d629399d713', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'basic', 'String', 'null', 'none', 'null', 'i18n_appBuilder_{form_property_basic}', 0, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('6269e12e4a908b4ba0d455c402ce8c3d', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'ability', 'String', 'null', 'none', 'basic', 'i18n_appBuilder_{form_property_ability}', 1, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('9b3a72544963c64e806dc07d6fff5207', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'model', 'List<String>', '["jadewdnjbq"]', 'graph', 'ability', 'i18n_appBuilder_{form_property_model}', 2, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('4df1cc408fb08b46842861dbfa3cb2ae', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'tools', 'List<List<String>>', '[["jadewdnjbq", "tools"],["jadewdnjbq", "workflows"]]', 'graph', 'ability', 'i18n_appBuilder_{form_property_tools}', 3, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('b01af303ce27a544a45a3a9491aeb03e', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'knowledge', 'List<String>', '["jade0pg2ag","knowledgeRepos"]', 'graph', 'ability', 'i18n_appBuilder_{form_property_knowledge}', 4, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('9b3a72544963c64e806dc07d6fff5208', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'chat', 'String', 'null', 'none', 'basic', 'i18n_appBuilder_{form_property_chat}', 5, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23504', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'opening', 'String', '"i18n_appBuilder_{form_property_opening_content}"', 'input', 'chat', 'i18n_appBuilder_{form_property_opening}', 6, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb0', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'memory', 'List<String>', '["jade6qm5eg", "memory"]', 'graph', 'chat', 'i18n_appBuilder_{form_property_memory}', 7, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23506', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'recommend', 'object', '{"showRecommend":false, "list":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_recommend}', 8, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23512', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_inspiration}', 9, 'df87073b9bc85a48a9b01eccc9afccc4') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "app_id", "data_from", "in_group", "description", "default_index") VALUES ('2d587082600f466c8c3ab2839b6e08ae', 'b8986770a6ffef44bbf2a9f26d6fc1bc', 'multimodal', 'object', '{"useMultimodal": true, "maxUploadFilesNum": 5, "autoChatOnUpload": false}', 'df87073b9bc85a48a9b01eccc9afccc4', 'input', 'chat', 'i18n_appBuilder_{form_property_multimodal}', 8) ON CONFLICT (id) DO NOTHING;
-- workflow
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('3073f4896620fb488d9fd3349ee23526', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'workflow', 'String', 'null', 'none', 'null', 'i18n_appBuilder_{form_property_workflow}', 0, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('6269e12e4a908b4ba0d455c402ce8c3e', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'ability', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_ability}', 1, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb6', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'enterWorkflow', 'String', 'null', 'none', 'ability', 'i18n_appBuilder_{form_property_enterWorkflow}', 2, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('9b3a72544963c64e806dc07d6fff5209', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'chat', 'String', 'null', 'none', 'workflow', 'i18n_appBuilder_{form_property_chat}', 3, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41e34', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'opening', 'String', '"i18n_appBuilder_{form_property_opening_content}"', 'input', 'chat', 'i18n_appBuilder_{form_property_opening}', 4, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb1', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'memory', 'List<String>', '["jade6qm5eg", "memory"]', 'graph', 'chat', 'i18n_appBuilder_{form_property_memory}', 5, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb8', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'recommend', 'object', '{"showRecommend":false, "list":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_recommend}', 6, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "data_from", "in_group", "description", "default_index", "app_id") VALUES ('46b39a9533bbb247a38e976d4af41eb7', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'inspiration', 'object', '{"category":[{"title":"root","id":"root","children":[]}],"inspirations":[]}', 'input', 'chat', 'i18n_appBuilder_{form_property_inspiration}', 7, 'df87073b9bc85a48a9b01eccc9afccc5') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_form_property" ("id", "form_id", "name", "data_type", "default_value", "app_id", "data_from", "in_group", "description", "default_index") VALUES ('50ad63f4a48048f18ad97d0d83ae6039', 'b8986770a6ffef44bbf2a9f26d6fc1be', 'multimodal', 'object', '{"useMultimodal": true, "maxUploadFilesNum": 5, "autoChatOnUpload": false}', 'df87073b9bc85a48a9b01eccc9afccc5', 'input', 'chat', 'i18n_appBuilder_{form_property_multimodal}', 8) ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('9997f1555b41452b924d1a8b2229bde4', 'tool模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42',
        '{"id":"9fd1e6736e734fc085a5ea34f4ba1b21","title":"9fd1e6736e734fc085a5ea34f4ba1b21","source":"elsa","type":"jadeFlowGraph","tenant":"default","setting":{"borderColor":"#047bfc","shadow":"","underline":false,"selectable":true,"fontFace":"arial","pDock":"none","headColor":"steelblue","itemScroll":{"x":0,"y":0},"vAlign":"top","cornerRadius":4,"rotateAble":true,"pad":10,"infoType":{"next":"INFORMATION","name":"none"},"focusMargin":0,"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"focusBackColor":"whitesmoke","tag":{},"captionfontColor":"whitesmoke","fontWeight":"lighter","captionlineHeight":1,"margin":25,"itemPad":[5,5,5,5],"autoHeight":false,"visible":true,"rotateDegree":0,"focusBorderColor":"#047bfc","priority":0,"fontStyle":"normal","backColor":"whitesmoke","captionfontFace":"arial black","dockMode":"none","dashWidth":0,"fontSize":12,"mouseInFontColor":"orange","resizeable":true,"captionfontWeight":"lighter","mouseInBorderColor":"#047bfc","autoText":false,"showedProgress":false,"shared":false,"code":"","hAlign":"center","deletable":true,"numberedList":false,"shadowData":"2px 2px 4px","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","allowLink":true,"lineWidth":2,"captionhAlign":"center","dragable":true,"focusShadow":"","emphasized":false,"borderWidth":1,"globalAlpha":1,"bulletedList":false,"enableAnimation":false,"autoWidth":false,"captionfontSize":14,"progressPercent":0.65,"strikethrough":false,"backAlpha":0.15,"focusFontColor":"darkorange","outstanding":false,"editable":true,"moveable":true,"captionfontStyle":"normal","mouseInColor":"orange","bulletSpeed":1,"enableSocial":true,"scrollLock":{"x":false,"y":false},"lineHeight":1.5,"fontColor":"steelblue","mouseInBackColor":"whitesmoke"},"pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc","shapes":[{"x":776.6424894555158,"y":415.53564816787656,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-98,"textX":0,"textY":0,"width":314.07170053851075,"hAlign":"center","height":-20.607221568854584,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E","runnable":true},{"x":-88.39275686449133,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":103,"width":360,"height":700,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","description":"这是用户输入的问题","disableModifiable":true}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":true},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)","runnable":true},{"x":416.64248945551583,"y":-79.46435183212344,"id":"jadewdnjbq","pad":6,"bold":false,"text":"大模型","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":990,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]}, {"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"Qwen1.5-32B-Chat"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":""},{"id":"58852742-5484-4870-9da0-65a7e41565ca","name":"maxMemoryRounds","type":"Integer","from":"input","value":"0"},{"id":"112405a9-cccb-4e3a-968e-0ef7ae81667a","from":"input","name":"enableLog","type":"Boolean","value":true}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)","runnable":true},{"x":1090.7141899940266,"y":248.92842659902198,"id":"jadesoux5i","pad":6,"bold":false,"text":"结束","type":"endNodeEnd","dirty":true,"index":106,"width":360,"height":292,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"fae1b650-075d-497d-a2b3-755ab315dca9","from":"Reference","name":"finalOutput","type":"String", "referenceNode":"jadewdnjbq","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","value":["output","llmOutput"],"editable":true,"isRequired":false},{"id": "c4469c16-88a7-4575-b339-9a06e3305f3b","from": "Input","name": "enableLog","type": "Boolean","value": false}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)","runnable":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"2bqgxs","text":"","namespace":"flowable","x":271.60724313550867,"y":382.5,"width":145.03524632000716,"height":33.03564816787656,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jadewdnjbq","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","runnable":true,"index":-96,"dirty":true}]}],"enableText":false,"flowMeta":{"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"enableOutputScope":true,"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}}}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('9997f1555b41452b924d1a8b2229bde5', 'LLM模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42',
        '{"id":"2c655f5cb7be43b98be873e71a9004a6","type":"jadeFlowGraph","pages":[{"x":-505.07000329163884,"y":261.0119047619048,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":189.1071428571429,"y":396.5,"id":"jade2zanyx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":0,"textX":0,"textY":0,"width":84.142857142857,"hAlign":"center","height":-148.89285714285722,"italic":false,"margin":20,"toShape":"jade0pg2ag","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1710.392857142857,"y":285.2857142857142,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":1,"textX":0,"textY":0,"width":126.57142857142776,"hAlign":"center","height":142.39285714285705,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":-170.8928571428571,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"i18n_appBuilder_{start_node}","type":"startNodeStart","dirty":false,"index":2,"width":360,"height":728,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","isVisible":true,"isRequired":true,"description":"i18n_appBuilder_{flow_graph_question_description}","displayName":"i18n_appBuilder_{question_displayName}","disableModifiable":true}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":273.2499999999999,"y":1.107142857142776,"id":"jade0pg2ag","pad":6,"bold":false,"text":"i18n_appBuilder_{knowledge_retrieval_node}","type":"knowledgeRetrievalNodeState","dirty":false,"index":3,"width":360,"height":493,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"query"},{"name":"knowledgeRepos"},{"name":"option"},{"name":"userId"}],"return":{"type":"object"},"uniqueName":"25887d76-e358-4121-800c-31eb3390fdbd"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","from":"Reference","name":"query","type":"Object","value":["Question"],"editable":false,"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"knowledgeRepos_01c41edd-a22b-4289-b1cf-8db835833261","from":"Expand","name":"knowledgeRepos","type":"Array","value":[]},{"id":"option_68f4b238-8e3c-42e1-9795-5a2c8593c22c","from":"Expand","name":"option","type":"Object","value":[{"id":"b873aff7-8c76-4e4d-80fc-96faa51615d2","from":"Input","name":"groupId","type":"String","value":"#app_builder_default_knowledge_set#"},{"id":"03ce03b6-8d00-4fb0-bf32-85b2b40aaaee","from":"Expand","name":"indexType","type":"Object","value":[{"id":"543ff920-9927-48c6-bb65-cb1b97944b65","from":"input","name":"type","type":"String","value":"semantic"},{"id":"03d471a3-d4da-48a3-bbf8-d05bf06374e1","from":"input","name":"name","type":"String","value":"语义检索"},{"id":"647d0884-5539-4618-922e-af12b08d1d34","from":"input","name":"description","type":"String","value":"基于文本的含义检索出最相关的内容"}]},{"id":"a6a619c8-eef0-4bfa-9e12-a8994edfb83f","from":"input","name":"similarityThreshold","type":"Number","value":0.5},{"id":"c809934a-9023-48dc-a2c8-e33274ab7101","from":"Expand","name":"referenceLimit","type":"Object","value":[{"id":"369ad79e-397f-417c-b671-c4f714734693","from":"input","name":"type","type":"String","value":"topK"},{"id":"31071b92-7d9f-443b-930c-3329d05671f5","from":"input","name":"value","type":"Integer","value":3}]},{"id":"e45abef0-e276-42ea-832a-87e4a2aeb2be","from":"Expand","name":"rerankParam","type":"Object","value":[{"id":"5b737124-7de9-45b9-bff3-87c6b4d817e8","from":"input","name":"enableRerank","type":"Boolean","value":false}]}]},{"id":"userId_eea28ef5-6b50-41e8-ab98-88ad11612a48","name":"userId","type":"String","from":"Reference","referenceNode":"_systemEnv","referenceId":"userId","referenceKey":"userId","editable":false,"value":["userId"]}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Array","value":[]}]}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1},"triggerMode":"auto"},"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"knowledgeRetrievalComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1350.392857142857,"y":-198.21428571428578,"id":"jadewdnjbq","pad":6,"bold":false,"text":"i18n_appBuilder_{llm_node}","type":"llmNodeState","dirty":false,"index":4,"width":360,"height":967,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","from":"Expand","name":"accessInfo","type":"Object","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","from":"Input","name":"serviceName","type":"String","value":"#app_builder_default_model_name#"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","from":"Input","name":"tag","type":"String","value":"#app_builder_default_tag#"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"#app_builder_default_model_name#"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"i18n_appBuilder_{app_template_flow_graph_prompt}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"e2f51f9f-a0f9-4b8e-a75a-b2016e52d845","from":"Reference","name":"multiModalInput","type":"String","value":["output"],"referenceId":"output_0293c652-6ae1-47cd-ad1c-9ef657dc17db","referenceKey":"output","referenceNode":"jadei1c5kr"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":""},{"id":"78baad16-173f-4d70-a7cd-d1a2abc2f0d1","from":"input","name":"enableLog","type":"Boolean","value":true},{"id":"1d2b1fb2-fef2-4bd2-bf9c-899f55b8cf90","from":"Input","name":"maxMemoryRounds","type":"Integer","value":"3"},{"id":"6a506211-eff2-47a8-8e05-e64adf8a3fd9","from":"Expand","name":"knowledgeBases","type":"Array","value":[{"referenceNode":"jade0pg2ag","referenceId":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","value":["output"],"type":"Array","referenceKey":"output","from":"Reference","id":"78c9ff6c-b9f6-4489-80f9-00e245225196"}]}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""},{"id":"448dce38-bac1-43f4-9e51-51ac89f2164f","from":"Input","name":"reference","type":"Array","value":[],"description":""}]}],"tempReference":{}}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1},"triggerMode":"auto"},"hasError":false,"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28, 31, 35, 0.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74, 147, 255, 0.12)","outlineWidth":10,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"focusBorderColor":"rgb(4, 123, 252)","mouseInBorderColor":"rgb(4, 123, 252)"},{"x":1836.9642857142849,"y":287.6785714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"i18n_appBuilder_{end_node}","type":"endNodeEnd","dirty":false,"index":5,"width":360,"height":280,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"54dab89c-5693-4082-baa7-12c648d812f7","from":"Expand","name":"finalOutput","type":"Object","value":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"editable":true,"isRequired":true,"description":"","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","referenceNode":"jadewdnjbq"}],"editable":false,"isRequired":false,"referenceId":"","referenceKey":"","referenceNode":""},{"id":"c26bf2ca-75b3-4a6f-bc47-132c2e170895","from":"Input","name":"enableLog","type":"Boolean","value":false}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":746.2896825396826,"y":16.488095238095184,"id":"jadei1c5kr","pad":6,"bold":false,"text":"i18n_appBuilder_{file_extraction}","type":"fileExtractionNodeState","dirty":false,"index":6,"width":368,"height":439,"italic":false,"flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"fileExtractionParam"}],"return":{"type":"string"},"uniqueName":"e2bd847f-2cfa-4cdc-b326-4d15a15c6a0d"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"fileExtraction_f8a7c1b9-b5db-4008-85ad-5b53aa118e84","from":"Expand","name":"fileExtractionParam","type":"Object","value":[{"id":"5bc93cb1-e05f-449c-8a38-026218539d45","from":"Reference","name":"files","type":"Array","value":["fileUrls"],"editable":false,"referenceId":"fileUrls","referenceKey":"fileUrls","referenceNode":"_systemEnv"},{"id":"prompt_ba5bf9bc-d43e-4fe6-8a54-066803c92600","from":"Input","name":"prompt","type":"String","value":""}]}],"outputParams":[{"id":"output_0293c652-6ae1-47cd-ad1c-9ef657dc17db","from":"Input","name":"output","type":"String","value":""}]}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1},"triggerMode":"auto"},"hasError":false,"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"jadeFlow","autoHeight":true,"emphasized":false,"enableMask":false,"rotateAble":false,"borderColor":"rgba(28, 31, 35, 0.08)","borderWidth":1,"runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74, 147, 255, 0.12)","outlineWidth":10,"completedTask":0,"componentName":"fileExtractionComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"focusBorderColor":"rgb(4, 123, 252)","focusBorderWidth":1,"mouseInBorderColor":"rgb(4, 123, 252)"},{"x":633.2499999999999,"y":247.60714285714278,"id":"jadedniaj7","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":7,"textX":0,"textY":0,"width":113.03968253968276,"hAlign":"center","height":-11.619047619047592,"italic":false,"margin":20,"toShape":"jadei1c5kr","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade0pg2ag","lineWidth":2,"namespace":"elsa","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1114.2896825396826,"y":235.98809523809518,"id":"jade8pwvrd","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":8,"textX":0,"textY":0,"width":236.10317460317447,"hAlign":"center","height":49.29761904761904,"italic":false,"margin":20,"toShape":"jadewdnjbq","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadei1c5kr","lineWidth":2,"namespace":"elsa","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"2c655f5cb7be43b98be873e71a9004a6","source":"elsa","tenant":"31f20efc7e0848deab6a6bc10fc3021e","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"allNodeNumLimit":99,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc","sameTypeNodeNumLimit":19},"flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"]},"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"]},"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('9997f1555b41452b924d1a8b2229bde3', 'LLM模板', 'wzc', '2024-04-17 20:41:29', 'wzc', '2024-04-17 20:41:42',
        '{"id":"2c655f5cb7be43b98be873e71a9004a6","type":"jadeFlowGraph","pages":[{"x":-505.07000329163884,"y":261.0119047619048,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":189.1071428571429,"y":396.5,"id":"jade2zanyx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":0,"textX":0,"textY":0,"width":84.142857142857,"hAlign":"center","height":-148.89285714285722,"italic":false,"margin":20,"toShape":"jade0pg2ag","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1710.392857142857,"y":285.2857142857142,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":1,"textX":0,"textY":0,"width":126.57142857142776,"hAlign":"center","height":142.39285714285705,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":-170.8928571428571,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"i18n_appBuilder_{start_node}","type":"startNodeStart","dirty":false,"index":2,"width":360,"height":728,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","isVisible":true,"isRequired":true,"description":"i18n_appBuilder_{flow_graph_question_description}","displayName":"i18n_appBuilder_{question_displayName}","disableModifiable":true}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]},{"id":"91138f09-b635-43df-95c6-1fe3d1745830","from":"Expand","name":"appConfig","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dadf","from":"Input","name":"appChatStyle","type":"String","value":"default"}]}],"triggerMode":"auto"},"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":273.2499999999999,"y":1.107142857142776,"id":"jade0pg2ag","pad":6,"bold":false,"text":"i18n_appBuilder_{knowledge_retrieval_node}","type":"knowledgeRetrievalNodeState","dirty":false,"index":3,"width":360,"height":493,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"query"},{"name":"knowledgeRepos"},{"name":"option"},{"name":"userId"}],"return":{"type":"object"},"uniqueName":"25887d76-e358-4121-800c-31eb3390fdbd"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","from":"Reference","name":"query","type":"Object","value":["Question"],"editable":false,"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"knowledgeRepos_01c41edd-a22b-4289-b1cf-8db835833261","from":"Expand","name":"knowledgeRepos","type":"Array","value":[]},{"id":"option_68f4b238-8e3c-42e1-9795-5a2c8593c22c","from":"Expand","name":"option","type":"Object","value":[{"id":"b873aff7-8c76-4e4d-80fc-96faa51615d2","from":"Input","name":"groupId","type":"String","value":"#app_builder_default_knowledge_set#"},{"id":"03ce03b6-8d00-4fb0-bf32-85b2b40aaaee","from":"Expand","name":"indexType","type":"Object","value":[{"id":"543ff920-9927-48c6-bb65-cb1b97944b65","from":"input","name":"type","type":"String","value":"semantic"},{"id":"03d471a3-d4da-48a3-bbf8-d05bf06374e1","from":"input","name":"name","type":"String","value":"语义检索"},{"id":"647d0884-5539-4618-922e-af12b08d1d34","from":"input","name":"description","type":"String","value":"基于文本的含义检索出最相关的内容"}]},{"id":"a6a619c8-eef0-4bfa-9e12-a8994edfb83f","from":"input","name":"similarityThreshold","type":"Number","value":0.5},{"id":"c809934a-9023-48dc-a2c8-e33274ab7101","from":"Expand","name":"referenceLimit","type":"Object","value":[{"id":"369ad79e-397f-417c-b671-c4f714734693","from":"input","name":"type","type":"String","value":"topK"},{"id":"31071b92-7d9f-443b-930c-3329d05671f5","from":"input","name":"value","type":"Integer","value":3}]},{"id":"e45abef0-e276-42ea-832a-87e4a2aeb2be","from":"Expand","name":"rerankParam","type":"Object","value":[{"id":"5b737124-7de9-45b9-bff3-87c6b4d817e8","from":"input","name":"enableRerank","type":"Boolean","value":false}]}]},{"id":"userId_eea28ef5-6b50-41e8-ab98-88ad11612a48","name":"userId","type":"String","from":"Reference","referenceNode":"_systemEnv","referenceId":"userId","referenceKey":"userId","editable":false,"value":["userId"]}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Array","value":[]}]}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1},"triggerMode":"auto"},"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"knowledgeRetrievalComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1350.392857142857,"y":-198.21428571428578,"id":"jadewdnjbq","pad":6,"bold":false,"text":"i18n_appBuilder_{llm_node}","type":"llmNodeState","dirty":false,"index":4,"width":360,"height":967,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","from":"Expand","name":"accessInfo","type":"Object","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","from":"Input","name":"serviceName","type":"String","value":"#app_builder_default_model_name#"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","from":"Input","name":"tag","type":"String","value":"#app_builder_default_tag#"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"#app_builder_default_model_name#"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":"0.3"},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"i18n_appBuilder_{app_template_flow_graph_prompt}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"e2f51f9f-a0f9-4b8e-a75a-b2016e52d845","from":"Reference","name":"multiModalInput","type":"String","value":["output"],"referenceId":"output_0293c652-6ae1-47cd-ad1c-9ef657dc17db","referenceKey":"output","referenceNode":"jadei1c5kr"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":""},{"id":"78baad16-173f-4d70-a7cd-d1a2abc2f0d1","from":"input","name":"enableLog","type":"Boolean","value":true},{"id":"1d2b1fb2-fef2-4bd2-bf9c-899f55b8cf90","from":"Input","name":"maxMemoryRounds","type":"Integer","value":"3"},{"id":"6a506211-eff2-47a8-8e05-e64adf8a3fd9","from":"Expand","name":"knowledgeBases","type":"Array","value":[{"referenceNode":"jade0pg2ag","referenceId":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","value":["output"],"type":"Array","referenceKey":"output","from":"Reference","id":"78c9ff6c-b9f6-4489-80f9-00e245225196"}]}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""},{"id":"448dce38-bac1-43f4-9e51-51ac89f2164f","from":"Input","name":"reference","type":"Array","value":[],"description":""}]}],"tempReference":{}}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1},"triggerMode":"auto"},"hasError":false,"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28, 31, 35, 0.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74, 147, 255, 0.12)","outlineWidth":10,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"focusBorderColor":"rgb(4, 123, 252)","mouseInBorderColor":"rgb(4, 123, 252)"},{"x":1836.9642857142849,"y":287.6785714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"i18n_appBuilder_{end_node}","type":"endNodeEnd","dirty":false,"index":5,"width":360,"height":280,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"54dab89c-5693-4082-baa7-12c648d812f7","from":"Expand","name":"finalOutput","type":"Object","value":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"editable":true,"isRequired":true,"description":"","referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","referenceNode":"jadewdnjbq"}],"editable":false,"isRequired":false,"referenceId":"","referenceKey":"","referenceNode":""},{"id":"c26bf2ca-75b3-4a6f-bc47-132c2e170895","from":"Input","name":"enableLog","type":"Boolean","value":false}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"emphasized":false,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":746.2896825396826,"y":16.488095238095184,"id":"jadei1c5kr","pad":6,"bold":false,"text":"i18n_appBuilder_{file_extraction}","type":"fileExtractionNodeState","dirty":false,"index":6,"width":368,"height":439,"italic":false,"flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"fileExtractionParam"}],"return":{"type":"string"},"uniqueName":"e2bd847f-2cfa-4cdc-b326-4d15a15c6a0d"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"fileExtraction_f8a7c1b9-b5db-4008-85ad-5b53aa118e84","from":"Expand","name":"fileExtractionParam","type":"Object","value":[{"id":"5bc93cb1-e05f-449c-8a38-026218539d45","from":"Reference","name":"files","type":"Array","value":["fileUrls"],"editable":false,"referenceId":"fileUrls","referenceKey":"fileUrls","referenceNode":"_systemEnv"},{"id":"prompt_ba5bf9bc-d43e-4fe6-8a54-066803c92600","from":"Input","name":"prompt","type":"String","value":""}]}],"outputParams":[{"id":"output_0293c652-6ae1-47cd-ad1c-9ef657dc17db","from":"Input","name":"output","type":"String","value":""}]}}},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1},"triggerMode":"auto"},"hasError":false,"hideText":true,"moveable":true,"runnable":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"jadeFlow","autoHeight":true,"emphasized":false,"enableMask":false,"rotateAble":false,"borderColor":"rgba(28, 31, 35, 0.08)","borderWidth":1,"runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"outlineColor":"rgba(74, 147, 255, 0.12)","outlineWidth":10,"completedTask":0,"componentName":"fileExtractionComponent","focusBackColor":"white","sourcePlatform":"official","enableAnimation":false,"focusBorderColor":"rgb(4, 123, 252)","focusBorderWidth":1,"mouseInBorderColor":"rgb(4, 123, 252)"},{"x":633.2499999999999,"y":247.60714285714278,"id":"jadedniaj7","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":7,"textX":0,"textY":0,"width":113.03968253968276,"hAlign":"center","height":-11.619047619047592,"italic":false,"margin":20,"toShape":"jadei1c5kr","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade0pg2ag","lineWidth":2,"namespace":"elsa","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1114.2896825396826,"y":235.98809523809518,"id":"jade8pwvrd","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":false,"index":8,"textX":0,"textY":0,"width":236.10317460317447,"hAlign":"center","height":49.29761904761904,"italic":false,"margin":20,"toShape":"jadewdnjbq","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"runnable":true,"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadei1c5kr","lineWidth":2,"namespace":"elsa","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"2c655f5cb7be43b98be873e71a9004a6","source":"elsa","tenant":"31f20efc7e0848deab6a6bc10fc3021e","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"outlineColor":"rgba(74,147,255,0.12)","outlineWidth":10,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"allNodeNumLimit":99,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc","sameTypeNodeNumLimit":19},"flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"]},"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"]},"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('beefffd1168b4785a71f149a2a530d2f', 'tool模板', 'modelengine.jade', '2024-05-24 18:29:55.572',
        'modelengine.jade', '2024-05-24 18:34:46.521',
        '{"id":"beefffd1168b4785a71f149a2a530d2f","type":"jadeFlowGraph","pages":[{"x":176.21031746031747,"y":-46.488095238095184,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":true,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":-145.8928571428571,"y":230,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":101,"width":360,"height":528,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"query","type":"String","value":"","description":"用户问题。"}],"config":[{"allowAdd":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":2334.464285714285,"y":378.9285714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"财经问答结束","type":"endNodeEnd","dirty":true,"index":102,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output"],"referenceId":"output_fc952038-1a14-442b-bd78-8515e69449fa","referenceKey":"output","referenceNode":"jadecoarmv"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":291.28968253968253,"y":366.4880952380952,"id":"jade3axbnw","pad":6,"bold":false,"text":"问题路由","type":"toolInvokeNodeState","dirty":true,"index":102,"width":360,"height":259,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"query"}],"return":{"type":"object"},"uniqueName":"c6c2d272-90e5-4c06-b8fa-5d94930b7532"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_c958c2fd-b97e-481f-8cff-55e7d8564d5d","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}],"outputParams":[{"id":"output_2d3a958f-ac5c-413f-bf27-e39425597f72","name":"output","type":"Object","value":[{"id":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","name":"result","type":"String","value":"String"},{"id":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","name":"matched","type":"Boolean","value":"Boolean"},{"id":"92a77575-7d95-4e51-ab3b-7ce14385b2d4","name":"completeQuery","type":"String","value":"String"}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"toolInvokeComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1868.7896825396824,"y":343.9880952380952,"id":"jadecoarmv","pad":6,"bold":false,"text":"结果生成","type":"toolInvokeNodeState","dirty":true,"index":103,"width":360,"height":304,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"STORE_JOBER","entity":{"params":[{"name":"condition"},{"name":"query"}],"return":{"type":"string"},"uniqueName":"24474301-937a-4335-a155-1e86d1a48de0"},"fitables":[],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"condition_b63e38ea-b27e-4895-b2d8-de84384fae2e","from":"Reference","name":"condition","type":"String","value":["output","llmOutput"],"referenceId":"8e900cd6-d151-402b-b6b2-194790edf467","referenceKey":"llmOutput","referenceNode":"jade5wc1ee"},{"id":"query_88827f8c-a610-46b7-8b50-4531bb87763f","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}],"outputParams":[{"id":"output_fc952038-1a14-442b-bd78-8515e69449fa","name":"output","type":"String","value":[]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"toolInvokeComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":726.2896825396825,"y":317.7380952380952,"id":"jadelh4543","pad":6,"bold":false,"text":"条件","type":"conditionNodeCondition","dirty":true,"index":104,"width":600,"height":357,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"triggerMode":"auto","conditionParams":{"branches":[{"id":"ad2e05b6-593a-4d86-81e0-1b1b504c2795","type":"if","conditions":[{"id":"5d96df3a-5192-4de8-9743-63cf9f0259ec","value":[{"id":"3fc094bc-8496-4e7e-a940-97b092d7e67d","from":"Reference","name":"left","type":"Boolean","value":["output","matched"],"referenceId":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","referenceKey":"matched","referenceNode":"jade3axbnw"},{"id":"f770e6fe-a612-4fb8-8c40-d51bcef05baf","from":"Reference","name":"right","type":"","value":"","referenceId":"","referenceKey":"","referenceNode":""}],"condition":"is true"}],"conditionRelation":"and"}]},"joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"conditionComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1405.0396825396824,"y":56.488095238095184,"id":"jade5wc1ee","pad":6,"bold":false,"text":"财经问题专属模型","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":851,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"c490ace3-472c-4c95-bf29-760982f62c64","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"c1ea0b9c-97c9-466e-bd42-b0eb6046dc3a","from":"Input","name":"temperature","type":"Number","value":"0"},{"id":"89cda9b5-f975-42ba-a426-a83a6cbdddb3","from":"Expand","name":"prompt","type":"Object","value":[{"id":"12fe982a-0fbd-4461-a159-51e09de31dc0","from":"Input","name":"template","type":"String","value":"{{query}}"},{"id":"6e78da7c-3d62-4df8-98cf-310b06691a4e","from":"Expand","name":"variables","type":"Object","value":[{"id":"1ec181db-eed1-4089-a580-f656de258322","from":"Reference","name":"query","type":"String","value":["output","result"],"referenceId":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","referenceKey":"result","referenceNode":"jade3axbnw"}]}]},{"id":"a5f228f5-167e-4fbc-8114-69bcd9c76a4c","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"f548ab63-9add-4053-a3a6-cb7682c362af","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"4ff72b6e-18b8-430c-a509-d1bf8a53bbe5","from":"Input","name":"systemPrompt","type":"String","value":""}],"outputParams":[{"id":"8cc96b96-765d-4f13-ba10-d9dff76a2615","from":"Expand","name":"output","type":"Object","value":[{"id":"8e900cd6-d151-402b-b6b2-194790edf467","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1410.0396825396824,"y":1000.2380952380952,"id":"jaded1ufou","pad":6,"bold":false,"text":"普通问答模型","type":"llmNodeState","dirty":true,"index":106,"width":360,"height":851,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"f9586db3-72f9-4d33-9f01-893bbfa61277","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"e0b992c2-739a-43b1-9cbc-b6747eb7592f","from":"Input","name":"temperature","type":"Number","value":"0.3"},{"id":"95ba86be-5c03-4258-b5ce-32b0eae17b5c","from":"Expand","name":"prompt","type":"Object","value":[{"id":"123d6c59-c525-4100-a66b-72b1a2c4e625","from":"Input","name":"template","type":"String","value":"{{query}}"},{"id":"892b3e12-2895-4e79-b668-5d6a6bd79fe6","from":"Expand","name":"variables","type":"Object","value":[{"id":"c779f80b-c15f-416d-ad1b-6628cb24fe8c","from":"Reference","name":"query","type":"String","value":["query"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","referenceNode":"jade6qm5eg"}]}]},{"id":"a4e83ae4-4f4b-4407-a2bc-a9570886329e","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"08297d4d-4f38-44c0-b049-638a2008a884","from":"Expand","name":"workflows","type":"Array","value":[]},{"id":"f4fd8b0a-aeaf-47e2-8914-5501ba5bb4b1","from":"Input","name":"systemPrompt","type":"String","value":""}],"outputParams":[{"id":"9024f034-bacc-4ac0-812f-e270fa6997b9","from":"Expand","name":"output","type":"Object","value":[{"id":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1901.2896825396824,"y":1336.4880952380952,"id":"jadela7k5y","pad":6,"bold":false,"text":"普通问答结束","type":"endNodeEnd","dirty":true,"index":107,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"e09784cb-3ae9-4581-aa63-1b83f09fd7ed","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"referenceId":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","referenceKey":"llmOutput","referenceNode":"jaded1ufou"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":214.1071428571429,"y":494,"id":"4iyvh1","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-92,"textX":0,"textY":0,"width":77.18253968253964,"hAlign":"center","height":1.988095238095184,"italic":false,"margin":20,"toShape":"jade3axbnw","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":651.2896825396825,"y":495.9880952380952,"id":"6rh9x7","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-91,"textX":0,"textY":0,"width":75,"hAlign":"center","height":0.25,"italic":false,"margin":20,"toShape":"jadelh4543","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade3axbnw","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1313.2897283160496,"y":512.7380952380952,"id":"vosd6p","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-90,"textX":0,"textY":0,"width":91.74995422363281,"hAlign":"center","height":-30.75,"italic":false,"margin":20,"toShape":"jade5wc1ee","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadelh4543","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"dynamic-0"},{"x":1765.0396825396824,"y":481.9880952380952,"id":"4qny17","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-89,"textX":0,"textY":0,"width":103.75,"hAlign":"center","height":14,"italic":false,"margin":20,"toShape":"jadecoarmv","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade5wc1ee","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":2228.7896825396824,"y":495.9880952380952,"id":"0vxnrc","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-88,"textX":0,"textY":0,"width":105.67460317460245,"hAlign":"center","height":-10.05952380952391,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadecoarmv","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1313.2897283160496,"y":632.1599778674897,"id":"v3a2mn","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-87,"textX":0,"textY":0,"width":96.74995422363281,"hAlign":"center","height":793.5781173706055,"italic":false,"margin":20,"toShape":"jaded1ufou","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadelh4543","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"dynamic-2"},{"x":1770.0396825396824,"y":1425.7380952380952,"id":"fv8h4v","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-86,"textX":0,"textY":0,"width":131.25,"hAlign":"center","height":17.75,"italic":false,"margin":20,"toShape":"jadela7k5y","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jaded1ufou","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"endArrowSize":4,"arrowEndPoint":{"x":0,"y":0},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"beefffd1168b4785a71f149a2a530d2f","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"enableText":false}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."app_builder_flow_graph" ("id", "name", "create_by", "create_at", "update_by", "update_at",
                                               "appearance")
VALUES ('b2ecde0b919841f5867d2e89bb46095c', 'LLM模板', 'modelengine.jade', '2024-05-24 18:29:52.043',
        'modelengine.jade', '2024-05-24 18:40:48.545',
        '{"id":"b2ecde0b919841f5867d2e89bb46095c","type":"jadeFlowGraph","pages":[{"x":297.46031746031747,"y":121.01190476190482,"id":"elsa-page:tvp1s6","bold":false,"mode":"configuration","text":"newFlowPage","type":"jadeFlowPage","dirty":false,"index":0,"width":1600,"hAlign":"left","height":800,"isPage":true,"italic":false,"scaleX":0.8,"scaleY":0.8,"shapes":[{"x":189.1071428571429,"y":296.5,"id":"jade2zanyx","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-100,"textX":0,"textY":0,"width":86.642857142857,"hAlign":"center","height":96.85714285714278,"italic":false,"margin":20,"toShape":"jade0pg2ag","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade6qm5eg","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":635.7499999999999,"y":393.3571428571428,"id":"jade5c5urs","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-99,"textX":0,"textY":0,"width":83.39285714285722,"hAlign":"center","height":-0.5714285714285552,"italic":false,"margin":20,"toShape":"jadewdnjbq","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jade0pg2ag","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":1079.142857142857,"y":392.7857142857142,"id":"jade1p0cdu","pad":0,"bold":false,"text":"","type":"jadeEvent","dirty":true,"index":-98,"textX":0,"textY":0,"width":90.32142857142776,"hAlign":"center","height":20.642857142857054,"italic":false,"margin":20,"toShape":"jadesoux5i","endArrow":true,"hideText":true,"lineMode":{"type":"auto_curve"},"allowLink":false,"backColor":"white","container":"elsa-page:tvp1s6","fromShape":"jadewdnjbq","lineWidth":2,"namespace":"flowable","beginArrow":false,"borderColor":"#B1B1B7","borderWidth":1,"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[{"x":50,"y":0},{"x":50,"y":80}],"endArrowSize":4,"arrowEndPoint":{"x":96,"y":80,"direction":{"ax":"x","key":"W","color":"whitesmoke","value":"W","cursor":"ew-resize","vector":-1}},"endArrowEmpty":false,"beginArrowSize":4,"arrowBeginPoint":{"x":0,"y":0,"direction":{"ax":"x","key":"E","color":"whitesmoke","value":"E","cursor":"ew-resize","vector":1}},"beginArrowEmpty":false,"definedToConnector":"W","mouseInBorderColor":"#B1B1B7","allowSwitchLineMode":false,"definedFromConnector":"E"},{"x":-170.8928571428571,"y":32.5,"id":"jade6qm5eg","pad":6,"bold":false,"text":"开始","type":"startNodeStart","dirty":true,"index":103,"width":360,"height":528,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"inputParams":[{"id":"91138f09-b635-43df-95c6-1fe3d1745829","from":"Expand","name":"input","type":"Object","value":[{"id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","from":"Input","name":"Question","type":"String","value":"","description":"i18n_appBuilder_{flow_graph_question_description}","disableModifiable":true}]},{"id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","from":"Expand","name":"memory","type":"Object","value":[{"id":"a7675623-7fc7-468c-8910-e73c70e5e468","from":"Input","name":"memorySwitch","type":"Boolean","value":false},{"id":"cee9a31b-781c-4835-a616-ceed73be22f2","from":"Input","name":"type","type":"String","value":"ByConversationTurn"},{"id":"69592622-4291-409d-9d65-9faea83db657","from":"Input","name":"value","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":false,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"startComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":275.7499999999999,"y":192.3571428571428,"id":"jade0pg2ag","pad":6,"bold":false,"text":"普通检索","type":"retrievalNodeState","dirty":true,"index":104,"width":360,"height":402,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","fitables":["modelengine.fit.jober.aipp.fitable.NaiveRAGComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"query_0ab55575-f21d-4b19-9676-57fcb4b0b783","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"},{"id":"knowledge_01c41edd-a22b-4289-b1cf-8db835833261","from":"Expand","name":"knowledge","type":"Array","value":[]},{"id":"maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff","from":"Input","name":"maximum","type":"Integer","value":3}],"outputParams":[{"id":"output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84","from":"Expand","name":"output","type":"Object","value":[{"id":"5c9c6535-c127-445a-862a-966cf1083929","from":"Input","name":"retrievalOutput","type":"String","value":"String"}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"retrievalComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":719.1428571428571,"y":-30.71403761434209,"id":"jadewdnjbq","pad":6,"bold":false,"text":"大模型","type":"llmNodeState","dirty":true,"index":105,"width":360,"height":892,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"jober":{"name":"","type":"general_jober","isAsync":"true","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"6c414e75-971e-403a-b2b1-c6850f128cc4","from":"Input","name":"model","type":"String","value":"Qwen-72B"},{"id":"db5fdafa-4cbf-44ba-9cca-8a98f1f771f4","from":"Input","name":"temperature","type":"Number","value":0.0},{"id":"88f74d78-4711-4f81-a2e7-74d0034c5e88","from":"Expand","name":"prompt","type":"Object","value":[{"id":"35a710cf-1b79-4523-b16f-b50878d677fe","from":"Input","name":"template","type":"String","value":"请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"},{"id":"38fb27a1-71f4-4fcc-87d5-9d8a880bc04d","from":"Expand","name":"variables","type":"Object","value":[{"id":"aeba7823-8d14-4750-9723-55265ae71c4e","from":"Reference","name":"knowledge","type":"String","value":["output","retrievalOutput"],"referenceId":"5c9c6535-c127-445a-862a-966cf1083929","referenceKey":"retrievalOutput","referenceNode":"jade0pg2ag"},{"id":"eee66922-4304-4209-89fc-b13ffa101630","from":"Reference","name":"query","type":"String","value":["Question"],"referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"Question","referenceNode":"jade6qm5eg"}]}]},{"id":"a6865419-867c-4bfb-855c-f5c1876c965a","from":"Expand","name":"tools","type":"Array","value":[]},{"id":"308e2023-a8e9-486e-9784-8680addbb786","from":"Expand","name":"workflows","type":"Array","value":[{"id":"ae0bd892-91fc-45ef-83ca-819294384386","from":"input","type":"String","value":"d613c69e-ad85-4edb-a126-8ccd6341cd64"}]},{"id":"68f92923-d5da-42ce-8478-d7ac7d90664e","from":"Input","name":"systemPrompt","type":"String","value":""}],"outputParams":[{"id":"95d84d67-3198-415e-a63c-bc9a2da8d821","from":"Expand","name":"output","type":"Object","value":[{"id":"272c927a-9e25-48b6-a921-6a8ab20267a4","from":"Input","name":"llmOutput","type":"String","value":"","description":""}]}]}}},"triggerMode":"auto","joberFilter":{"type":"MINIMUM_SIZE_FILTER","threshold":1}},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"llmComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"},{"x":1169.4642857142849,"y":306.4285714285713,"id":"jadesoux5i","pad":6,"bold":false,"text":"结束","type":"endNodeEnd","dirty":false,"index":106,"width":360,"height":214,"italic":false,"shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","flowMeta":{"callback":{"name":"通知回调","type":"general_callback","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","from":"Reference","name":"finalOutput","type":"String","value":["output","llmOutput"],"referenceId":"272c927a-9e25-48b6-a921-6a8ab20267a4","referenceKey":"llmOutput","referenceNode":"jadewdnjbq"}],"outputParams":[{}]}}},"triggerMode":"auto"},"hideText":true,"backColor":"white","container":"elsa-page:tvp1s6","dashWidth":0,"deletable":true,"namespace":"flowable","autoHeight":true,"rotateAble":false,"borderColor":"rgba(28,31,35,.08)","borderWidth":1,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","runningTask":0,"triggerMode":"auto","warningTask":0,"cornerRadius":8,"completedTask":0,"componentName":"endComponent","focusBackColor":"white","enableAnimation":false,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBorderColor":"rgba(28,31,35,.08)"}],"vAlign":"top","itemPad":[0,0,0,0],"division":-1,"dockMode":"none","fontFace":"arial","fontSize":18,"hideText":true,"moveable":true,"shapesAs":{},"backColor":"#fbfbfc","container":"elsa-page:tvp1s6","dockAlign":"top","fontColor":"#ECD0A7","fontStyle":"normal","itemSpace":5,"namespace":"jadeFlow","fontWeight":"bold","itemScroll":{"x":0,"y":0},"borderColor":"white","focusBackColor":"#fbfbfc"}],"title":"b2ecde0b919841f5867d2e89bb46095c","source":"elsa","tenant":"default","setting":{"pad":10,"tag":{},"code":"","pDock":"none","hAlign":"center","margin":25,"shadow":"","shared":false,"vAlign":"top","itemPad":[5,5,5,5],"visible":true,"autoText":false,"dockMode":"none","dragable":true,"editable":true,"fontFace":"arial","fontSize":12,"infoType":{"name":"none","next":"INFORMATION"},"moveable":true,"priority":0,"allowLink":true,"autoWidth":false,"backAlpha":0.15,"backColor":"whitesmoke","dashWidth":0,"deletable":true,"fontColor":"steelblue","fontStyle":"normal","headColor":"steelblue","lineWidth":2,"underline":false,"autoHeight":false,"emphasized":false,"fontWeight":"lighter","itemScroll":{"x":0,"y":0},"lineHeight":1.5,"resizeable":true,"rotateAble":true,"scrollLock":{"x":false,"y":false},"selectable":true,"shadowData":"2px 2px 4px","borderColor":"#047bfc","borderWidth":1,"bulletSpeed":1,"focusMargin":0,"focusShadow":"","globalAlpha":1,"outstanding":false,"bulletedList":false,"cornerRadius":4,"enableSocial":true,"mouseInColor":"orange","numberedList":false,"rotateDegree":0,"captionhAlign":"center","strikethrough":false,"focusBackColor":"whitesmoke","focusFontColor":"darkorange","progressStatus":{"name":"NONE","next":"UNKNOWN","color":"gray"},"showedProgress":false,"captionfontFace":"arial black","captionfontSize":14,"enableAnimation":false,"progressPercent":0.65,"captionfontColor":"whitesmoke","captionfontStyle":"normal","focusBorderColor":"#047bfc","focusBorderWidth":1,"outlineWidth":10,"outlineColor":"rgba(74,147,255,0.12)","mouseInBackColor":"whitesmoke","mouseInFontColor":"orange","captionfontWeight":"lighter","captionlineHeight":1,"mouseInBorderColor":"#047bfc"},"flowMeta":{"enableOutputScope":true,"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler","modelengine.fit.jober.fitable.FlowInfoException"],"callback":{"fitables":["modelengine.fit.jober.fitable.FlowInfoCallback"],"name":"通知回调","type":"general_callback"}},"enableText":false}') ON CONFLICT (id) DO NOTHING;

-- 租户信息（不确定是否需要）
INSERT INTO "public"."tenant" ("id", "name", "description", "avatar_id", "created_by", "updated_by", "created_at", "updated_at", "access_level") VALUES ('31f20efc7e0848deab6a6bc10fc3021e', 'appbuilder默认租户', '', '                                ', '180875152679256', '180875152679256', '2023-12-29 06:46:55.681', '2023-12-29 06:49:49.632', 'PUBLIC') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."tenant" ("id", "name", "description", "avatar_id", "created_by", "updated_by", "created_at", "updated_at", "access_level") VALUES ('727d7157b3d24209aefd59eb7d1c49ff', 'appbuilder默认租户1', '', '                                ', '180875152679256', '180875152679256', '2023-12-29 06:46:55.681', '2023-12-29 06:49:49.632', 'PUBLIC') ON CONFLICT (id) DO NOTHING;


INSERT INTO "flow_graph" ("id", "version", "tenant", "status", "name", "data", "created_by", "created_at", "updated_by",
                          "updated_at", "previous", "is_deleted")
VALUES ('beefffd1168b4785a71f149a2a530d2f', '1.0.0', '31f20efc7e0848deab6a6bc10fc3021e', 'active',
        'beefffd1168b4785a71f149a2a530d2f',
        '{"id":"beefffd1168b4785a71f149a2a530d2f","title":"beefffd1168b4785a71f149a2a530d2f","source":"elsa","type":"jadeFlowGraph","tenant":"default","setting":{"borderColor":"#047bfc","shadow":"","underline":false,"selectable":true,"fontFace":"arial","pDock":"none","headColor":"steelblue","itemScroll":{"x":0,"y":0},"vAlign":"top","cornerRadius":4,"rotateAble":true,"pad":10,"infoType":{"next":"INFORMATION","name":"none"},"focusMargin":0,"progressStatus":{"next":"UNKNOWN","color":"gray","name":"NONE"},"focusBackColor":"whitesmoke","tag":{},"captionfontColor":"whitesmoke","fontWeight":"lighter","captionlineHeight":1,"margin":25,"itemPad":[5,5,5,5],"autoHeight":false,"visible":true,"rotateDegree":0,"focusBorderColor":"#047bfc","priority":0,"fontStyle":"normal","backColor":"whitesmoke","captionfontFace":"arial black","dockMode":"none","dashWidth":0,"fontSize":12,"mouseInFontColor":"orange","resizeable":true,"captionfontWeight":"lighter","mouseInBorderColor":"#047bfc","autoText":false,"showedProgress":false,"shared":false,"code":"","hAlign":"center","deletable":true,"numberedList":false,"shadowData":"2px 2px 4px","focusBorderWidth":1,"allowLink":true,"lineWidth":2,"captionhAlign":"center","dragable":true,"focusShadow":"","emphasized":false,"borderWidth":1,"globalAlpha":1,"bulletedList":false,"enableAnimation":false,"autoWidth":false,"captionfontSize":14,"progressPercent":0.65,"strikethrough":false,"backAlpha":0.15,"focusFontColor":"darkorange","outstanding":false,"editable":true,"moveable":true,"captionfontStyle":"normal","mouseInColor":"orange","bulletSpeed":1,"enableSocial":true,"scrollLock":{"x":false,"y":false},"lineHeight":1.5,"fontColor":"steelblue","mouseInBackColor":"whitesmoke"},"pages":[{"container":"elsa-page:tvp1s6","borderColor":"white","hAlign":"left","itemSpace":5,"fontFace":"arial","itemScroll":{"x":0,"y":0},"hideText":true,"shapesAs":{},"type":"jadeFlowPage","italic":false,"vAlign":"top","mode":"configuration","scaleX":0.8,"division":-1,"scaleY":0.8,"dockAlign":"top","focusBackColor":"#fbfbfc","id":"elsa-page:tvp1s6","text":"newFlowPage","fontWeight":"bold","height":800,"dirty":true,"itemPad":[0,0,0,0],"moveable":true,"index":0,"bold":false,"fontStyle":"normal","backColor":"#fbfbfc","dockMode":"none","x":176.21031746031747,"width":1600,"namespace":"jadeFlow","y":-46.488095238095184,"fontSize":18,"isPage":true,"fontColor":"#ECD0A7","shapes":[{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"startNodeStart","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jade6qm5eg","text":"开始","componentName":"startComponent","triggerMode":"auto","height":528,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"inputParams":[{"name":"input","from":"Expand","id":"91138f09-b635-43df-95c6-1fe3d1745829","type":"Object","config":[{"allowAdd":true}],"value":[{"name":"query","description":"用户问题。","from":"Input","id":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","type":"String","value":""}]},{"name":"memory","from":"Expand","id":"4a770dc6-e3c9-475d-84c7-48dacc74a5b6","type":"Object","value":[{"name":"memorySwitch","from":"Input","id":"a7675623-7fc7-468c-8910-e73c70e5e468","type":"Boolean","value":false},{"name":"type","from":"Input","id":"cee9a31b-781c-4835-a616-ceed73be22f2","type":"String","value":"ByConversationTurn"},{"name":"value","from":"Input","id":"69592622-4291-409d-9d65-9faea83db657","type":"Integer","value":"3"}]}],"triggerMode":"auto"},"index":101,"bold":false,"backColor":"white","x":-145.8928571428571,"width":360,"namespace":"flowable","y":230,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"container":"elsa-page:tvp1s6","borderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","deletable":false,"focusBorderWidth":2,"hideText":true,"type":"endNodeEnd","italic":false,"completedTask":0,"cornerRadius":8,"rotateAble":false,"pad":6,"focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","warningTask":0,"borderWidth":1,"enableAnimation":false,"focusBackColor":"white","id":"jadesoux5i","text":"财经问答结束","componentName":"endComponent","triggerMode":"auto","height":214,"dirty":true,"autoHeight":true,"runningTask":0,"flowMeta":{"callback":{"fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"outputParams":[{}],"inputParams":[{"referenceNode":"jadecoarmv","name":"finalOutput","from":"Reference","id":"ffad80c2-3f60-4d57-93b2-c2362a5dab9c","type":"String","value":["output"],"referenceId":"output_fc952038-1a14-442b-bd78-8515e69449fa","referenceKey":"output"}]}},"name":"通知回调","type":"general_callback"},"triggerMode":"auto"},"index":102,"bold":false,"backColor":"white","x":2334.464285714285,"width":360,"namespace":"flowable","y":378.9285714285713,"dashWidth":0,"mouseInBorderColor":"rgba(28,31,35,.08)"},{"type":"toolInvokeNodeState","container":"elsa-page:tvp1s6","id":"jade3axbnw","text":"问题路由","namespace":"flowable","x":291.28968253968253,"y":366.4880952380952,"width":360,"height":259,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","fitables":[],"converter":{"type":"mapping_converter","entity":{"outputParams":[{"id":"output_2d3a958f-ac5c-413f-bf27-e39425597f72","name":"output","type":"Object","value":[{"id":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","name":"result","type":"String","value":"String"},{"id":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","name":"matched","type":"Boolean","value":"Boolean"},{"id":"92a77575-7d95-4e51-ab3b-7ce14385b2d4","name":"completeQuery","type":"String","value":"String"}]}],"inputParams":[{"id":"query_c958c2fd-b97e-481f-8cff-55e7d8564d5d","name":"query","type":"String","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","value":["query"]}]}},"entity":{"uniqueName":"c6c2d272-90e5-4c06-b8fa-5d94930b7532","params":[{"name":"query"}],"return":{"type":"object"}}}},"componentName":"toolInvokeComponent","index":102,"dirty":true},{"type":"toolInvokeNodeState","container":"elsa-page:tvp1s6","id":"jadecoarmv","text":"结果生成","namespace":"flowable","x":1868.7896825396824,"y":343.9880952380952,"width":360,"height":304,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"STORE_JOBER","name":"","fitables":[],"converter":{"type":"mapping_converter","entity":{"outputParams":[{"id":"output_fc952038-1a14-442b-bd78-8515e69449fa","name":"output","type":"String","value":[]}],"inputParams":[{"id":"condition_b63e38ea-b27e-4895-b2d8-de84384fae2e","name":"condition","type":"String","from":"Reference","referenceNode":"jade5wc1ee","referenceId":"8e900cd6-d151-402b-b6b2-194790edf467","referenceKey":"llmOutput","value":["output","llmOutput"]},{"id":"query_88827f8c-a610-46b7-8b50-4531bb87763f","name":"query","type":"String","from":"Reference","referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query","value":["query"]}]}},"entity":{"uniqueName":"24474301-937a-4335-a155-1e86d1a48de0","params":[{"name":"condition"},{"name":"query"}],"return":{"type":"string"}}}},"componentName":"toolInvokeComponent","index":103,"dirty":true},{"type":"conditionNodeCondition","container":"elsa-page:tvp1s6","id":"jadelh4543","text":"条件","namespace":"flowable","x":726.2896825396825,"y":317.7380952380952,"width":600,"height":357,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","conditionParams":{"branches":[{"id":"ad2e05b6-593a-4d86-81e0-1b1b504c2795","type":"if","conditionRelation":"and","conditions":[{"id":"5d96df3a-5192-4de8-9743-63cf9f0259ec","condition":"is true","value":[{"id":"3fc094bc-8496-4e7e-a940-97b092d7e67d","name":"left","type":"Boolean","from":"Reference","value":["output","matched"],"referenceNode":"jade3axbnw","referenceId":"4b5ec0f1-33e5-4bb4-bf83-df410be25b14","referenceKey":"matched"},{"id":"f770e6fe-a612-4fb8-8c40-d51bcef05baf","name":"right","type":"","from":"Reference","value":"","referenceNode":"","referenceId":"","referenceKey":""}]}]}]}},"componentName":"conditionComponent","index":104,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jade5wc1ee","text":"财经问题专属模型","namespace":"flowable","x":1405.0396825396824,"y":56.488095238095184,"width":360,"height":851,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"c490ace3-472c-4c95-bf29-760982f62c64","name":"model","type":"String","from":"Input","value":"Qwen-72B"},{"id":"c1ea0b9c-97c9-466e-bd42-b0eb6046dc3a","name":"temperature","type":"Number","from":"Input","value":"0"},{"id":"89cda9b5-f975-42ba-a426-a83a6cbdddb3","name":"prompt","type":"Object","from":"Expand","value":[{"id":"12fe982a-0fbd-4461-a159-51e09de31dc0","name":"template","type":"String","from":"Input","value":"{{query}}"},{"id":"6e78da7c-3d62-4df8-98cf-310b06691a4e","name":"variables","type":"Object","from":"Expand","value":[{"id":"1ec181db-eed1-4089-a580-f656de258322","name":"query","type":"String","from":"Reference","value":["output","result"],"referenceNode":"jade3axbnw","referenceId":"b290d85f-2c2e-426d-9789-1ffbdd492a2b","referenceKey":"result"}]}]},{"id":"a5f228f5-167e-4fbc-8114-69bcd9c76a4c","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"f548ab63-9add-4053-a3a6-cb7682c362af","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"4ff72b6e-18b8-430c-a509-d1bf8a53bbe5","name":"systemPrompt","type":"String","from":"Input","value":""}],"outputParams":[{"id":"8cc96b96-765d-4f13-ba10-d9dff76a2615","name":"output","type":"Object","from":"Expand","value":[{"id":"8e900cd6-d151-402b-b6b2-194790edf467","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"}},"componentName":"llmComponent","index":105,"dirty":true},{"type":"llmNodeState","container":"elsa-page:tvp1s6","id":"jaded1ufou","text":"普通问答模型","namespace":"flowable","x":1410.0396825396824,"y":1000.2380952380952,"width":360,"height":851,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","jober":{"type":"general_jober","name":"","fitables":["modelengine.fit.jober.aipp.fitable.LLMComponent"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"Qwen1.5-32B-Chat"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id":"f9586db3-72f9-4d33-9f01-893bbfa61277","name":"model","type":"String","from":"Input","value":"Qwen-72B"},{"id":"e0b992c2-739a-43b1-9cbc-b6747eb7592f","name":"temperature","type":"Number","from":"Input","value":"0.3"},{"id":"95ba86be-5c03-4258-b5ce-32b0eae17b5c","name":"prompt","type":"Object","from":"Expand","value":[{"id":"123d6c59-c525-4100-a66b-72b1a2c4e625","name":"template","type":"String","from":"Input","value":"{{query}}"},{"id":"892b3e12-2895-4e79-b668-5d6a6bd79fe6","name":"variables","type":"Object","from":"Expand","value":[{"id":"c779f80b-c15f-416d-ad1b-6628cb24fe8c","name":"query","type":"String","from":"Reference","value":["query"],"referenceNode":"jade6qm5eg","referenceId":"input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb","referenceKey":"query"}]}]},{"id":"a4e83ae4-4f4b-4407-a2bc-a9570886329e","name":"tools","type":"Array","from":"Expand","value":[]},{"id":"08297d4d-4f38-44c0-b049-638a2008a884","name":"workflows","type":"Array","from":"Expand","value":[]},{"id":"f4fd8b0a-aeaf-47e2-8914-5501ba5bb4b1","name":"systemPrompt","type":"String","from":"Input","value":""}],"outputParams":[{"id":"9024f034-bacc-4ac0-812f-e270fa6997b9","name":"output","type":"Object","from":"Expand","value":[{"id":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","name":"llmOutput","type":"String","from":"Input","description":"","value":""}]}]}},"isAsync":"true"}},"componentName":"llmComponent","index":106,"dirty":true},{"type":"endNodeEnd","container":"elsa-page:tvp1s6","id":"jadela7k5y","text":"普通问答结束","namespace":"flowable","x":1901.2896825396824,"y":1336.4880952380952,"width":360,"height":214,"bold":false,"italic":false,"pad":6,"rotateAble":false,"triggerMode":"auto","enableAnimation":false,"warningTask":0,"runningTask":0,"completedTask":0,"hideText":true,"autoHeight":true,"borderColor":"rgba(28,31,35,.08)","mouseInBorderColor":"rgba(28,31,35,.08)","shadow":"0 2px 4px 0 rgba(0,0,0,.1)","sourcePlatform":"official","focusShadow":"0 0 1px rgba(0,0,0,.3),0 4px 14px rgba(0,0,0,.1)","borderWidth":1,"focusBorderWidth":2,"dashWidth":0,"backColor":"white","focusBackColor":"white","cornerRadius":8,"flowMeta":{"triggerMode":"auto","callback":{"type":"general_callback","name":"通知回调","fitables":["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"],"converter":{"type":"mapping_converter","entity":{"inputParams":[{"id":"e09784cb-3ae9-4581-aa63-1b83f09fd7ed","name":"finalOutput","type":"String","from":"Reference","referenceNode":"jaded1ufou","referenceId":"6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac","referenceKey":"llmOutput","value":["output","llmOutput"]}],"outputParams":[{}]}}}},"componentName":"endComponent","index":107,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"4iyvh1","text":"","namespace":"flowable","x":214.1071428571429,"y":494,"width":77.18253968253964,"height":1.988095238095184,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade6qm5eg","toShape":"jade3axbnw","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-92,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"6rh9x7","text":"","namespace":"flowable","x":651.2896825396825,"y":495.9880952380952,"width":75,"height":0.25,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade3axbnw","toShape":"jadelh4543","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-91,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"vosd6p","text":"","namespace":"flowable","x":1313.2897283160496,"y":512.7380952380952,"width":91.74995422363281,"height":-30.75,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadelh4543","toShape":"jade5wc1ee","definedFromConnector":"dynamic-0","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-90,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"4qny17","text":"","namespace":"flowable","x":1765.0396825396824,"y":481.9880952380952,"width":103.75,"height":14,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jade5wc1ee","toShape":"jadecoarmv","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-89,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"0vxnrc","text":"","namespace":"flowable","x":2228.7896825396824,"y":495.9880952380952,"width":105.67460317460245,"height":-10.05952380952391,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadecoarmv","toShape":"jadesoux5i","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-88,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"v3a2mn","text":"","namespace":"flowable","x":1313.2897283160496,"y":632.1599778674897,"width":96.74995422363281,"height":793.5781173706055,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jadelh4543","toShape":"jaded1ufou","definedFromConnector":"dynamic-2","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-87,"dirty":true},{"type":"jadeEvent","container":"elsa-page:tvp1s6","id":"fv8h4v","text":"","namespace":"flowable","x":1770.0396825396824,"y":1425.7380952380952,"width":131.25,"height":17.75,"bold":false,"italic":false,"pad":0,"margin":20,"backColor":"white","hideText":true,"beginArrow":false,"beginArrowEmpty":false,"beginArrowSize":4,"endArrow":true,"endArrowEmpty":false,"endArrowSize":4,"textX":0,"textY":0,"hAlign":"center","lineWidth":2,"fromShape":"jaded1ufou","toShape":"jadela7k5y","definedFromConnector":"E","definedToConnector":"W","arrowBeginPoint":{"x":0,"y":0},"arrowEndPoint":{"x":0,"y":0},"curvePoint1":{"x":0,"y":0},"curvePoint2":{"x":0,"y":0},"brokenPoints":[],"lineMode":{"type":"auto_curve"},"allowSwitchLineMode":false,"allowLink":false,"borderWidth":1,"borderColor":"#B1B1B7","mouseInBorderColor":"#B1B1B7","index":-86,"dirty":true}]}],"enableText":false,"flowMeta":{"exceptionFitables":["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"],"enableOutputScope":true},"version":"1.0.0"}',
        'modelengine.jade', '2024-05-24 18:34:49.019', 'modelengine.jade', '2024-05-24 18:34:53.724', NULL,
        'f') ON CONFLICT (id, version) DO NOTHING;

INSERT INTO "flow_definition" ("definition_id", "meta_id", "name", "tenant", "version", "status", "graph", "created_by",
                               "created_at")
VALUES ('45befdde3d794a368e3619e2c464ddbc', 'beefffd1168b4785a71f149a2a530d2f', 'beefffd1168b4785a71f149a2a530d2f',
        '31f20efc7e0848deab6a6bc10fc3021e', '1.0.0', 'active',
        '{"name": "beefffd1168b4785a71f149a2a530d2f", "nodes": [{"name": "开始", "type": "startNodeStart", "metaId": "jade6qm5eg", "inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "query", "type": "String", "value": "", "description": "用户问题。"}], "config": [{"allowAdd": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": false}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "3"}]}], "triggerMode": "auto"}, {"name": "财经问答结束", "type": "endNodeEnd", "metaId": "jadesoux5i", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output"], "referenceId": "output_fc952038-1a14-442b-bd78-8515e69449fa", "referenceKey": "output", "referenceNode": "jadecoarmv"}], "outputParams": [{}]}}}, "triggerMode": "auto"}, {"name": "问题路由", "type": "toolInvokeNodeState", "jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "query"}], "return": {"type": "object"}, "uniqueName": "c6c2d272-90e5-4c06-b8fa-5d94930b7532"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "query_c958c2fd-b97e-481f-8cff-55e7d8564d5d", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}], "outputParams": [{"id": "output_2d3a958f-ac5c-413f-bf27-e39425597f72", "name": "output", "type": "Object", "value": [{"id": "b290d85f-2c2e-426d-9789-1ffbdd492a2b", "name": "result", "type": "String", "value": "String"}, {"id": "4b5ec0f1-33e5-4bb4-bf83-df410be25b14", "name": "matched", "type": "Boolean", "value": "Boolean"}, {"id": "92a77575-7d95-4e51-ab3b-7ce14385b2d4", "name": "completeQuery", "type": "String", "value": "String"}]}]}}}, "metaId": "jade3axbnw", "triggerMode": "auto"}, {"name": "结果生成", "type": "toolInvokeNodeState", "jober": {"name": "", "type": "STORE_JOBER", "entity": {"params": [{"name": "condition"}, {"name": "query"}], "return": {"type": "string"}, "uniqueName": "24474301-937a-4335-a155-1e86d1a48de0"}, "fitables": [], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "condition_b63e38ea-b27e-4895-b2d8-de84384fae2e", "from": "Reference", "name": "condition", "type": "String", "value": ["output", "llmOutput"], "referenceId": "8e900cd6-d151-402b-b6b2-194790edf467", "referenceKey": "llmOutput", "referenceNode": "jade5wc1ee"}, {"id": "query_88827f8c-a610-46b7-8b50-4531bb87763f", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}], "outputParams": [{"id": "output_fc952038-1a14-442b-bd78-8515e69449fa", "name": "output", "type": "String", "value": []}]}}}, "metaId": "jadecoarmv", "triggerMode": "auto"}, {"name": "条件", "type": "conditionNodeCondition", "metaId": "jadelh4543", "triggerMode": "auto", "conditionParams": {"branches": [{"id": "ad2e05b6-593a-4d86-81e0-1b1b504c2795", "type": "if", "conditions": [{"id": "5d96df3a-5192-4de8-9743-63cf9f0259ec", "value": [{"id": "3fc094bc-8496-4e7e-a940-97b092d7e67d", "from": "Reference", "name": "left", "type": "Boolean", "value": ["output", "matched"], "referenceId": "4b5ec0f1-33e5-4bb4-bf83-df410be25b14", "referenceKey": "matched", "referenceNode": "jade3axbnw"}, {"id": "f770e6fe-a612-4fb8-8c40-d51bcef05baf", "from": "Reference", "name": "right", "type": "", "value": "", "referenceId": "", "referenceKey": "", "referenceNode": ""}], "condition": "is true"}], "conditionRelation": "and"}]}}, {"name": "财经问题专属模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "c490ace3-472c-4c95-bf29-760982f62c64", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "c1ea0b9c-97c9-466e-bd42-b0eb6046dc3a", "from": "Input", "name": "temperature", "type": "Number", "value": "0"}, {"id": "89cda9b5-f975-42ba-a426-a83a6cbdddb3", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "12fe982a-0fbd-4461-a159-51e09de31dc0", "from": "Input", "name": "template", "type": "String", "value": "{{query}}"}, {"id": "6e78da7c-3d62-4df8-98cf-310b06691a4e", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "1ec181db-eed1-4089-a580-f656de258322", "from": "Reference", "name": "query", "type": "String", "value": ["output", "result"], "referenceId": "b290d85f-2c2e-426d-9789-1ffbdd492a2b", "referenceKey": "result", "referenceNode": "jade3axbnw"}]}]}, {"id": "a5f228f5-167e-4fbc-8114-69bcd9c76a4c", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "f548ab63-9add-4053-a3a6-cb7682c362af", "from": "Expand", "name": "workflows", "type": "Array", "value": []}, {"id": "4ff72b6e-18b8-430c-a509-d1bf8a53bbe5", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}], "outputParams": [{"id": "8cc96b96-765d-4f13-ba10-d9dff76a2615", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "8e900cd6-d151-402b-b6b2-194790edf467", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jade5wc1ee", "triggerMode": "auto"}, {"name": "普通问答模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "f9586db3-72f9-4d33-9f01-893bbfa61277", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "e0b992c2-739a-43b1-9cbc-b6747eb7592f", "from": "Input", "name": "temperature", "type": "Number", "value": "0.3"}, {"id": "95ba86be-5c03-4258-b5ce-32b0eae17b5c", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "123d6c59-c525-4100-a66b-72b1a2c4e625", "from": "Input", "name": "template", "type": "String", "value": "{{query}}"}, {"id": "892b3e12-2895-4e79-b668-5d6a6bd79fe6", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "c779f80b-c15f-416d-ad1b-6628cb24fe8c", "from": "Reference", "name": "query", "type": "String", "value": ["query"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "query", "referenceNode": "jade6qm5eg"}]}]}, {"id": "a4e83ae4-4f4b-4407-a2bc-a9570886329e", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "08297d4d-4f38-44c0-b049-638a2008a884", "from": "Expand", "name": "workflows", "type": "Array", "value": []}, {"id": "f4fd8b0a-aeaf-47e2-8914-5501ba5bb4b1", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}], "outputParams": [{"id": "9024f034-bacc-4ac0-812f-e270fa6997b9", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jaded1ufou", "triggerMode": "auto"}, {"name": "普通问答结束", "type": "endNodeEnd", "metaId": "jadela7k5y", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "e09784cb-3ae9-4581-aa63-1b83f09fd7ed", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "referenceId": "6f0fdf98-24ee-4ef0-bd62-9d4f1b1cb6ac", "referenceKey": "llmOutput", "referenceNode": "jaded1ufou"}], "outputParams": [{}]}}}, "triggerMode": "auto"}, {"to": "jade3axbnw", "from": "jade6qm5eg", "name": "", "type": "jadeEvent", "metaId": "4iyvh1", "fromConnector": "E"}, {"to": "jadelh4543", "from": "jade3axbnw", "name": "", "type": "jadeEvent", "metaId": "6rh9x7", "fromConnector": "E"}, {"to": "jade5wc1ee", "from": "jadelh4543", "name": "", "type": "jadeEvent", "metaId": "vosd6p", "fromConnector": "dynamic-0"}, {"to": "jadecoarmv", "from": "jade5wc1ee", "name": "", "type": "jadeEvent", "metaId": "4qny17", "fromConnector": "E"}, {"to": "jadesoux5i", "from": "jadecoarmv", "name": "", "type": "jadeEvent", "metaId": "0vxnrc", "fromConnector": "E"}, {"to": "jaded1ufou", "from": "jadelh4543", "name": "", "type": "jadeEvent", "metaId": "v3a2mn", "fromConnector": "dynamic-2"}, {"to": "jadela7k5y", "from": "jaded1ufou", "name": "", "type": "jadeEvent", "metaId": "fv8h4v", "fromConnector": "E"}], "metaId": "beefffd1168b4785a71f149a2a530d2f", "status": "active", "version": "1.0.0", "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"]}',
        'modelengine.jade', '2024-05-24 18:34:53.189') ON CONFLICT (definition_id) DO NOTHING;
INSERT INTO "flow_definition" ("definition_id", "meta_id", "name", "tenant", "version", "status", "graph", "created_by",
                               "created_at")
VALUES ('79f90c063f144b90a4353b5f63510162', 'b2ecde0b919841f5867d2e89bb46095c', 'b2ecde0b919841f5867d2e89bb46095c',
        '31f20efc7e0848deab6a6bc10fc3021e', '1.0.0-2dd81d', 'active',
        '{"name": "b2ecde0b919841f5867d2e89bb46095c", "nodes": [{"to": "jade0pg2ag", "from": "jade6qm5eg", "name": "", "type": "jadeEvent", "metaId": "jade2zanyx", "fromConnector": "E"}, {"to": "jadewdnjbq", "from": "jade0pg2ag", "name": "", "type": "jadeEvent", "metaId": "jade5c5urs", "fromConnector": "E"}, {"to": "jadesoux5i", "from": "jadewdnjbq", "name": "", "type": "jadeEvent", "metaId": "jade1p0cdu", "fromConnector": "E"}, {"name": "开始", "type": "startNodeStart", "metaId": "jade6qm5eg", "inputParams": [{"id": "91138f09-b635-43df-95c6-1fe3d1745829", "from": "Expand", "name": "input", "type": "Object", "value": [{"id": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "from": "Input", "name": "Question", "type": "String", "value": "", "description": "i18n_appBuilder_{flow_graph_question_description}", "disableModifiable": true}]}, {"id": "4a770dc6-e3c9-475d-84c7-48dacc74a5b6", "from": "Expand", "name": "memory", "type": "Object", "value": [{"id": "a7675623-7fc7-468c-8910-e73c70e5e468", "from": "Input", "name": "memorySwitch", "type": "Boolean", "value": false}, {"id": "cee9a31b-781c-4835-a616-ceed73be22f2", "from": "Input", "name": "type", "type": "String", "value": "ByConversationTurn"}, {"id": "69592622-4291-409d-9d65-9faea83db657", "from": "Input", "name": "value", "type": "Integer", "value": "3"}]}], "triggerMode": "auto"}, {"name": "普通检索", "type": "retrievalNodeState", "jober": {"name": "", "type": "general_jober", "fitables": ["modelengine.fit.jober.aipp.fitable.NaiveRAGComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "query_0ab55575-f21d-4b19-9676-57fcb4b0b783", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}, {"id": "knowledge_01c41edd-a22b-4289-b1cf-8db835833261", "from": "Expand", "name": "knowledge", "type": "Array", "value": []}, {"id": "maximum_2da115cd-c1ce-485f-ba98-b4c995f3d6ff", "from": "Input", "name": "maximum", "type": "Integer", "value": 3}], "outputParams": [{"id": "output_cd5cbe89-0d9f-4cf1-9e09-afb325576b84", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "5c9c6535-c127-445a-862a-966cf1083929", "from": "Input", "name": "retrievalOutput", "type": "String", "value": "String"}]}]}}}, "metaId": "jade0pg2ag", "triggerMode": "auto"}, {"name": "大模型", "type": "llmNodeState", "jober": {"name": "", "type": "general_jober", "isAsync": "true", "fitables": ["modelengine.fit.jober.aipp.fitable.LLMComponent"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id":"31ba235d-1b26-4780-a7a7-32eca9500919","name":"accessInfo","type":"Object","from":"Expand","value":[{"id":"83653b54-dd04-4da9-957d-adb7c2728632","name":"serviceName","type":"String","from":"Input","value":"chatglm3-6b"},{"id":"dd588a17-a69c-40c0-859a-d9930202a148","name":"tag","type":"String","from":"Input","value":"INTERNAL"}]},{"id": "6c414e75-971e-403a-b2b1-c6850f128cc4", "from": "Input", "name": "model", "type": "String", "value": "Qwen-72B"}, {"id": "db5fdafa-4cbf-44ba-9cca-8a98f1f771f4", "from": "Input", "name": "temperature", "type": "Number", "value": 0}, {"id": "88f74d78-4711-4f81-a2e7-74d0034c5e88", "from": "Expand", "name": "prompt", "type": "Object", "value": [{"id": "35a710cf-1b79-4523-b16f-b50878d677fe", "from": "Input", "name": "template", "type": "String", "value": "请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n上下文信息：\n\n{{knowledge}}\n\n问题：{{query}}"}, {"id": "38fb27a1-71f4-4fcc-87d5-9d8a880bc04d", "from": "Expand", "name": "variables", "type": "Object", "value": [{"id": "aeba7823-8d14-4750-9723-55265ae71c4e", "from": "Reference", "name": "knowledge", "type": "String", "value": ["output", "retrievalOutput"], "referenceId": "5c9c6535-c127-445a-862a-966cf1083929", "referenceKey": "retrievalOutput", "referenceNode": "jade0pg2ag"}, {"id": "eee66922-4304-4209-89fc-b13ffa101630", "from": "Reference", "name": "query", "type": "String", "value": ["Question"], "referenceId": "input_ae2ffd6e-2b9e-4e73-9d7f-0e661ec3dbdb", "referenceKey": "Question", "referenceNode": "jade6qm5eg"}]}]}, {"id": "a6865419-867c-4bfb-855c-f5c1876c965a", "from": "Expand", "name": "tools", "type": "Array", "value": []}, {"id": "308e2023-a8e9-486e-9784-8680addbb786", "from": "Expand", "name": "workflows", "type": "Array", "value": [{"id": "ae0bd892-91fc-45ef-83ca-819294384386", "from": "input", "type": "String", "value": "d613c69e-ad85-4edb-a126-8ccd6341cd64"}]}, {"id": "68f92923-d5da-42ce-8478-d7ac7d90664e", "from": "Input", "name": "systemPrompt", "type": "String", "value": ""}], "outputParams": [{"id": "95d84d67-3198-415e-a63c-bc9a2da8d821", "from": "Expand", "name": "output", "type": "Object", "value": [{"id": "272c927a-9e25-48b6-a921-6a8ab20267a4", "from": "Input", "name": "llmOutput", "type": "String", "value": "", "description": ""}]}]}}}, "metaId": "jadewdnjbq", "triggerMode": "auto"}, {"name": "结束", "type": "endNodeEnd", "metaId": "jadesoux5i", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.aipp.fitable.AippFlowEndCallback"], "converter": {"type": "mapping_converter", "entity": {"inputParams": [{"id": "ffad80c2-3f60-4d57-93b2-c2362a5dab9c", "from": "Reference", "name": "finalOutput", "type": "String", "value": ["output", "llmOutput"], "referenceId": "272c927a-9e25-48b6-a921-6a8ab20267a4", "referenceKey": "llmOutput", "referenceNode": "jadewdnjbq"}], "outputParams": [{}]}}}, "triggerMode": "auto"}], "metaId": "b2ecde0b919841f5867d2e89bb46095c", "status": "active", "version": "1.0.0-2dd81d", "callback": {"name": "通知回调", "type": "general_callback", "fitables": ["modelengine.fit.jober.fitable.FlowInfoCallback"]}, "enableOutputScope": true, "exceptionFitables": ["modelengine.fit.jober.fitable.FlowInfoException", "modelengine.fit.jober.aipp.fitable.AippFlowExceptionHandler"]}',
        'Jade', '2024-07-19 18:20:03.136') ON CONFLICT (definition_id) DO NOTHING;


INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('baa8f4f6c75544a1b11aaa2b13697af7', 'llm_application_template', 'en', 'LLM application template') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('7e4c157e0a1540e5a9c9a8964e66e161', 'llm_application_template', 'zh', 'LLM应用模板') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('56810563b4df4554b43ab9c1b603ec36', 'interview_assistant', 'en', 'interview assistant') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('24e09afcf3974690aa8cd0294a5f10da', 'interview_assistant', 'zh', '面试助手') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c8049a38315e4e87830fe3e75f1f9b15', 'waterflow_template', 'en', 'waterflow template') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('ba6e0d6010e04c918c9a55480ee75791', 'waterflow_template', 'zh', '工具流模板') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('cd2e94edd7aa457ea4fc17b578d4b305', 'decision_analysis', 'en', 'decision analysis') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('84e935c1fd814526a3b731f4e86c58ba', 'decision_analysis', 'zh', '决策分析') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('3a7f215254734e4ea3b0ee31b9500578', 'create_app', 'en', 'create app') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('42bc8bc4c3774451a5dd61af8e2c540b', 'create_app', 'zh', '创建应用') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('b0a383e827f84bfea0d589b49c6aec28', 'create_app_prompt', 'en', 'Help me create an app') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a4d8d998f4cf40789da6f202f86b945d', 'create_app_prompt', 'zh', '帮我创建一个应用') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('b1a690e394c74d32962dc820b880e4e8', 'flow_graph_question_description', 'en', 'It''s a user input problem.') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a5653085fadd4d0dbe20fb383a5ff4e1', 'flow_graph_question_description', 'zh', '这是用户输入的问题。') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('72015960faba4eb5a3e698a96fb272cd', 'app_template_flow_graph_prompt', 'en', 'Follow these steps to generate your response:\n1. recursively break down the question into smaller questions. \n2. For each atomic question, select the most relevant information from the context and dialog history. \n3. use the selected information to generate a draft response. \n4. remove duplicates from the draft response. \n5. Generate the final answer after adjustments have been made to improve accuracy and relevance. \n6. Note that only the final response is required. \n-------------------------------------\nExtracted file information：\n\n{{multiModalInput}}\n\nQuestion: {{query}}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c079fe7bc12943f996e5b5b766d9923a', 'app_template_flow_graph_prompt', 'zh', '请按照以下步骤生成您的回复：\n1. 递归地将问题分解为更小的问题。\n2. 对于每个原子问题，从上下文和对话历史记录中选择最相关的信息。\n3. 使用所选信息生成回复草稿。\n4. 删除回复草稿中的重复内容。\n5. 在调整后生成最终答案，以提高准确性和相关性。\n6. 请注意，只需要回复最终答案。\n-------------------------------------\n提取文件信息：\n\n{{multiModalInput}}\n\n问题：{{query}}') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('aaf2578bc1004c4c8aebccc907e41c4b', 'start_node', 'en', 'Start') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('a726a34e9c4a48b8b8fc57f9d4980ff0', 'start_node', 'zh', '开始') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('f2784fe3713c41719543d191e51f03fe', 'llm_node', 'en', 'Foundation Model') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('030c73cceaed49b19b28e137d49d8d47', 'llm_node', 'zh', '大模型') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('549f9bbc24ba4dbeaea49f9feab9cf7d', 'retrieval_node', 'en', 'Retrieval') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('886f8d50d99f443180454ba9fdfbeb89', 'retrieval_node', 'zh', '普通检索') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('9569f436ae3a416d9bec43ee531cf0a1', 'knowledge_retrieval_node', 'en', 'Knowledge Retrieval') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('16f64e281ef44ad78d87b4e1a7325857', 'knowledge_retrieval_node', 'zh', '知识检索') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('613f904a620e4454bc216f2081c53b1c', 'end_node', 'en', 'End') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef1e1', 'end_node', 'zh', '结束') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef136', 'form_property_basic', 'en', 'Basic Orchestration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef138', 'form_property_basic', 'zh', '基础编排') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef112', 'form_property_ability', 'en', 'Capability Configuration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef151', 'form_property_ability', 'zh', '能力配置') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac826f1e2', 'form_property_model', 'en', 'LLM') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9d36ac88ef1e3', 'form_property_model', 'zh', '大模型') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9347ac88ef1e4', 'form_property_tools', 'en', 'Tools') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a828de3ac88ef1e5', 'form_property_tools', 'zh', '工具') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a896de3ac88ef1e6', 'form_property_knowledge', 'en', 'Knowledge Base') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef1e7', 'form_property_knowledge', 'zh', '知识库') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb464948b9de3ac88ef132', 'form_property_chat', 'en', 'Chat Settings') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef196', 'form_property_chat', 'zh', '聊天设置') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef186', 'form_property_memory', 'en', 'Multi-turn Conversation') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef101', 'form_property_memory', 'zh', '多轮对话') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef193', 'form_property_opening', 'en', 'Opening Remarks') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef162', 'form_property_opening', 'zh', '开场白') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef138', 'form_property_inspiration', 'en', 'Creative Inspiration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef125', 'form_property_inspiration', 'zh', '创意灵感') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef150', 'form_property_recommend', 'en', 'Guess You Want to Ask') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef126', 'form_property_recommend', 'zh', '猜你想问') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef146', 'form_property_workflow', 'en', 'Workflow Orchestration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef152', 'form_property_workflow', 'zh', '工作流编排') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef143', 'form_property_enterWorkflow', 'en', 'Enter Workflow Orchestration') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb467548b9de3ac88ef198', 'form_property_enterWorkflow', 'zh', '进入工作流编排') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('c6a2d574ccfb467548b9de3cf88ef145', 'form_property_opening_content', 'en',
        'Hello~') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value")
VALUES ('c6a2d574ccfb46754hb9de3ac88ef199', 'form_property_opening_content', 'zh',
        'Hi~你好！') ON CONFLICT (id) DO NOTHING;

INSERT INTO aipp_system_config(config_key, config_value, config_group, config_parent) VALUES ('system', '{"template": "You ara a prompt generator, Your job is to generate prompt from the input of the user.\n\nThe Prompt must follow the style of the example below:\n\n###\ninput:\n生活助手\n\noutput:\n角色：你是一个智能生活助手。\n背景：作为一款集成多种智能功能的应用程序，你需要熟悉各种智能家居设备、日程安排、健康数据等相关知识。\n技能：智能家居控制照明、温控、安防、日程管理（提醒、安排等）、健康监测（睡眠、运行、饮食等）、信息查询、语音交互等。\n目标：为用户提供便捷。\n限制：你可以访问用户的智能家居设备、日历、健康数据等相关信息，并根据需要进行协作和响应。\n###\n\n**DO NOT GENERATE ANY OTHER CONTENT EXCEPT OF THE PROMPT TEMPLATE**\n\ninput: {{input}}"}', 'template', NULL) ON CONFLICT (config_group, config_key) DO NOTHING;

INSERT INTO "app_builder_app_type" VALUES ('4db152b24f94473ab683b1acbfe3c865', '通用', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:26:11.275326', '2025-01-16 17:26:11.275326') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('ad7fca4851394495a90723eb6bcd6141', '文章写作', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:26:53.880531', '2025-01-16 17:26:53.880531') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('099201eaee2346a7bffd76bbdbfb0c7e', '编程开发', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:02.607163', '2025-01-16 17:27:02.607163') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('19301209cff644e0bed7aede966226fa', '金融问数', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:15.121579', '2025-01-16 17:27:15.121579') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('dadb32e11d0f49c8b3b2b3b78f32adcb', '知识问答', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:24.408541', '2025-01-16 17:27:24.408541') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('bfce7a4f00ea464ca85b1bd691ffe774', '数字人', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:31.439755', '2025-01-16 17:27:31.439755') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('b653edb7eb5a49be91abcd2c5877c6ad', '办公效率', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:40.941004', '2025-01-16 17:27:40.941004') ON CONFLICT (id) DO NOTHING;
INSERT INTO "app_builder_app_type" VALUES ('6cca24416a05436390e0a96712a4294e', '企业管理', '31f20efc7e0848deab6a6bc10fc3021e', '2025-01-16 17:27:50.566101', '2025-01-16 17:27:50.566101') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef1e3', 'semantic_search', 'en', 'Semantic search') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c6a2d574ccfb4687a8b9de3ac88ef1e2', 'semantic_search', 'zh', '语义检索') ON CONFLICT (id) DO NOTHING;

INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('429eed4c7c8e47c988bad6ed5023d4c9', 'file_extraction', 'zh', '文件提取') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('b50fdc44630c4ded848bdb8165c5464f', 'file_extraction', 'en', 'File Extraction') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('c7f2755446714877b5be0d6a167386d1', 'question_displayName', 'zh', '用户问题') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('1fb34511fc3e4836908fa7b7539e840d', 'question_displayName', 'en', 'userQuestion') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('8d1d888d9735436fb673bdbd3cc57316', 'form_property_multimodal', 'zh', '多模态') ON CONFLICT (id) DO NOTHING;
INSERT INTO "public"."i18n" ("id", "key", "language", "value") VALUES ('380cb868c716469ab7e79ed1155957ae', 'form_property_multimodal', 'en', 'Multimodal') ON CONFLICT (id) DO NOTHING;