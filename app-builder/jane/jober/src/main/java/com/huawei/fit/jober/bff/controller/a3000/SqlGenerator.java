// /*
//  *  Copyright (c) Huawei Technologies Co., Ltd. 2023-2023. All rights reserved.
//  */
//
// package com.huawei.fit.jober.bff.controller.a3000;
//
// import com.huawei.fit.http.annotation.RequestBody;
//
// import com.alibaba.fastjson2.JSONArray;
// import com.alibaba.fastjson2.JSONObject;
//
// import java.time.LocalDateTime;
// import java.time.format.DateTimeFormatter;
// import java.util.ArrayList;
// import java.util.Arrays;
// import java.util.HashMap;
// import java.util.List;
// import java.util.Map;
// import java.util.Objects;
// import java.util.Optional;
// import java.util.Random;
// import java.util.regex.Pattern;
// import java.util.stream.Collectors;
//
// /**
//  * Todo
//  *
//  * @author 孙怡菲 s00664640
//  * @since 2023-11-28
//  */
// public class SqlGenerator {
//
//     public static void main(String[] args) {
//         String id1 = "id1";
//         String id2 = "id2";
//
//         // getDeleteSql(id1, id2);
//
//
//
//         // for (int i=0; i<=10;) {
//         //     System.out.println(generateRandomString());
//         //     i++;
//         //
//         // }
//
//         // long startTimeReplaceAll = System.nanoTime();
//         // System.out.println(getNewGraphData());
//         // long endTimeReplaceAll = System.nanoTime();
//         // long durationReplaceAll = endTimeReplaceAll - startTimeReplaceAll;
//         // System.out.println("replaceAll method duration: " + durationReplaceAll + " nanoseconds");
//         //
//         // // 使用StringBuilder方法
//         // long startTimeStringBuilder = System.nanoTime();
//         // System.out.println(getNewGraphData1());
//         // long endTimeStringBuilder = System.nanoTime();
//         // long durationStringBuilder = endTimeStringBuilder - startTimeStringBuilder;
//         // System.out.println("StringBuilder method duration: " + durationStringBuilder + " nanoseconds");
//
//         Map<String, String> data = new HashMap<>();
//         data.put("version", "1.0.0");
//         data.put("definitionData", "{\"id\":\"c07d1d7a3cf549298ef3b33916afd8aa\",\"title\":\"无标题01022\",\"source\":\"elsa\",\"type\":\"graph\",\"tenant\":\"default\",\"setting\":{\"borderColor\":\"steelblue\",\"backColor\":\"whitesmoke\",\"headColor\":\"steelblue\",\"fontColor\":\"steelblue\",\"captionfontColor\":\"whitesmoke\",\"fontFace\":\"arial\",\"captionfontFace\":\"arial black\",\"fontSize\":12,\"captionfontSize\":14,\"fontStyle\":\"normal\",\"captionfontStyle\":\"normal\",\"fontWeight\":\"lighter\",\"captionfontWeight\":\"lighter\",\"hAlign\":\"center\",\"vAlign\":\"top\",\"captionhAlign\":\"center\",\"lineHeight\":1.5,\"lineWidth\":2,\"captionlineHeight\":1,\"focusMargin\":0,\"focusBorderColor\":\"darkorange\",\"focusFontColor\":\"darkorange\",\"focusBackColor\":\"whitesmoke\",\"mouseInColor\":\"orange\",\"mouseInBorderColor\":\"orange\",\"mouseInFontColor\":\"orange\",\"mouseInBackColor\":\"whitesmoke\",\"borderWidth\":1,\"globalAlpha\":1,\"backAlpha\":0.15,\"cornerRadius\":4,\"dashWidth\":0,\"autoText\":false,\"autoHeight\":false,\"autoWidth\":false,\"margin\":25,\"pad\":10,\"code\":\"\",\"rotateDegree\":0,\"shadow\":false,\"shadowData\":\"2px 2px 4px\",\"outstanding\":false,\"pDock\":\"none\",\"dockMode\":\"none\",\"priority\":0,\"infoType\":{\"next\":\"INFORMATION\",\"name\":\"none\"},\"progressStatus\":{\"next\":\"UNKNOWN\",\"color\":\"gray\",\"name\":\"NONE\"},\"progressPercent\":0.65,\"showedProgress\":false,\"itemPad\":[5,5,5,5],\"itemScroll\":{\"x\":0,\"y\":0},\"scrollLock\":{\"x\":false,\"y\":false},\"resizeable\":true,\"selectable\":true,\"rotateAble\":true,\"editable\":true,\"moveable\":true,\"dragable\":true,\"visible\":true,\"deletable\":true,\"allowLink\":true,\"shared\":false,\"strikethrough\":false,\"underline\":false,\"numberedList\":false,\"bulletedList\":false,\"enableAnimation\":false,\"enableSocial\":true,\"emphasized\":false,\"bulletSpeed\":1,\"tag\":{}},\"pages\":[{\"type\":\"page\",\"id\":\"elsa-page:9ikgdh\",\"text\":\"--\",\"namespace\":\"elsa\",\"x\":0,\"y\":0,\"width\":2489,\"height\":1195,\"bold\":false,\"italic\":false,\"dockAlign\":\"top\",\"itemSpace\":5,\"itemPad\":[0,0,0,0],\"itemScroll\":{\"x\":0,\"y\":0},\"hideText\":true,\"dockMode\":\"none\",\"shapesAs\":{},\"borderColor\":\"white\",\"backColor\":\"white\",\"fontSize\":18,\"fontFace\":\"arial\",\"fontColor\":\"#ECD0A7\",\"fontWeight\":\"bold\",\"fontStyle\":\"normal\",\"hAlign\":\"left\",\"vAlign\":\"top\",\"moveable\":true,\"container\":\"elsa-page:9ikgdh\",\"dirty\":false,\"isPage\":true,\"shapes\":[{\"type\":\"start\",\"id\":\"yskf09\",\"text\":\"开始\",\"namespace\":\"flowable\",\"container\":\"elsa-page:9ikgdh\",\"x\":329,\"y\":365,\"width\":30,\"height\":30,\"bold\":false,\"italic\":false,\"pad\":6,\"rotateAble\":false,\"triggerMode\":\"auto\",\"enableAnimation\":true,\"warningTask\":0,\"runningTask\":0,\"completedTask\":0,\"autoWidth\":false,\"margin\":10,\"hideText\":true,\"borderWidth\":0,\"index\":100,\"dirty\":true},{\"type\":\"event\",\"id\":\"shsqbo\",\"text\":\"\",\"namespace\":\"flowable\",\"container\":\"elsa-page:9ikgdh\",\"x\":359,\"y\":380,\"width\":138,\"height\":2,\"bold\":false,\"italic\":false,\"pad\":0,\"margin\":29,\"backColor\":\"white\",\"hideText\":false,\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"textX\":0,\"textY\":0,\"hAlign\":\"center\",\"lineWidth\":2,\"fromShape\":\"yskf09\",\"toShape\":\"dikx37\",\"definedFromConnector\":\"E\",\"definedToConnector\":\"\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"lineMode\":{\"type\":\"broken\"},\"allowLink\":false,\"borderWidth\":1,\"index\":101,\"dashWidth\":0,\"dirty\":true,\"textInnerHtml\":\"<p id=\\\"x6ojzd\\\"><br data-cke-filler=\\\"true\\\"></p>\"},{\"type\":\"state\",\"id\":\"dikx37\",\"text\":\"state\",\"namespace\":\"flowable\",\"container\":\"elsa-page:9ikgdh\",\"x\":497,\"y\":371,\"width\":43,\"height\":22,\"bold\":false,\"italic\":false,\"pad\":6,\"rotateAble\":false,\"triggerMode\":\"auto\",\"enableAnimation\":true,\"warningTask\":0,\"runningTask\":0,\"completedTask\":0,\"autoWidth\":true,\"autoHeight\":true,\"index\":106,\"dirty\":true,\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"jober\":{\"fitables\":[\"3e460bc100a74f8ca7b94f6dce31a021\"],\"fitablesConfig\":[],\"entity\":{\"code\":\"let context1 = entity{\\n    .id = \\\"3e460bc100a74f8ca7b94f6dce31a021\\\";\\n.timeout = 30000;\\n};\\nlet f1 = fit::handleTask(context1);\\n\\next::context >> f1\"},\"retryNum\":2,\"type\":\"ohscript_jober\"}},{\"type\":\"event\",\"id\":\"vx7cyq\",\"text\":\"\",\"namespace\":\"flowable\",\"container\":\"elsa-page:9ikgdh\",\"x\":540,\"y\":382,\"width\":139,\"height\":0,\"bold\":false,\"italic\":false,\"pad\":0,\"margin\":30,\"backColor\":\"white\",\"hideText\":false,\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"textX\":0,\"textY\":0,\"hAlign\":\"center\",\"lineWidth\":2,\"fromShape\":\"dikx37\",\"toShape\":\"4sjbdt\",\"definedFromConnector\":\"E\",\"definedToConnector\":\"\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"lineMode\":{\"type\":\"broken\"},\"allowLink\":false,\"borderWidth\":1,\"index\":103,\"dashWidth\":0,\"dirty\":true,\"textInnerHtml\":\"<p id=\\\"1kevg6\\\"><br data-cke-filler=\\\"true\\\"></p>\"},{\"type\":\"end\",\"id\":\"4sjbdt\",\"text\":\"结束\",\"namespace\":\"flowable\",\"container\":\"elsa-page:9ikgdh\",\"x\":679,\"y\":367,\"width\":30,\"height\":30,\"bold\":false,\"italic\":false,\"pad\":6,\"rotateAble\":false,\"triggerMode\":\"auto\",\"enableAnimation\":true,\"warningTask\":0,\"runningTask\":0,\"completedTask\":0,\"autoWidth\":false,\"margin\":10,\"hideText\":true,\"borderWidth\":0,\"index\":108,\"dirty\":true}],\"index\":0}]}");
//         getInsertSql(data);
//         getInsertTagSql("123", "data clean text");
//
//     }
//
//     public static void getInsertSql(Map<String, String> data) {
//         List<String> tags = new ArrayList<>();
//         Optional.ofNullable(data.get("tag"))
//             .ifPresent(tag -> tags.addAll(Arrays.asList(tag.split(","))));
//         String version = data.get("version");
//         String json = data.get("definitionData");
//         JSONObject parsedData = JSONObject.parseObject(json);
//         String definitionName = (String) parsedData.get("title");
//         String dataId = (String) parsedData.get("id");
//         String publishStatus = "active";
//         LocalDateTime currentTime = LocalDateTime.now();
//         DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
//         String time = currentTime.format(formatter);
//         StringBuilder stringBuilder = new StringBuilder();
//         stringBuilder.append(
//             "INSERT INTO \"public\".\"flow_graph\" (\"id\", \"version\", \"tenant\", \"status\", \"name\", \"data\", \"created_by\", \"created_at\", \"updated_by\", \"updated_at\", \"previous\", \"is_deleted\") VALUES ('{0}', '{1}', '{2}', '{3}', '{4}', '{5}', '{6}', '{7}', '{8}', '{9}', NULL, '{10}') ON CONFLICT (id, version) DO NOTHING;");
//         List<String> args = new ArrayList<>();
//         args.add(dataId);
//         args.add(version);
//         args.add("A3000");
//         args.add(publishStatus);
//         args.add(definitionName);
//         args.add(json);
//         args.add("A3000");
//         args.add(time);
//         args.add("A3000");
//         args.add(time);
//         args.add("f");
//         for (int i = 0; i < args.size(); i++) {
//             String placeholder = "{" + i + "}";
//             String replacement = args.get(i);
//             replacePlaceholder(stringBuilder, placeholder, replacement);
//         }
//
//         // 打印结果
//         System.out.println(stringBuilder.toString());
//     }
//
//     public static void getInsertTagSql(String metaId, String tag) {
//         String id = "";
//         String tagId;
//         if (Objects.equals(tag, "data clean text")) {
//             tagId = "93cc787ca7e54b39bcddaa4131a8e1c8";
//         } else {
//             tagId = "ab9f3ef555d2418e8a99ff0458d2690e";
//         }
//         LocalDateTime currentTime = LocalDateTime.now();
//         DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
//         String time = currentTime.format(formatter);
//         StringBuilder stringBuilder = new StringBuilder();
//         stringBuilder.append("INSERT INTO \"public\".\"tag_usage\" (\"id\", \"tag_id\", \"object_type\", \"object_id\", \"created_by\", \"created_at\") VALUES ('{0}', '{1}', 'FLOW GRAPH', '{2}', 'A3000', '{3}') ON CONFLICT (id) DO NOTHING;");
//         List<String> args = new ArrayList<>();
//         args.add(id);
//         args.add(tagId);
//         args.add("A3000");
//         args.add(time);
//         for (int i = 0; i < args.size(); i++) {
//             String placeholder = "{" + i + "}";
//             String replacement = args.get(i);
//             replacePlaceholder(stringBuilder, placeholder, replacement);
//         }
//
//         // 打印结果
//         System.out.println(stringBuilder.toString());
//     }
//
//     private static void replacePlaceholder(StringBuilder stringBuilder, String placeholder, String replacement) {
//         int index = stringBuilder.indexOf(placeholder);
//         while (index != -1) {
//             stringBuilder.replace(index, index + placeholder.length(), replacement);
//             index = stringBuilder.indexOf(placeholder, index + replacement.length());
//         }
//     }
//
//
//     private static String generateDeleteStatement(String tableName, String columnName, String value) {
//         return "DELETE FROM " + tableName + " WHERE " + columnName + " = '" + value + "';";
//     }
//
//     private static void getDeleteSql(String flowId, String definitionId) {
//         List<String> res = new ArrayList<>();
//         String sql1 = generateDeleteStatement("flow_graph", "id", flowId);
//         String sql2 = generateDeleteStatement("flow_definition", "definition_id", definitionId);
//         String sql3 = generateDeleteStatement("tag_usage", "object_id", flowId);
//         String sql4 = generateDeleteStatement("fitable_usage", "definition_id", definitionId);
//         System.out.println(sql1);
//         System.out.println(sql2);
//         System.out.println(sql3);
//         System.out.println(sql4);
//     }
//
//     private static String getNewGraphData() {
//         String data = "{\"id\":\"f2cbb42cea69464db79558d1d5eb989f\",\"title\":\"数据清洗模板\",\"createTime\":{\"$date\":\"2023-11-10T11:48:06.839Z\"},\"source\":\"elsa\",\"type\":\"graph\",\"tenant\":\"default\",\"setting\":{\"borderColor\":\"steelblue\",\"backColor\":\"whitesmoke\",\"headColor\":\"steelblue\",\"fontColor\":\"steelblue\",\"captionfontColor\":\"whitesmoke\",\"fontFace\":\"arial\",\"captionfontFace\":\"arial black\",\"fontSize\":12,\"captionfontSize\":14,\"fontStyle\":\"normal\",\"captionfontStyle\":\"normal\",\"fontWeight\":\"lighter\",\"captionfontWeight\":\"lighter\",\"hAlign\":\"center\",\"vAlign\":\"top\",\"captionhAlign\":\"center\",\"lineHeight\":1.5,\"lineWidth\":2,\"captionlineHeight\":1,\"focusMargin\":0,\"focusBorderColor\":\"darkorange\",\"focusFontColor\":\"darkorange\",\"focusBackColor\":\"whitesmoke\",\"mouseInColor\":\"orange\",\"mouseInBorderColor\":\"orange\",\"mouseInFontColor\":\"orange\",\"mouseInBackColor\":\"whitesmoke\",\"borderWidth\":1,\"globalAlpha\":1,\"backAlpha\":0.15,\"cornerRadius\":4,\"dashWidth\":0,\"autoText\":false,\"autoHeight\":false,\"autoWidth\":false,\"margin\":25,\"pad\":10,\"code\":\"\",\"rotateDegree\":0,\"shadow\":false,\"shadowData\":\"2px 2px 4px\",\"outstanding\":false,\"pDock\":\"none\",\"dockMode\":\"none\",\"priority\":0,\"infoType\":{\"next\":\"INFORMATION\",\"name\":\"none\"},\"progressStatus\":{\"next\":\"UNKNOWN\",\"color\":\"gray\",\"name\":\"NONE\"},\"progressPercent\":0.65,\"showedProgress\":false,\"itemPad\":[5,5,5,5],\"itemScroll\":{\"x\":0,\"y\":0},\"scrollLock\":{\"x\":false,\"y\":false},\"resizeable\":true,\"selectable\":true,\"rotateAble\":true,\"editable\":true,\"moveable\":true,\"dragable\":true,\"visible\":true,\"deletable\":true,\"allowLink\":true,\"shared\":false,\"strikethrough\":false,\"underline\":false,\"numberedList\":false,\"bulletedList\":false,\"enableAnimation\":false,\"enableSocial\":true,\"emphasized\":false,\"bulletSpeed\":1,\"tag\":{}},\"pages\":[{\"id\":\"elsa-page:s0ed8a\",\"backColor\":\"white\",\"bold\":false,\"borderColor\":\"white\",\"container\":\"elsa-page:s0ed8a\",\"createTime\":{\"$date\":\"2023-11-10T11:48:06.84Z\"},\"createUser\":\"孙怡菲 s00664640\",\"dirty\":false,\"dockAlign\":\"top\",\"dockMode\":\"none\",\"fontColor\":\"#ECD0A7\",\"fontFace\":\"arial\",\"fontSize\":18,\"fontStyle\":\"normal\",\"fontWeight\":\"bold\",\"hAlign\":\"left\",\"height\":1207,\"hideText\":true,\"index\":0,\"isDeleted\":false,\"isPage\":true,\"italic\":false,\"itemPad\":[0,0,0,0],\"itemScroll\":{\"x\":0,\"y\":0},\"itemSpace\":5,\"mode\":\"configuration\",\"moveable\":true,\"namespace\":\"elsa\",\"shapesAs\":{},\"text\":\"--\",\"type\":\"page\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"vAlign\":\"top\",\"version\":\"1.0.0\",\"width\":2489,\"x\":0,\"y\":0,\"shapes\":[{\"id\":\"47znlp\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-08T11:23:51.883Z\"},\"createUser\":\"杨祥宇 y00679285\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":true,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"dme9x4\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"index\":112,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"749ln0\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"25mqo7\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"textX\":0,\"textY\":0,\"toShape\":\"fdgspe\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":48,\"x\":858,\"y\":358,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"6bcpgm\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":22,\"inShared\":\"\",\"index\":106,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.unicode_space_cleaner_plugin\",\"com.huawei.eDataMate.operators.extra_space_cleaner_plugin\",\"com.huawei.eDataMate.operators.full_width_characters_cleaner_plugin\",\"com.huawei.eDataMate.operators.invisible_characters_cleaner_plugin\",\"com.huawei.eDataMate.operators.content_cleaner_plugin\",\"com.huawei.eDataMate.operators.legend_cleaner_plugin\",\"com.huawei.eDataMate.operators.emoji_cleaner_plugin\",\"com.huawei.eDataMate.operators.html_tag_cleaner_plugin\",\"com.huawei.eDataMate.operators.traditional_chinese_plugin\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"let context1 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.unicode_space_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f1 = fit::handleTask(context1);\\n\\nlet context2 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.extra_space_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f2 = fit::handleTask(context2);\\n\\nlet context3 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.full_width_characters_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f3 = fit::handleTask(context3);\\n\\nlet context4 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.invisible_characters_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f4 = fit::handleTask(context4);\\n\\nlet context5 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.content_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f5 = fit::handleTask(context5);\\n\\nlet context6 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.legend_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f6 = fit::handleTask(context6);\\n\\nlet context7 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.emoji_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f7 = fit::handleTask(context7);\\n\\nlet context8 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.html_tag_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f8 = fit::handleTask(context8);\\n\\nlet context9 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.traditional_chinese_plugin\\\";\\n    .async = true;\\n};\\nlet f9 = fit::handleTask(context9);\\n\\next::context >> f1 >> f2 >> f3 >> f4 >> f5 >> f6 >> f7 >> f8 >> f9\"},\"type\":\"ohscript_jober\",\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.content_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.legend_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.full_width_characters_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.invisible_characters_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.unicode_space_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.extra_space_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.traditional_chinese_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.emoji_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.html_tag_cleaner_plugin\",\"timeout\":5,\"retryNum\":2}],\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"8rlt4l\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"yjt4gm\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"异常清洗\"}],\"x\":981,\"y\":331.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"yjt4gm\\\">异常清洗</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":1023,\"y\":347,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"9c4wri\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"description\":\"配置filter，等待前面的所有都执行完（考虑前面节点的批次来识别）\",\"dirty\":false,\"enableAnimation\":true,\"fitables\":[\"ee38955917ba4e86b5003e49968dc02f\"],\"height\":22,\"inShared\":\"\",\"index\":105,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.remove_duplicate_sentences_plugin\"],\"entity\":{\"retryNum\":2,\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.remove_duplicate_sentences_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\next::context >> f1\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.remove_duplicate_sentences_plugin\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"b1samh\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"skjeni\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"数据去重\"}],\"x\":1072,\"y\":404.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"skjeni\\\">数据去重</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":1136,\"y\":349,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"aypaok\",\"autoWidth\":false,\"bold\":false,\"borderWidth\":0,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":30,\"hideText\":true,\"inShared\":\"\",\"index\":100,\"isDeleted\":false,\"italic\":false,\"joberFilter\":{\"threshold\":1},\"margin\":10,\"namespace\":\"flowable\",\"oldId\":\"reqro4\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"text\":\"开始\",\"triggerMode\":\"auto\",\"type\":\"start\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":30,\"x\":605,\"y\":345,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"bwqm2v\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"mn99eb\",\"hAlign\":\"center\",\"height\":0,\"hideText\":false,\"inShared\":\"\",\"index\":109,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":30,\"namespace\":\"flowable\",\"oldId\":\"ew5gy9\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"7cmdel\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"kchcrt\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":61,\"x\":1427,\"y\":360,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"dkymmq\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"9c4wri\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"inShared\":\"\",\"index\":102,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"wjovcu\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"rkbeu1\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"uz9ckd\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":57,\"x\":1199,\"y\":360,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"dme9x4\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":true,\"enableAnimation\":true,\"fitables\":[\"http\"],\"height\":22,\"httpFitableMeta\":{\"name\":\"extract_text\",\"httpUrl\":\"http://10.169.46.234:7767/extract_text\",\"httpMethod\":\"post\",\"params\":\"{\\\"\\\" }\"},\"inShared\":\"\",\"index\":115,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.pdf_extractor_plugin\",\"com.huawei.eDataMate.operators.word_extractor_plugin\",\"com.huawei.eDataMate.operators.md_extractor_plugin\",\"com.huawei.eDataMate.operators.xml_extractor_plugin\",\"com.huawei.eDataMate.operators.txt_extractor_plugin\",\"com.huawei.eDataMate.operators.html_extractor_plugin\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"var type = ext::context.get(0).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"fileType\\\");\\n\\nif(type==\\\"pdf\\\"){\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.pdf_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"word\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.word_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"md\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.md_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"xml\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.xml_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"html\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.html_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"txt\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.txt_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\"},\"type\":\"ohscript_jober\",\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.pdf_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.word_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.md_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.xml_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.txt_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.html_extractor_plugin\",\"timeout\":5,\"retryNum\":2}],\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"taj1fk\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"text\":[{\"attributes\":{\"id\":\"l6p34f\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"文本抽取\"}],\"x\":619,\"y\":746,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"l6p34f\\\">文本抽取</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.161Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":795,\"y\":347,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"fdgspe\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"fitables\":[\"ee38955917ba4e86b5003e49968dc02f\"],\"height\":22,\"inShared\":\"\",\"index\":103,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.remove_file_with_short_length_plugin\"],\"entity\":{\"retryNum\":2,\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.remove_file_with_short_length_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\next::context >> f1\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.remove_file_with_short_length_plugin\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"u3m12b\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"clpv99\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"文档过滤\"}],\"x\":828,\"y\":405.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"clpv99\\\">文档过滤</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":906,\"y\":346,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"gmk125\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-08T12:05:46.363Z\"},\"createUser\":\"杨祥宇 y00679285\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":true,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"u0269r\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"index\":113,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"vwvv8i\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"9xoeco\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"textX\":0,\"textY\":0,\"toShape\":\"dme9x4\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":51,\"x\":744,\"y\":359,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"kchcrt\",\"autoWidth\":false,\"bold\":false,\"borderWidth\":0,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":30,\"hideText\":true,\"inShared\":\"\",\"index\":111,\"isDeleted\":false,\"italic\":false,\"joberFilter\":{\"threshold\":1},\"margin\":10,\"namespace\":\"flowable\",\"oldId\":\"av18ky\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"text\":\"结束\",\"triggerMode\":\"auto\",\"type\":\"end\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":30,\"x\":1488,\"y\":345,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"kcz9qm\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-07T14:12:08.709Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"fdgspe\",\"hAlign\":\"center\",\"height\":1,\"hideText\":false,\"index\":114,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"orp5lo\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"0zubh3\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"6bcpgm\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":54,\"x\":969,\"y\":357,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"l81vnh\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"uz9ckd\",\"hAlign\":\"center\",\"height\":1,\"hideText\":false,\"inShared\":\"\",\"index\":108,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"xdysx3\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"cyd7s9\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"mn99eb\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":33,\"x\":1331,\"y\":359,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"mn99eb\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":22,\"inShared\":\"\",\"index\":110,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.localized_file_plugin\",\"6a6084c0d1e243e7b327cb1a0ba068e2\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.localized_file_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\nlet context2 = entity{\\n    .async = true; .id = \\\"6a6084c0d1e243e7b327cb1a0ba068e2\\\";\\n};\\nlet f2 = fit::handleTask(context2);\\n\\next::context >> f1 >> f2\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.localized_file_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"6a6084c0d1e243e7b327cb1a0ba068e2\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"gu877l\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{\"fitables\":[],\"entity\":{\"retryNum\":2}},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"nxh983\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"数据落盘\"}],\"x\":1352,\"y\":402.52,\"width\":66,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"nxh983\\\">数据落盘</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":1364,\"y\":349,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"sebo1y\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"6bcpgm\",\"hAlign\":\"center\",\"height\":2,\"hideText\":false,\"inShared\":\"\",\"index\":104,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29,\"namespace\":\"flowable\",\"oldId\":\"pwzfti\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"67pdhh\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"9c4wri\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":50,\"x\":1086,\"y\":358,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"u0269r\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"description\":\"从用户指定地址读取相应的文件，要求每读取完成一个文件都能自动流转到下一个节点去提取文件内容，无需等待所有文件都读取完成，即一次提交n次输出，输出每个文件的地址列表\",\"dirty\":true,\"enableAnimation\":true,\"fitables\":[\"http\"],\"height\":22,\"httpFitableMeta\":{\"name\":\"\",\"httpUrl\":\"\",\"httpMethod\":\"post\",\"params\":\"\"},\"inShared\":\"\",\"index\":101,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.directory_scanner_plugin\"],\"entity\":{\"retryNum\":2,\"code\":\"let context1 = entity{\\n    .async = true;\\n    .id = \\\"com.huawei.eDataMate.operators.directory_scanner_plugin\\\";\\n    };\\nlet f1 = fit::handleTask(context1);\\nlet ans = ext::context >> f1;\\nfor(var i=0; i<ans.size(); i++){\\n   let filePath = ans.get(i).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"filePath\\\");\\n   let fileName = ans.get(i).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"fileName\\\");\\n   let fileID = ans.get(i).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"fileID\\\");\\n   ans.get(i).get(\\\"businessData\\\").put(\\\"filePath\\\",filePath);\\n   ans.get(i).get(\\\"businessData\\\").put(\\\"fileName\\\",fileName);\\n   ans.get(i).get(\\\"businessData\\\").put(\\\"fileID\\\",fileID);\\n}\\nans\"},\"type\":\"ohscript_jober\",\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.directory_scanner_plugin\",\"timeout\":5,\"retryNum\":2}],\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"4a73nf\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"xnb5f6\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"文件读取\"}],\"x\":395,\"y\":379.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"xnb5f6\\\">文件读取</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":681,\"y\":348,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"uz9ckd\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":22,\"inShared\":\"\",\"index\":107,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.url_cleaner_plugin\",\"com.huawei.eDataMate.operators.sexual_and_violent_word_cleaner_plugin\",\"com.huawei.eDataMate.operators.political_word_cleaner_plugin\",\"com.huawei.eDataMate.operators.phone_number_cleaner_plugin\",\"com.huawei.eDataMate.operators.credit_card_number_cleaner_plugin\",\"com.huawei.eDataMate.operators.email_cleaner_plugin\",\"com.huawei.eDataMate.operators.ip_address_cleaner_plugin\",\"com.huawei.eDataMate.operators.id_number_cleaner_plugin\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.url_cleaner_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\nlet context2 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.sexual_and_violent_word_cleaner_plugin\\\";\\n};\\nlet f2 = fit::handleTask(context2);\\n\\nlet context3 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.political_word_cleaner_plugin\\\";\\n};\\nlet f3 = fit::handleTask(context3);\\n\\nlet context4 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.phone_number_cleaner_plugin\\\";\\n};\\nlet f4 = fit::handleTask(context4);\\n\\nlet context5 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.credit_card_number_cleaner_plugin\\\";\\n};\\nlet f5 = fit::handleTask(context5);\\n\\nlet context6 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.email_cleaner_plugin\\\";\\n};\\nlet f6 = fit::handleTask(context6);\\n\\nlet context7 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.ip_address_cleaner_plugin\\\";\\n};\\nlet f7 = fit::handleTask(context7);\\n\\nlet context8 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.id_number_cleaner_plugin\\\";\\n};\\nlet f8 = fit::handleTask(context8);\\n\\next::context >> f1 >> f2 >> f3 >> f4 >> f5 >> f6 >> f7 >> f8\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.url_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.sexual_and_violent_word_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.political_word_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.phone_number_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.credit_card_number_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.email_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.ip_address_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.id_number_cleaner_plugin\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"xvxbl8\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"p2xy5m\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"特殊词替换\"}],\"x\":1196,\"y\":394.88,\"width\":66,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"p2xy5m\\\">特殊词替换</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":75,\"x\":1256,\"y\":348,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"yhslmz\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-09T03:49:22.667Z\"},\"createUser\":\"孙怡菲 s00664640\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"aypaok\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"index\":116,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"unz8sp\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"ck592t\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"textX\":0,\"textY\":0,\"toShape\":\"u0269r\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.161Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":46,\"x\":635,\"y\":360,\"container\":\"elsa-page:s0ed8a\"}]}],\"version\":\"1.0.0\"}";
//
//         JSONObject json = JSONObject.parseObject(data);
//         System.out.println(json);
//         JSONObject page = (JSONObject) json.getJSONArray("pages").get(0);
//         String pageId = page.getString("id");
//         JSONArray shapes = page.getJSONArray("shapes");
//         List<String> shapeIds = shapes.stream().map(shape -> ((JSONObject)shape).getString("id")).collect(Collectors.toList());
//         data = data.replaceAll(pageId, "elsa-page:"+generateRandomString());
//         for (String shapeId: shapeIds) {
//             data = data.replaceAll(shapeId, generateRandomString());
//         }
//         return data;
//     }
//
//     private static String generateRandomString() {
//         Random random = new Random();
//         int firstPart = random.nextInt(46656);
//         int secondPart = random.nextInt(46656);
//
//         String firstPartStr = "000" + Integer.toString(firstPart, 36);
//         String secondPartStr = "000" + Integer.toString(secondPart, 36);
//         return firstPartStr.substring(firstPartStr.length() - 3) + secondPartStr.substring(secondPartStr.length() - 3);
//     }
//
//
//     private static String getNewGraphData1() {
//         String data = "{\"id\":\"f2cbb42cea69464db79558d1d5eb989f\",\"title\":\"数据清洗模板\",\"createTime\":{\"$date\":\"2023-11-10T11:48:06.839Z\"},\"source\":\"elsa\",\"type\":\"graph\",\"tenant\":\"default\",\"setting\":{\"borderColor\":\"steelblue\",\"backColor\":\"whitesmoke\",\"headColor\":\"steelblue\",\"fontColor\":\"steelblue\",\"captionfontColor\":\"whitesmoke\",\"fontFace\":\"arial\",\"captionfontFace\":\"arial black\",\"fontSize\":12,\"captionfontSize\":14,\"fontStyle\":\"normal\",\"captionfontStyle\":\"normal\",\"fontWeight\":\"lighter\",\"captionfontWeight\":\"lighter\",\"hAlign\":\"center\",\"vAlign\":\"top\",\"captionhAlign\":\"center\",\"lineHeight\":1.5,\"lineWidth\":2,\"captionlineHeight\":1,\"focusMargin\":0,\"focusBorderColor\":\"darkorange\",\"focusFontColor\":\"darkorange\",\"focusBackColor\":\"whitesmoke\",\"mouseInColor\":\"orange\",\"mouseInBorderColor\":\"orange\",\"mouseInFontColor\":\"orange\",\"mouseInBackColor\":\"whitesmoke\",\"borderWidth\":1,\"globalAlpha\":1,\"backAlpha\":0.15,\"cornerRadius\":4,\"dashWidth\":0,\"autoText\":false,\"autoHeight\":false,\"autoWidth\":false,\"margin\":25,\"pad\":10,\"code\":\"\",\"rotateDegree\":0,\"shadow\":false,\"shadowData\":\"2px 2px 4px\",\"outstanding\":false,\"pDock\":\"none\",\"dockMode\":\"none\",\"priority\":0,\"infoType\":{\"next\":\"INFORMATION\",\"name\":\"none\"},\"progressStatus\":{\"next\":\"UNKNOWN\",\"color\":\"gray\",\"name\":\"NONE\"},\"progressPercent\":0.65,\"showedProgress\":false,\"itemPad\":[5,5,5,5],\"itemScroll\":{\"x\":0,\"y\":0},\"scrollLock\":{\"x\":false,\"y\":false},\"resizeable\":true,\"selectable\":true,\"rotateAble\":true,\"editable\":true,\"moveable\":true,\"dragable\":true,\"visible\":true,\"deletable\":true,\"allowLink\":true,\"shared\":false,\"strikethrough\":false,\"underline\":false,\"numberedList\":false,\"bulletedList\":false,\"enableAnimation\":false,\"enableSocial\":true,\"emphasized\":false,\"bulletSpeed\":1,\"tag\":{}},\"pages\":[{\"id\":\"elsa-page:s0ed8a\",\"backColor\":\"white\",\"bold\":false,\"borderColor\":\"white\",\"container\":\"elsa-page:s0ed8a\",\"createTime\":{\"$date\":\"2023-11-10T11:48:06.84Z\"},\"createUser\":\"孙怡菲 s00664640\",\"dirty\":false,\"dockAlign\":\"top\",\"dockMode\":\"none\",\"fontColor\":\"#ECD0A7\",\"fontFace\":\"arial\",\"fontSize\":18,\"fontStyle\":\"normal\",\"fontWeight\":\"bold\",\"hAlign\":\"left\",\"height\":1207,\"hideText\":true,\"index\":0,\"isDeleted\":false,\"isPage\":true,\"italic\":false,\"itemPad\":[0,0,0,0],\"itemScroll\":{\"x\":0,\"y\":0},\"itemSpace\":5,\"mode\":\"configuration\",\"moveable\":true,\"namespace\":\"elsa\",\"shapesAs\":{},\"text\":\"--\",\"type\":\"page\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"vAlign\":\"top\",\"version\":\"1.0.0\",\"width\":2489,\"x\":0,\"y\":0,\"shapes\":[{\"id\":\"47znlp\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-08T11:23:51.883Z\"},\"createUser\":\"杨祥宇 y00679285\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":true,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"dme9x4\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"index\":112,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"749ln0\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"25mqo7\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"textX\":0,\"textY\":0,\"toShape\":\"fdgspe\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":48,\"x\":858,\"y\":358,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"6bcpgm\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":22,\"inShared\":\"\",\"index\":106,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.unicode_space_cleaner_plugin\",\"com.huawei.eDataMate.operators.extra_space_cleaner_plugin\",\"com.huawei.eDataMate.operators.full_width_characters_cleaner_plugin\",\"com.huawei.eDataMate.operators.invisible_characters_cleaner_plugin\",\"com.huawei.eDataMate.operators.content_cleaner_plugin\",\"com.huawei.eDataMate.operators.legend_cleaner_plugin\",\"com.huawei.eDataMate.operators.emoji_cleaner_plugin\",\"com.huawei.eDataMate.operators.html_tag_cleaner_plugin\",\"com.huawei.eDataMate.operators.traditional_chinese_plugin\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"let context1 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.unicode_space_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f1 = fit::handleTask(context1);\\n\\nlet context2 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.extra_space_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f2 = fit::handleTask(context2);\\n\\nlet context3 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.full_width_characters_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f3 = fit::handleTask(context3);\\n\\nlet context4 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.invisible_characters_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f4 = fit::handleTask(context4);\\n\\nlet context5 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.content_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f5 = fit::handleTask(context5);\\n\\nlet context6 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.legend_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f6 = fit::handleTask(context6);\\n\\nlet context7 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.emoji_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f7 = fit::handleTask(context7);\\n\\nlet context8 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.html_tag_cleaner_plugin\\\";\\n    .async = true;\\n};\\nlet f8 = fit::handleTask(context8);\\n\\nlet context9 = entity{\\n    .id = \\\"com.huawei.eDataMate.operators.traditional_chinese_plugin\\\";\\n    .async = true;\\n};\\nlet f9 = fit::handleTask(context9);\\n\\next::context >> f1 >> f2 >> f3 >> f4 >> f5 >> f6 >> f7 >> f8 >> f9\"},\"type\":\"ohscript_jober\",\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.content_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.legend_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.full_width_characters_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.invisible_characters_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.unicode_space_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.extra_space_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.traditional_chinese_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.emoji_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.html_tag_cleaner_plugin\",\"timeout\":5,\"retryNum\":2}],\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"8rlt4l\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"yjt4gm\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"异常清洗\"}],\"x\":981,\"y\":331.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"yjt4gm\\\">异常清洗</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":1023,\"y\":347,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"9c4wri\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"description\":\"配置filter，等待前面的所有都执行完（考虑前面节点的批次来识别）\",\"dirty\":false,\"enableAnimation\":true,\"fitables\":[\"ee38955917ba4e86b5003e49968dc02f\"],\"height\":22,\"inShared\":\"\",\"index\":105,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.remove_duplicate_sentences_plugin\"],\"entity\":{\"retryNum\":2,\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.remove_duplicate_sentences_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\next::context >> f1\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.remove_duplicate_sentences_plugin\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"b1samh\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"skjeni\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"数据去重\"}],\"x\":1072,\"y\":404.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"skjeni\\\">数据去重</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":1136,\"y\":349,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"aypaok\",\"autoWidth\":false,\"bold\":false,\"borderWidth\":0,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":30,\"hideText\":true,\"inShared\":\"\",\"index\":100,\"isDeleted\":false,\"italic\":false,\"joberFilter\":{\"threshold\":1},\"margin\":10,\"namespace\":\"flowable\",\"oldId\":\"reqro4\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"text\":\"开始\",\"triggerMode\":\"auto\",\"type\":\"start\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":30,\"x\":605,\"y\":345,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"bwqm2v\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"mn99eb\",\"hAlign\":\"center\",\"height\":0,\"hideText\":false,\"inShared\":\"\",\"index\":109,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":30,\"namespace\":\"flowable\",\"oldId\":\"ew5gy9\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"7cmdel\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"kchcrt\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":61,\"x\":1427,\"y\":360,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"dkymmq\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"9c4wri\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"inShared\":\"\",\"index\":102,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"wjovcu\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"rkbeu1\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"uz9ckd\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":57,\"x\":1199,\"y\":360,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"dme9x4\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":true,\"enableAnimation\":true,\"fitables\":[\"http\"],\"height\":22,\"httpFitableMeta\":{\"name\":\"extract_text\",\"httpUrl\":\"http://10.169.46.234:7767/extract_text\",\"httpMethod\":\"post\",\"params\":\"{\\\"\\\" }\"},\"inShared\":\"\",\"index\":115,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.pdf_extractor_plugin\",\"com.huawei.eDataMate.operators.word_extractor_plugin\",\"com.huawei.eDataMate.operators.md_extractor_plugin\",\"com.huawei.eDataMate.operators.xml_extractor_plugin\",\"com.huawei.eDataMate.operators.txt_extractor_plugin\",\"com.huawei.eDataMate.operators.html_extractor_plugin\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"var type = ext::context.get(0).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"fileType\\\");\\n\\nif(type==\\\"pdf\\\"){\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.pdf_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"word\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.word_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"md\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.md_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"xml\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.xml_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"html\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.html_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\\n\\nif (type == \\\"txt\\\") {\\n    let context1 = entity{\\n        .async = true; .id = \\\"com.huawei.eDataMate.operators.txt_extractor_plugin\\\";\\n    };\\n    let f1 = fit::handleTask(context1);\\n    ext::context >> f1\\n}\"},\"type\":\"ohscript_jober\",\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.pdf_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.word_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.md_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.xml_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.txt_extractor_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.html_extractor_plugin\",\"timeout\":5,\"retryNum\":2}],\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"taj1fk\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"text\":[{\"attributes\":{\"id\":\"l6p34f\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"文本抽取\"}],\"x\":619,\"y\":746,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"l6p34f\\\">文本抽取</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.161Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":795,\"y\":347,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"fdgspe\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"fitables\":[\"ee38955917ba4e86b5003e49968dc02f\"],\"height\":22,\"inShared\":\"\",\"index\":103,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.remove_file_with_short_length_plugin\"],\"entity\":{\"retryNum\":2,\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.remove_file_with_short_length_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\next::context >> f1\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.remove_file_with_short_length_plugin\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"u3m12b\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"clpv99\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"文档过滤\"}],\"x\":828,\"y\":405.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"clpv99\\\">文档过滤</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":906,\"y\":346,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"gmk125\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-08T12:05:46.363Z\"},\"createUser\":\"杨祥宇 y00679285\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":true,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"u0269r\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"index\":113,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"vwvv8i\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"9xoeco\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"textX\":0,\"textY\":0,\"toShape\":\"dme9x4\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":51,\"x\":744,\"y\":359,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"kchcrt\",\"autoWidth\":false,\"bold\":false,\"borderWidth\":0,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":30,\"hideText\":true,\"inShared\":\"\",\"index\":111,\"isDeleted\":false,\"italic\":false,\"joberFilter\":{\"threshold\":1},\"margin\":10,\"namespace\":\"flowable\",\"oldId\":\"av18ky\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"text\":\"结束\",\"triggerMode\":\"auto\",\"type\":\"end\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":30,\"x\":1488,\"y\":345,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"kcz9qm\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-07T14:12:08.709Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"fdgspe\",\"hAlign\":\"center\",\"height\":1,\"hideText\":false,\"index\":114,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"orp5lo\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"0zubh3\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"6bcpgm\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":54,\"x\":969,\"y\":357,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"l81vnh\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"uz9ckd\",\"hAlign\":\"center\",\"height\":1,\"hideText\":false,\"inShared\":\"\",\"index\":108,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"xdysx3\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"cyd7s9\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"mn99eb\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":33,\"x\":1331,\"y\":359,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"mn99eb\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":22,\"inShared\":\"\",\"index\":110,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.localized_file_plugin\",\"6a6084c0d1e243e7b327cb1a0ba068e2\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.localized_file_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\nlet context2 = entity{\\n    .async = true; .id = \\\"6a6084c0d1e243e7b327cb1a0ba068e2\\\";\\n};\\nlet f2 = fit::handleTask(context2);\\n\\next::context >> f1 >> f2\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.localized_file_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"6a6084c0d1e243e7b327cb1a0ba068e2\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"gu877l\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{\"fitables\":[],\"entity\":{\"retryNum\":2}},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"nxh983\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"数据落盘\"}],\"x\":1352,\"y\":402.52,\"width\":66,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"nxh983\\\">数据落盘</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":1364,\"y\":349,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"sebo1y\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"comments\":[],\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"6bcpgm\",\"hAlign\":\"center\",\"height\":2,\"hideText\":false,\"inShared\":\"\",\"index\":104,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29,\"namespace\":\"flowable\",\"oldId\":\"pwzfti\",\"pad\":0,\"preInShared\":\"\",\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"67pdhh\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"toShape\":\"9c4wri\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":50,\"x\":1086,\"y\":358,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"u0269r\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"description\":\"从用户指定地址读取相应的文件，要求每读取完成一个文件都能自动流转到下一个节点去提取文件内容，无需等待所有文件都读取完成，即一次提交n次输出，输出每个文件的地址列表\",\"dirty\":true,\"enableAnimation\":true,\"fitables\":[\"http\"],\"height\":22,\"httpFitableMeta\":{\"name\":\"\",\"httpUrl\":\"\",\"httpMethod\":\"post\",\"params\":\"\"},\"inShared\":\"\",\"index\":101,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.directory_scanner_plugin\"],\"entity\":{\"retryNum\":2,\"code\":\"let context1 = entity{\\n    .async = true;\\n    .id = \\\"com.huawei.eDataMate.operators.directory_scanner_plugin\\\";\\n    };\\nlet f1 = fit::handleTask(context1);\\nlet ans = ext::context >> f1;\\nfor(var i=0; i<ans.size(); i++){\\n   let filePath = ans.get(i).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"filePath\\\");\\n   let fileName = ans.get(i).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"fileName\\\");\\n   let fileID = ans.get(i).get(\\\"passData\\\").get(\\\"meta\\\").get(\\\"fileID\\\");\\n   ans.get(i).get(\\\"businessData\\\").put(\\\"filePath\\\",filePath);\\n   ans.get(i).get(\\\"businessData\\\").put(\\\"fileName\\\",fileName);\\n   ans.get(i).get(\\\"businessData\\\").put(\\\"fileID\\\",fileID);\\n}\\nans\"},\"type\":\"ohscript_jober\",\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.directory_scanner_plugin\",\"timeout\":5,\"retryNum\":2}],\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"4a73nf\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"xnb5f6\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"文件读取\"}],\"x\":395,\"y\":379.52,\"width\":48,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"xnb5f6\\\">文件读取</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":63,\"x\":681,\"y\":348,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"uz9ckd\",\"autoHeight\":true,\"autoWidth\":true,\"bold\":false,\"comments\":[],\"completedTask\":0,\"createTime\":{\"$date\":\"2023-10-24T10:27:32.097Z\"},\"createUser\":\"马莉亚 m00558975\",\"dirty\":false,\"enableAnimation\":true,\"height\":22,\"inShared\":\"\",\"index\":107,\"isDeleted\":false,\"italic\":false,\"jober\":{\"fitables\":[\"com.huawei.eDataMate.operators.url_cleaner_plugin\",\"com.huawei.eDataMate.operators.sexual_and_violent_word_cleaner_plugin\",\"com.huawei.eDataMate.operators.political_word_cleaner_plugin\",\"com.huawei.eDataMate.operators.phone_number_cleaner_plugin\",\"com.huawei.eDataMate.operators.credit_card_number_cleaner_plugin\",\"com.huawei.eDataMate.operators.email_cleaner_plugin\",\"com.huawei.eDataMate.operators.ip_address_cleaner_plugin\",\"com.huawei.eDataMate.operators.id_number_cleaner_plugin\"],\"entity\":{\"retryNum\":2,\"order\":\"parallel\",\"code\":\"let context1 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.url_cleaner_plugin\\\";\\n};\\nlet f1 = fit::handleTask(context1);\\n\\nlet context2 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.sexual_and_violent_word_cleaner_plugin\\\";\\n};\\nlet f2 = fit::handleTask(context2);\\n\\nlet context3 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.political_word_cleaner_plugin\\\";\\n};\\nlet f3 = fit::handleTask(context3);\\n\\nlet context4 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.phone_number_cleaner_plugin\\\";\\n};\\nlet f4 = fit::handleTask(context4);\\n\\nlet context5 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.credit_card_number_cleaner_plugin\\\";\\n};\\nlet f5 = fit::handleTask(context5);\\n\\nlet context6 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.email_cleaner_plugin\\\";\\n};\\nlet f6 = fit::handleTask(context6);\\n\\nlet context7 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.ip_address_cleaner_plugin\\\";\\n};\\nlet f7 = fit::handleTask(context7);\\n\\nlet context8 = entity{\\n    .async = true; .id = \\\"com.huawei.eDataMate.operators.id_number_cleaner_plugin\\\";\\n};\\nlet f8 = fit::handleTask(context8);\\n\\next::context >> f1 >> f2 >> f3 >> f4 >> f5 >> f6 >> f7 >> f8\"},\"fitablesConfig\":[{\"id\":\"com.huawei.eDataMate.operators.url_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.sexual_and_violent_word_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.political_word_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.phone_number_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.credit_card_number_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.email_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.ip_address_cleaner_plugin\",\"timeout\":5,\"retryNum\":2},{\"id\":\"com.huawei.eDataMate.operators.id_number_cleaner_plugin\",\"timeout\":5,\"retryNum\":2}],\"type\":\"ohscript_jober\",\"retryNum\":2},\"joberFilter\":{\"threshold\":1,\"type\":\"BATCH_FILTER\"},\"namespace\":\"flowable\",\"oldId\":\"xvxbl8\",\"pad\":6,\"preInShared\":\"\",\"rotateAble\":false,\"runningTask\":0,\"task\":{},\"taskFilter\":{\"threshold\":1},\"text\":[{\"attributes\":{\"id\":\"p2xy5m\"},\"name\":\"paragraph\",\"children\":[{\"data\":\"特殊词替换\"}],\"x\":1196,\"y\":394.88,\"width\":66,\"height\":18}],\"textInnerHtml\":\"<p id=\\\"p2xy5m\\\">特殊词替换</p>\",\"triggerMode\":\"auto\",\"type\":\"state\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.16Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"warningTask\":0,\"width\":75,\"x\":1256,\"y\":348,\"container\":\"elsa-page:s0ed8a\"},{\"id\":\"yhslmz\",\"allowLink\":false,\"backColor\":\"white\",\"beginArrow\":false,\"beginArrowEmpty\":false,\"beginArrowSize\":4,\"bold\":false,\"borderWidth\":1,\"createTime\":{\"$date\":\"2023-11-09T03:49:22.667Z\"},\"createUser\":\"孙怡菲 s00664640\",\"curvePoint1\":{\"x\":0,\"y\":0},\"curvePoint2\":{\"x\":0,\"y\":0},\"dashWidth\":0,\"definedFromConnector\":\"E\",\"definedToConnector\":\"W\",\"dirty\":false,\"endArrow\":true,\"endArrowEmpty\":false,\"endArrowSize\":4,\"endpointOffsetX\":0,\"endpointOffsetY\":0,\"fromShape\":\"aypaok\",\"hAlign\":\"center\",\"height\":-1,\"hideText\":false,\"index\":116,\"isDeleted\":false,\"italic\":false,\"lineMode\":{\"type\":\"broken\"},\"lineWidth\":2,\"margin\":29.5,\"namespace\":\"flowable\",\"oldId\":\"unz8sp\",\"pad\":0,\"text\":\"\",\"textInnerHtml\":\"<p id=\\\"ck592t\\\"><br data-cke-filler=\\\"true\\\"></p>\",\"textX\":0,\"textY\":0,\"toShape\":\"u0269r\",\"type\":\"event\",\"updateTime\":{\"$date\":\"2023-12-27T07:39:33.161Z\"},\"updateUser\":\"孙怡菲 s00664640\",\"version\":\"1.0.0\",\"width\":46,\"x\":635,\"y\":360,\"container\":\"elsa-page:s0ed8a\"}]}],\"version\":\"1.0.0\"}";
//         JSONObject json = JSONObject.parseObject(data);
//
//
//         JSONObject page = json.getJSONArray("pages").getJSONObject(0);
//         String pageId = page.getString("id");
//         JSONArray shapes = page.getJSONArray("shapes");
//         List<String> shapeIds = shapes.stream().map(shape -> ((JSONObject)shape).getString("id")).collect(Collectors.toList());
//
//         StringBuilder newData = new StringBuilder(data);
//
//         // 使用 StringBuilder 进行替换
//         replaceIdInJsonString(newData, pageId, "elsa-page:"+ generateRandomString());
//
//         for (String shapeId: shapeIds) {
//             replaceIdInJsonString(newData, shapeId, generateRandomString());
//         }
//
//         return newData.toString();
//     }
//
//     private static void replaceIdInJsonString(StringBuilder json, String oldId, String newId) {
//         int startIndex = json.indexOf(oldId);
//         while (startIndex != -1) {
//             json.replace(startIndex, startIndex + oldId.length(), newId);
//             startIndex = json.indexOf(oldId, startIndex + newId.length());
//         }
//     }
//
//     // 调用示例
//     // String data = ...; // 从某处获取 JSON 字符串
//     // JSONObject json = JSONObject.parseObject(data);
//     // String newData = getNewGraphData(json);
//
//
// }