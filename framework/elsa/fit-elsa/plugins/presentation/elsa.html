<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>elsa</title>
    <script src='../../common/util.js'></script>
    <script src='../../common/dom2image.js'></script>
    <script src='../../common/extensions/arrayExtension.js'></script>
    <script src='../../common/extensions/canvasExtension.js'></script>
    <script src='../../common/extensions/collectionExtension.js'></script>
    <script src='../../common/extensions/dateExtension.js'></script>
    <script src='../../common/extensions/stringExtension.js'></script>
    <script src='../../common/const.js'></script>
    <script src='../../actions/keyActions.js'></script>
    <script src='../../actions/mouseActions.js'></script>
    <script src='../../core/drawers/htmlDrawer.js'></script>
    <script src='../../core/drawers/canvasDrawer.js'></script>
    <script src='../../core/drawers/lineDrawer.js'></script>
    <script src='../../core/drawers/rectangleDrawer.js'></script>
    <script src='../../core/drawers/svgDrawer.js'></script>
    <script src='../../core/drawers/containerDrawer.js'></script>
    <script src='../../core/drawers/cursorDrawer.js'></script>
    <script src='../../core/drawers/pageDrawer.js'></script>
    <script src='../../core/drawers/interactDrawer.js'></script>
    <script src='../../core/drawers/animationDrawer.js'></script>
    <script src='../../core/connector.js'></script>
    <script src='../../core/shape.js'></script>
    <script src='../../core/line.js'></script>
    <script src='../../core/container.js'></script>
    <script src='../../core/vector.js'></script>
    <script src='../../core/others.js'></script>
    <script src='../../core/group.js'></script>
    <script src='../../core/page.js'></script>
    <script src='../../core/graph.js'></script>
    <script src='../../core/atom.js'></script>
    <script src='../../core/rectangle.js'></script>
    <script src='../../core/table.js'></script>
    <script src='../../core/image.js'></script>
    <script src='../../core/svg.js'></script>
    <script src='../../core/icon.js'></script>
    <script src='../../core/hitRegion.js '></script>
    <script src='../../core/history.js '></script>
    <script src='../../core/thumb.js '></script>
    <script src='../../core/reference.js '></script>
    <script src='../../core/sticker.js '></script>
    <script src='presentation.js '></script>
    <script src='frame.js'></script>
    <script src='textList.js'></script>
    <script src='presentationActions.js'></script>
    <!-- <script src='space.jpg'></script> -->

    <script language="javascript">

        window.onload = () => {
            let g = presentation(document.getElementById("page4"), "HUA WEI - E.L.S.A");
            let p1 = g.addPage("page1", document.getElementById("page1"));
            let s1 = p1.createNew("rectangle", 200, 120);
            s1.clickCode = "console.log('this is user code....')";
            s1.loadCode = "console.log('im loading now....')";
            s1.autoHeight = true;
            let s2 = p1.createNew("table", 400, 140);
            let s3 = p1.createNew("frameList", 480, 360);
            s3.getShapes()[0].emphasized = true;
            s3.getShapes()[0].enableAnimation = true;

            let s4 = p1.createNew("vector", 20, 100);
            let s5 = p1.createNew("svg", 20, 240);

            p1.createAnimation(s1, ANIMIATION_ACTION.IN, "flyIn", ANIMATION_TRIGGER.CLICK);
            p1.createCodeAnimation(ANIMATION_TRIGGER.CLICK, "console.log('im code animating....');", "console.log('code animating end....');");
            p1.createAnimation(s2, ANIMIATION_ACTION.IN, "shrink", ANIMATION_TRIGGER.CLICK);
            p1.createAnimation(s3, ANIMIATION_ACTION.IN, "moveIn", ANIMATION_TRIGGER.FOLLOW, s2.id);
            p1.createAnimation(s3, ANIMIATION_ACTION.OUT, "moveOut", ANIMATION_TRIGGER.CLICK);
            p1.createAnimation(s4, ANIMIATION_ACTION.IN, "shrink", ANIMATION_TRIGGER.CLICK);
            p1.createAnimation(s5, ANIMIATION_ACTION.IN, "rotateIn", ANIMATION_TRIGGER.CLICK);
            p1.createAnimation(s4, ANIMIATION_ACTION.OUT, "expand", ANIMATION_TRIGGER.FOLLOW, s5.id);
            //p1.outMethod = "fadeOut";
            p1.scaleX = p1.scaleY = 0.7;
            p1.reset();

            let p2 = g.addPage("page2", document.getElementById("page2"));
            //p2.scaleX = p2.scaleY = 0.8;
            p2.getFrame().background = 'space.jpg';
            p2.createNew("vector", 450, 30);//.enableAnimation = true;
            p2.createNew("vector", 650, 30);
            let s6 = p2.createNew("icon", 700, 300);
            let s7 = p2.createNew("icon", 500, 260);
            let s8 = p2.createNew("icon", 500, 350);
            p2.createAnimation(s6, ANIMIATION_ACTION.IN, "fadeIn", ANIMATION_TRIGGER.FOLLOW, p2.id);
            p2.createAnimation(s7, ANIMIATION_ACTION.IN, "fadeIn", ANIMATION_TRIGGER.FOLLOW, p2.id);
            p2.createAnimation(s8, ANIMIATION_ACTION.IN, "fadeIn", ANIMATION_TRIGGER.CLICK);
            p2.basePage = p1.id;
            //p2.geoScale = true;
            p2.reset();

            let p3 = g.addPage("page3", document.getElementById("page3"));
            //p3.scaleX = p3.scaleY = 0.8;
            let rd1 = p3.createNew("rectangle", 650, 320);//.borderWidth = 6;
            rd1.height = 60;
            rd1.backColor = "red";
            rd1.text = "dock top";
            rd1.pDock = PARENT_DOCK_MODE.TOP;

            let rd2 = p3.createNew("rectangle", 650, 320);//.borderWidth = 6;
            rd2.width = 60;
            rd2.backColor = "green";
            rd2.text = "dock left";
            rd2.pDock = PARENT_DOCK_MODE.LEFT;

            let rd3 = p3.createNew("rectangle", 650, 320);//.borderWidth = 6;
            rd3.height = 60;
            rd3.backColor = "yellow";
            rd3.text = "dock top";
            rd3.pDock = PARENT_DOCK_MODE.TOP;

            let rd4 = p3.createNew("rectangle", 650, 320);//.borderWidth = 6;
            rd4.width = 60;
            rd4.backColor = "orange";
            rd4.text = "dock right";
            rd4.pDock = PARENT_DOCK_MODE.RIGHT;

            let rd5 = p3.createNew("rectangle", 650, 320);//.borderWidth = 6;
            rd5.height = 60;
            rd5.backColor = "blue";
            rd5.text = "dock bottom";
            rd5.pDock = PARENT_DOCK_MODE.BOTTOM;

            let rd6 = p3.createNew("rectangle", 650, 320);//.borderWidth = 6;
            rd6.height = 60;
            rd6.backColor = "lightgray";
            rd6.text = "dock FILL";
            rd6.pDock = PARENT_DOCK_MODE.FILL;

            p3.basePage = p2.id;
            p3.inMethod = "shrink";
            p3.reset();

            p1.dirtied = () => {
                p2.getFrame().refer();
                p2.invalidate();
                p2.dirtied();
            }
            p2.dirtied = () => {
                p3.getFrame().refer();
                p3.invalidate();
            }

            // document.getElementById("page1").innerHTML = "";
            // document.getElementById("page2").innerHTML = "";
            // document.getElementById("page3").innerHTML = "";
            g.present();
            p3.dirtied = () => {
                let data = g.serialize();
                g.deSerialize(data);
            }
            // let data = g.serialize();
            // g.deSerialize(data);

            //p1.wantedShape = "countdown";

        }
    </script>

</head>

<body>
<div id="page4" style="left:300px;  width:500px; height: 600px;position: absolute;"></div>
<div id="page1" style="top:720px;width:1200px; height: 700px;position: absolute;"></div>
<div id="page2" style="top:1440px;width:1200px; height: 700px;position: absolute;"></div>
<div id="page3" style="top:2160px;width:1200px; height: 700px;position: absolute;"></div>

<!-- <div id="point" style="width:6px; height: 6px;position: absolute;left:397px;top:397px;background-color: brown;"></div> -->
<!-- <button onclick="p.save()">Save as image (tested on PC browser only)</button> -->

</body>

</html>